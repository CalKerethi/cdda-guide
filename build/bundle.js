!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function h(){return p("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function v(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let b;function x(t){b=t}function w(){if(!b)throw new Error("Function called outside component initialization");return b}function S(t){return w().$$.context.get(t)}const E=[],T=[],$=[],O=[],k=Promise.resolve();let C=!1;function I(t){$.push(t)}let M=!1;const R=new Set;function A(){if(!M){M=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];x(e),N(e.$$)}for(x(null),E.length=0;T.length;)T.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];R.has(e)||(R.add(e),e())}$.length=0}while(E.length);for(;O.length;)O.pop()();C=!1,M=!1,R.clear()}}function N(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const L=new Set;let D;function j(){D={r:0,c:[],p:D}}function B(){D.r||r(D.c),D=D.p}function P(t,e){t&&t.i&&(L.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),D.c.push((()=>{L.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function U(t,e){F(t,1,1,(()=>{e.delete(t.key)}))}function H(t){t&&t.c()}function W(t,n,i,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(n,i),s||I((()=>{const n=l.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(I)}function G(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,e){-1===t.$$.dirty[0]&&(E.push(t),C||(C=!0,k.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,o,i,s,a,l,u=[-1]){const d=b;x(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let f=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),f&&Y(e,t)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&P(e.$$.fragment),W(e,o.target,o.anchor,o.customElement),A()}x(d)}class z{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V=[];function K(e,n=t){let r;const o=[];function s(t){if(i(e,t)&&(e=t,r)){const t=!V.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),V.push(n,e)}if(t){for(let t=0;t<V.length;t+=2)V[t][0](V[t+1]);V.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const l=[i,a];return o.push(l),1===o.length&&(r=n(s)||t),i(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}const X=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["uncraft","recipe"]]),Z=t=>{var e;return null!==(e=X.get(t))&&void 0!==e?e:t},Q=t=>"string"==typeof t?t:"str_sp"in t?t.str_sp:t.str,tt=t=>{var e,n;return Q(null!==(n=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:null==t?void 0:t.id)&&void 0!==n?n:null==t?void 0:t.abstract)},et=t=>{var e,n,r;return"string"==typeof(r=null!==(n=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:null==t?void 0:t.id)&&void 0!==n?n:null==t?void 0:t.abstract)?r+"s":"str_sp"in r?r.str_sp:"str_pl"in r?r.str_pl:r.str+"s"};function nt(t){return void 0===t?0:"number"==typeof t?250*t:t.endsWith("ml")?parseInt(t):t.endsWith("L")?1e3*parseInt(t):void 0}function rt(t){return void 0===t?0:"number"==typeof t?t:t.endsWith("mg")?parseInt(t)/1e3:t.endsWith("kg")?1e3*parseInt(t):t.endsWith("g")?parseInt(t):void 0}function ot(t){return`${(nt(t)/1e3).toFixed(2)} L`}function it(t){return`${(rt(t)/1e3).toFixed(2)} kg`}class st{constructor(t){this._byType=new Map,this._byTypeById=new Map,this._abstractsByType=new Map,this._toolReplacements=new Map,this._craftingPseudoItems=new Map,this._migrations=new Map,this._flattenCache=new Map,this._cachedDeathDrops=new Map,this._raw=t;for(const e of t){if(!Object.hasOwnProperty.call(e,"type"))continue;if("MIGRATION"===e.type){for(const t of"string"==typeof e.id?[e.id]:e.id){const{replace:n}=e;this._migrations.set(t,n)}continue}const t=Z(e.type);if(this._byType.has(t)||this._byType.set(t,[]),this._byType.get(t).push(e),Object.hasOwnProperty.call(e,"id")&&(this._byTypeById.has(t)||this._byTypeById.set(t,new Map),this._byTypeById.get(t).set(e.id,e)),"recipe"===t&&Object.hasOwnProperty.call(e,"result")){this._byTypeById.has(t)||this._byTypeById.set(t,new Map);const n=e.result+(e.id_suffix?"_"+e.id_suffix:"");this._byTypeById.get(t).set(n,e)}Object.hasOwnProperty.call(e,"abstract")&&(this._abstractsByType.has(t)||this._abstractsByType.set(t,new Map),this._abstractsByType.get(t).set(e.abstract,e)),"TOOL"===e.type&&Object.hasOwnProperty.call(e,"sub")&&(this._toolReplacements.has(e.sub)||this._toolReplacements.set(e.sub,[]),this._toolReplacements.get(e.sub).push(e.id)),Object.hasOwnProperty.call(e,"crafting_pseudo_item")&&this._craftingPseudoItems.set(e.crafting_pseudo_item,e.id)}}byId(t,e){var n;if("string"!=typeof e)throw new Error("Requested non-string id");if("item"===t&&this._migrations.has(e))return this.byId(t,this._migrations.get(e));const r=null===(n=this._byTypeById.get(t))||void 0===n?void 0:n.get(e);return r?this._flatten(r):void 0}byType(t){var e;return null!==(e=this._byType.get(t).map((t=>this._flatten(t))))&&void 0!==e?e:[]}replacementTools(t){var e;return null!==(e=this._toolReplacements.get(t))&&void 0!==e?e:[]}craftingPseudoItem(t){return this._craftingPseudoItems.get(t)}all(){return this._raw}_flatten(t){var e,n,r,o,i,s,a,l,c,u,d,p,f;const h=t;if(this._flattenCache.has(h))return this._flattenCache.get(h);const m="copy-from"in h?null!==(n=null===(e=this._byTypeById.get(Z(h.type)))||void 0===e?void 0:e.get(h["copy-from"]))&&void 0!==n?n:null===(r=this._abstractsByType.get(Z(h.type)))||void 0===r?void 0:r.get(h["copy-from"]):null;if("copy-from"in h&&!m&&console.error(`Missing parent in ${null!==(s=null!==(i=null!==(o=h.id)&&void 0!==o?o:h.abstract)&&void 0!==i?i:h.result)&&void 0!==s?s:JSON.stringify(h)}`),!m)return this._flattenCache.set(h,h),h;const g={...this._flatten(m),...h};for(const t of Object.keys(null!==(a=g.relative)&&void 0!==a?a:{}))"number"==typeof g.relative[t]&&(g[t]=(null!==(l=g[t])&&void 0!==l?l:0)+g.relative[t]);delete g.relative;for(const t of Object.keys(null!==(c=g.proportional)&&void 0!==c?c:{}))"number"==typeof g.proportional[t]&&("attack_cost"!==t||t in g||(g[t]=100),g[t]*=g.proportional[t],g[t]=0|g[t]);delete g.proportional;for(const t of Object.keys(null!==(u=g.extend)&&void 0!==u?u:{}))Array.isArray(g.extend[t])&&(g[t]=(null!==(d=g[t])&&void 0!==d?d:[]).concat(g.extend[t]));delete g.extend;for(const t of Object.keys(null!==(p=g.delete)&&void 0!==p?p:{}))Array.isArray(g.delete[t])&&(g[t]=(null!==(f=g[t])&&void 0!==f?f:[]).filter((e=>!g.delete[t].includes(e))));return this._flattenCache.set(h,g),g}flatDeathDrops(t){if(this._cachedDeathDrops.has(t))return this._cachedDeathDrops.get(t);const e=this.byId("monster",t),n=e.death_drops?at(this,(t=>{if(t)return"string"==typeof t?this.byId("item_group",t):Array.isArray(t)?{subtype:"distribution",entries:t}:{subtype:"distribution",...t}})(e.death_drops)):[];return n.sort(((t,e)=>e.prob-t.prob)),this._cachedDeathDrops.set(t,n),n}uncraftRecipe(t){let e;for(const n of this.byType("recipe"))if(n.result===t){if("uncraft"===n.type)return n;n.reversible&&(e=n)}return e}}function at(t,e){var n,r,o,i,s;const a=new Map;function l({id:t,prob:e,count:n}){var r;const{prob:o,count:i}=null!==(r=a.get(t))&&void 0!==r?r:{prob:0,count:[0,0]},s=1-(1-o)*(1-e),l=[n[0]+i[0],n[1]+i[1]];a.set(t,{prob:s,count:l})}function c(...t){t.forEach(l)}e["container-item"]&&c({id:e["container-item"],prob:1,count:[1,1]});const u=[];if("old"!==e.subtype&&e.subtype){for(const t of null!==(n=e.entries)&&void 0!==n?n:[])Array.isArray(t)?u.push({item:t[0],prob:t[1]}):u.push(t);for(const t of null!==(r=e.items)&&void 0!==r?r:[])Array.isArray(t)?u.push({item:t[0],prob:t[1]}):"string"==typeof t?u.push({item:t,prob:100}):u.push(t);for(const t of null!==(o=e.groups)&&void 0!==o?o:[])Array.isArray(t)?u.push({group:t[0],prob:t[1]}):"string"==typeof t?u.push({group:t,prob:100}):u.push(t)}else for(const t of e.items)Array.isArray(t)?u.push({item:t[0],prob:t[1]}):u.push(t);function d(t,e,n){return{id:t.id,prob:t.prob*e,count:[t.count[0]*n[0],t.count[1]*n[1]]}}function p(t){return t.count?"number"==typeof t.count?[t.count,t.count]:t.count:t.charges?"number"==typeof t.charges?[t.charges,t.charges]:t.charges:[1,1]}if("collection"===e.subtype)for(const e of u){const{prob:n=100}=e,r=Math.min(n,100)/100,o=p(e);if("item"in e)c({id:e.item,prob:r,count:o});else if("group"in e)c(...at(t,t.byId("item_group",e.group)).map((t=>d(t,r,o))));else if("collection"in e)c(...at(t,{subtype:"collection",entries:e.collection}).map((t=>d(t,r,o))));else{if(!("distribution"in e))throw new Error(`unknown item group entry: ${JSON.stringify(e)}`);c(...at(t,{subtype:"distribution",entries:e.distribution}).map((t=>d(t,r,o))))}}else{let e=0;for(const t of u)e+=null!==(i=t.prob)&&void 0!==i?i:100;for(const n of u){const r=(null!==(s=n.prob)&&void 0!==s?s:100)/e,o=p(n);if("item"in n)c({id:n.item,prob:r,count:o});else if("group"in n)c(...at(t,t.byId("item_group",n.group)).map((t=>d(t,r,o))));else if("collection"in n)c(...at(t,{subtype:"collection",entries:n.collection}).map((t=>d(t,r,o))));else{if(!("distribution"in n))throw new Error(`unknown item group entry: ${JSON.stringify(n)}`);c(...at(t,{subtype:"distribution",entries:n.distribution}).map((t=>d(t,r,o))))}}}return[...a.entries()].map((([t,e])=>({id:t,...e})))}function lt(t,e,n){var r;const o=[];for(const i of e)if(Array.isArray(i)){const[e,s,a]=i;if("LIST"===a){const i=t.byId("requirement",e);"requirement"!==i.type&&console.error(`Expected a requirement, got ${i.type} (id=${i.id})`);const a=(null!==(r=n(i))&&void 0!==r?r:[])[0];o.push(...lt(t,a,n).map((t=>({...t,count:t.count*s}))))}else o.push({id:e,count:s})}else{if("string"!=typeof i)throw new Error("unexpected choice type");o.push({id:i,count:1})}return o}function ct(t){return t.map((t=>Array.isArray(t)?t:[t]))}function ut(t,e,n){return ct(e).map((e=>lt(t,e,(t=>ct(n(t)))).flatMap((e=>function(t,e){const n=t.replacementTools(e.id);return[e,...n.map((t=>({id:t,count:e.count})))]}(t,e))))).filter((t=>t.length))}const dt=t=>"AMMO"===t.type||"COMESTIBLE"===t.type||t.stackable,pt=(()=>{let t;return()=>(t||(t=(async()=>{const t=await fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/data/latest/all.json",{mode:"cors"});if(!t.ok)throw new Error(`Error ${t.status} (${t.statusText}) fetching data`);const e=await t.json();return new st(e.data)})()),t)})(),ft=function(t,e){return{subscribe:K(t,e).subscribe}}(null,(function(t){pt().then(t)}));function ht(e){let n,r,o,i=(e[4]?(e[2]?et:tt)(e[4]):e[1])+"";return{c(){n=d("a"),r=p(i),g(n,"href",o="#/"+e[0]+"/"+e[1])},m(t,e){l(t,n,e),a(n,r)},p(t,e){6&e&&i!==(i=(t[4]?(t[2]?et:tt)(t[4]):t[1])+"")&&y(r,i),3&e&&o!==(o="#/"+t[0]+"/"+t[1])&&g(n,"href",o)},i:t,o:t,d(t){t&&c(n)}}}function mt(t){let e,n,r,o,i=!dt(t[4]),s=dt(t[4]),u=i&&function(t){let e;return{c(){e=p(t[3])},m(t,n){l(t,e,n)},p(t,n){8&n&&y(e,t[3])},d(t){t&&c(e)}}}(t);r=new _t({props:{type:t[0],id:t[1],plural:1!==t[3]&&!dt(t[4])}});let h=s&&function(t){let e,n,r,o,i=" ";return{c(){e=p(i),n=p("("),r=p(t[3]),o=p(")")},m(t,i){l(t,e,i),l(t,n,i),l(t,r,i),l(t,o,i)},p(t,e){8&e&&y(r,t[3])},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(o)}}}(t);return{c(){e=d("span"),u&&u.c(),n=f(),H(r.$$.fragment),h&&h.c(),v(e,"white-space","nowrap")},m(t,i){l(t,e,i),u&&u.m(e,null),a(e,n),W(r,e,null),h&&h.m(e,null),o=!0},p(t,e){i&&u.p(t,e);const n={};1&e&&(n.type=t[0]),2&e&&(n.id=t[1]),8&e&&(n.plural=1!==t[3]&&!dt(t[4])),r.$set(n),s&&h.p(t,e)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),u&&u.d(),G(r),h&&h.d()}}}function gt(t){let e,n,r,o;const i=[mt,ht],s=[];function a(t,e){return null!=t[3]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){s[e].m(t,n),l(t,r,n),o=!0},p(t,[o]){let l=e;e=a(t),e===l?s[e].p(t,o):(j(),F(s[l],1,1,(()=>{s[l]=null})),B(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){s[e].d(t),t&&c(r)}}}function yt(t,e,n){let{type:r}=e,{id:o}=e,{plural:i=!1}=e,{count:s}=e;let a=S("data").byId(r,o);return t.$$set=t=>{"type"in t&&n(0,r=t.type),"id"in t&&n(1,o=t.id),"plural"in t&&n(2,i=t.plural),"count"in t&&n(3,s=t.count)},[r,o,i,s,a]}class _t extends z{constructor(t){super(),J(this,t,yt,gt,i,{type:0,id:1,plural:2,count:3})}}function vt(t,e,n){const r=t.slice();return r[9]=e[n].id,r[10]=e[n].prob,r}function bt(t,e,n){const r=t.slice();return r[13]=e[n],r}function xt(t,e,n){const r=t.slice();return r[9]=e[n].id,r[10]=e[n].prob,r}function wt(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function St(t,e,n){const r=t.slice();return r[21]=e[n],r}function Et(t,e,n){const r=t.slice();return r[9]=e[n],r}function Tt(t){let e,n,r,o=t[0].bodytype+"";return{c(){e=d("dt"),e.textContent="Body Type",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].bodytype+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function $t(t){let e,n,r,o=(t[0].species??[]).join(", ")+"";return{c(){e=d("dt"),e.textContent="Species",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=(t[0].species??[]).join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Ot(e){let n,r,o;return r=new _t({props:{type:"material",id:e[9]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function kt(t){let e,n,r,o=t[0].special_attacks,i=[];for(let e=0;e<o.length;e+=1)i[e]=Ct(St(t,o,e));return{c(){e=d("dt"),e.textContent="Special attacks:",n=d("dd"),r=d("ul");for(let t=0;t<i.length;t+=1)i[t].c();g(r,"class","no-bullets")},m(t,o){l(t,e,o),l(t,n,o),a(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null)},p(t,e){if(1&e){let n;for(o=t[0].special_attacks,n=0;n<o.length;n+=1){const s=St(t,o,n);i[n]?i[n].p(s,e):(i[n]=Ct(s),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}},d(t){t&&c(e),t&&c(n),u(i,t)}}}function Ct(t){let e,n,r=Gt(t[21])+"";return{c(){e=d("li"),n=p(r)},m(t,r){l(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=Gt(t[21])+"")&&y(n,r)},d(t){t&&c(e)}}}function It(t){let e,n,r,o=t[0].anger_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Anger Triggers",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].anger_triggers.join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Mt(t){let e,n,r,o=t[0].placate_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Placate Triggers",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].placate_triggers.join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Rt(t){let e;return{c(){e=p(", ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function At(t){let e,n,r,o,i=t[18]+"",s=t[20]<t[0].flags.length-1&&Rt();return{c(){e=d("abbr"),n=p(i),s&&s.c(),o=h(),g(e,"title",r=t[3][t[18]])},m(t,r){l(t,e,r),a(e,n),s&&s.m(t,r),l(t,o,r)},p(t,a){1&a&&i!==(i=t[18]+"")&&y(n,i),1&a&&r!==(r=t[3][t[18]])&&g(e,"title",r),t[20]<t[0].flags.length-1?s||(s=Rt(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(t){t&&c(e),s&&s.d(t),t&&c(o)}}}function Nt(e){let n,r,o;return r=new _t({props:{type:"item",id:e[13].drop}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function Lt(t){let e,n,r=at(t[2],t[2].byId("item_group",t[13].drop)),o=[];for(let e=0;e<r.length;e+=1)o[e]=Dt(xt(t,r,e));const i=t=>F(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=h()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);l(t,e,r),n=!0},p(t,n){if(68&n){let s;for(r=at(t[2],t[2].byId("item_group",t[13].drop)),s=0;s<r.length;s+=1){const i=xt(t,r,s);o[s]?(o[s].p(i,n),P(o[s],1)):(o[s]=Dt(i),o[s].c(),P(o[s],1),o[s].m(e.parentNode,e))}for(j(),s=r.length;s<o.length;s+=1)i(s);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)P(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)F(o[t]);n=!1},d(t){u(o,t),t&&c(e)}}}function Dt(e){let n,r,o,i,s,u,f=(100*e[10]).toFixed(2)+"";return r=new _t({props:{type:"item",id:e[9]}}),{c(){n=d("li"),H(r.$$.fragment),o=p(" ("),i=p(f),s=p("%)")},m(t,e){l(t,n,e),W(r,n,null),a(n,o),a(n,i),a(n,s),u=!0},p:t,i(t){u||(P(r.$$.fragment,t),u=!0)},o(t){F(r.$$.fragment,t),u=!1},d(t){t&&c(n),G(r)}}}function jt(t){let e,n,r,o;const i=[Lt,Nt],s=[];return e=function(t,e){return"bionic_group"===t[13].type?0:1}(t),n=s[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){s[e].m(t,n),l(t,r,n),o=!0},p(t,e){n.p(t,e)},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){s[e].d(t),t&&c(r)}}}function Bt(t){let e,n,r,o,i,s,u=Yt(t[10])+"";return n=new _t({props:{type:"item",id:t[9]}}),{c(){e=d("li"),H(n.$$.fragment),r=p(" ("),o=p(u),i=p(")")},m(t,c){l(t,e,c),W(n,e,null),a(e,r),a(e,o),a(e,i),s=!0},p(t,e){const r={};2&e&&(r.id=t[9]),n.$set(r),(!s||2&e)&&u!==(u=Yt(t[10])+"")&&y(o,u)},i(t){s||(P(n.$$.fragment,t),s=!0)},o(t){F(n.$$.fragment,t),s=!1},d(t){t&&c(e),G(n)}}}function Pt(e){let n,r,o;return{c(){n=d("a"),n.textContent="See all...",g(n,"href","")},m(t,i){l(t,n,i),r||(o=m(n,"click",e[7]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function Ft(t){let e,n,r,o,i,s,m,_,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,q,U,H,W,G,Y,J,z,V,K,X,Z,Q,et,nt,rt,st,at,lt,ct,ut,dt,pt,ft,ht,mt,gt,yt,_t,xt,St,Ct,Rt,Nt,Lt,Dt,Ft,Gt,Yt,Jt,zt,Vt,Kt,Xt,Zt,Qt,te,ee,ne,re,oe,ie,se,ae,le,ce,ue,de,pe,fe,he,me,ge,ye,_e,ve,be,xe,we,Se,Ee,Te,$e,Oe,ke,Ce,Ie,Me,Re,Ae,Ne,Le,De,je,Be=t[0].symbol+"",Pe=tt(t[0])+"",Fe=t[0].description+"",qe=qt(t[0])+"",Ue=Ut(qt(t[0]))+"",He=ot(t[0].volume)+"",We=it(t[0].weight)+"",Ge=(t[0].speed??0)+"",Ye=(t[0].melee_skill??0)+"",Je=Wt(t[0])+"",ze=t[0].hp+"",Ve=(t[0].dodge??0)+"",Ke=(t[0].armor_bash??0)+"",Xe=(t[0].armor_cut??0)+"",Ze=(t[0].armor_stab??Math.floor(.8*(t[0].armor_cut??0)))+"",Qe=(t[0].armor_bullet??0)+"",tn=(t[0].armor_acid??Math.floor(.5*(t[0].armor_cut??0)))+"",en=(t[0].armor_fire??0)+"",nn=(t[0].aggression??0)+"",rn=(t[0].morale??0)+"",on=(t[0].vision_day??40)+"",sn=(t[0].vision_night??1)+"",an=t[0].default_faction+"",ln=(t[0].death_function??[]).join(", ")+"",cn=t[0].bodytype&&Tt(t),un=t[0].species&&t[0].species.length&&$t(t),dn=t[4],pn=[];for(let e=0;e<dn.length;e+=1)pn[e]=Ot(Et(t,dn,e));const fn=t=>F(pn[t],1,1,(()=>{pn[t]=null}));let hn=t[0].special_attacks&&kt(t),mn=t[0].anger_triggers&&It(t),gn=t[0].placate_triggers&&Mt(t),yn=t[0].flags??[],_n=[];for(let e=0;e<yn.length;e+=1)_n[e]=At(wt(t,yn,e));let vn=t[6]&&(t[6].entries??[]).length&&function(t){let e,n,r,o,i,s,p,h,m=t[6].entries,y=[];for(let e=0;e<m.length;e+=1)y[e]=jt(bt(t,m,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Harvest",r=f(),o=d("dl"),i=d("dt"),i.textContent="Butchering Results",s=d("dd"),p=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();g(p,"class","comma-separated")},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(o,i),a(o,s),a(s,p);for(let t=0;t<y.length;t+=1)y[t].m(p,null);h=!0},p(t,e){if(68&e){let n;for(m=t[6].entries,n=0;n<m.length;n+=1){const r=bt(t,m,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=jt(r),y[n].c(),P(y[n],1),y[n].m(p,null))}for(j(),n=m.length;n<y.length;n+=1)_(n);B()}},i(t){if(!h){for(let t=0;t<m.length;t+=1)P(y[t]);h=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);h=!1},d(t){t&&c(e),u(y,t)}}}(t),bn=t[5]&&function(t){let e,n,r,o,i,s,p=t[5].slice(0,t[1]),h=[];for(let e=0;e<p.length;e+=1)h[e]=Bt(vt(t,p,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[5].length>t[1]&&Pt(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Drops",r=f(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=f(),g&&g.c()},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);a(e,i),g&&g.m(e,null),s=!0},p(t,n){if(34&n){let e;for(p=t[5].slice(0,t[1]),e=0;e<p.length;e+=1){const r=vt(t,p,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Bt(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=p.length;e<h.length;e+=1)m(e);B()}t[5].length>t[1]?g?g.p(t,n):(g=Pt(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(h[t]);s=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);s=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t);return{c(){e=d("h1"),n=d("span"),r=p(Be),i=f(),s=p(Pe),m=f(),_=d("section"),b=d("p"),x=p(Fe),w=f(),S=d("p"),E=p("Difficulty: "),T=p(qe),$=f(),O=d("span"),k=p("("),C=p(Ue),I=p(")"),R=f(),A=d("section"),N=d("h1"),N.textContent="Body",L=f(),D=d("dl"),cn&&cn.c(),q=h(),un&&un.c(),U=d("dt"),U.textContent="Volume",H=d("dd"),W=p(He),G=d("dt"),G.textContent="Weight",Y=d("dd"),J=p(We),z=d("dt"),z.textContent="Material",V=d("dd"),K=d("ul");for(let t=0;t<pn.length;t+=1)pn[t].c();X=f(),Z=d("section"),Q=d("h1"),Q.textContent="Combat",et=f(),nt=d("div"),rt=d("dl"),st=d("dt"),st.textContent="Speed",at=d("dd"),lt=p(Ge),ct=d("dt"),ct.textContent="Melee Skill",ut=d("dd"),dt=p(Ye),pt=d("dt"),pt.textContent="Damage",ft=d("dd"),ht=p(Je),hn&&hn.c(),mt=f(),gt=d("dl"),yt=d("dt"),yt.textContent="HP",_t=d("dd"),xt=p(ze),St=d("dt"),St.textContent="Dodge",Ct=d("dd"),Rt=p(Ve),Nt=d("dt"),Nt.textContent="Armor",Lt=d("dd"),Dt=d("dl"),Ft=d("dt"),Ft.textContent="Bash",Gt=d("dd"),Yt=p(Ke),Jt=d("dt"),Jt.textContent="Cut",zt=d("dd"),Vt=p(Xe),Kt=d("dt"),Kt.textContent="Stab",Xt=d("dd"),Zt=p(Ze),Qt=d("dt"),Qt.textContent="Bullet",te=d("dd"),ee=p(Qe),ne=d("dt"),ne.textContent="Acid",re=d("dd"),oe=p(tn),ie=d("dt"),ie.textContent="Fire",se=d("dd"),ae=p(en),le=f(),ce=d("section"),ue=d("h1"),ue.textContent="Behavior",de=f(),pe=d("dl"),fe=d("dt"),fe.textContent="Aggression",he=d("dd"),me=p(nn),ge=d("dt"),ge.textContent="Morale",ye=d("dd"),_e=p(rn),ve=d("dt"),ve.textContent="Vision Range",be=d("dd"),xe=p(on),we=p(" (day) / "),Se=p(sn),Ee=p(" (night)"),Te=d("dt"),Te.textContent="Default Faction",$e=d("dd"),Oe=p(an),mn&&mn.c(),ke=h(),gn&&gn.c(),Ce=d("dt"),Ce.textContent="Flags",Ie=d("dd");for(let t=0;t<_n.length;t+=1)_n[t].c();Me=d("dt"),Me.textContent="On Death",Re=d("dd"),Ae=p(ln),Ne=f(),vn&&vn.c(),Le=f(),bn&&bn.c(),De=h(),v(n,"font-family","monospace"),g(n,"class",o="c_"+t[0].color),v(b,"color","var(--cata-color-gray)"),g(O,"class",M="c_"+Ht(qt(t[0]))+" fg_only"),g(K,"class","comma-separated"),v(rt,"flex","1"),v(gt,"flex","1"),v(nt,"display","flex"),v(nt,"flex-direction","row"),v(nt,"align-items","start"),v(nt,"flex-wrap","wrap")},m(t,o){l(t,e,o),a(e,n),a(n,r),a(e,i),a(e,s),l(t,m,o),l(t,_,o),a(_,b),a(b,x),a(_,w),a(_,S),a(S,E),a(S,T),a(S,$),a(S,O),a(O,k),a(O,C),a(O,I),l(t,R,o),l(t,A,o),a(A,N),a(A,L),a(A,D),cn&&cn.m(D,null),a(D,q),un&&un.m(D,null),a(D,U),a(D,H),a(H,W),a(D,G),a(D,Y),a(Y,J),a(D,z),a(D,V),a(V,K);for(let t=0;t<pn.length;t+=1)pn[t].m(K,null);l(t,X,o),l(t,Z,o),a(Z,Q),a(Z,et),a(Z,nt),a(nt,rt),a(rt,st),a(rt,at),a(at,lt),a(rt,ct),a(rt,ut),a(ut,dt),a(rt,pt),a(rt,ft),a(ft,ht),hn&&hn.m(rt,null),a(nt,mt),a(nt,gt),a(gt,yt),a(gt,_t),a(_t,xt),a(gt,St),a(gt,Ct),a(Ct,Rt),a(gt,Nt),a(gt,Lt),a(Lt,Dt),a(Dt,Ft),a(Dt,Gt),a(Gt,Yt),a(Dt,Jt),a(Dt,zt),a(zt,Vt),a(Dt,Kt),a(Dt,Xt),a(Xt,Zt),a(Dt,Qt),a(Dt,te),a(te,ee),a(Dt,ne),a(Dt,re),a(re,oe),a(Dt,ie),a(Dt,se),a(se,ae),l(t,le,o),l(t,ce,o),a(ce,ue),a(ce,de),a(ce,pe),a(pe,fe),a(pe,he),a(he,me),a(pe,ge),a(pe,ye),a(ye,_e),a(pe,ve),a(pe,be),a(be,xe),a(be,we),a(be,Se),a(be,Ee),a(pe,Te),a(pe,$e),a($e,Oe),mn&&mn.m(pe,null),a(pe,ke),gn&&gn.m(pe,null),a(pe,Ce),a(pe,Ie);for(let t=0;t<_n.length;t+=1)_n[t].m(Ie,null);a(pe,Me),a(pe,Re),a(Re,Ae),l(t,Ne,o),vn&&vn.m(t,o),l(t,Le,o),bn&&bn.m(t,o),l(t,De,o),je=!0},p(t,[e]){if((!je||1&e)&&Be!==(Be=t[0].symbol+"")&&y(r,Be),(!je||1&e&&o!==(o="c_"+t[0].color))&&g(n,"class",o),(!je||1&e)&&Pe!==(Pe=tt(t[0])+"")&&y(s,Pe),(!je||1&e)&&Fe!==(Fe=t[0].description+"")&&y(x,Fe),(!je||1&e)&&qe!==(qe=qt(t[0])+"")&&y(T,qe),(!je||1&e)&&Ue!==(Ue=Ut(qt(t[0]))+"")&&y(C,Ue),(!je||1&e&&M!==(M="c_"+Ht(qt(t[0]))+" fg_only"))&&g(O,"class",M),t[0].bodytype?cn?cn.p(t,e):(cn=Tt(t),cn.c(),cn.m(D,q)):cn&&(cn.d(1),cn=null),t[0].species&&t[0].species.length?un?un.p(t,e):(un=$t(t),un.c(),un.m(D,U)):un&&(un.d(1),un=null),(!je||1&e)&&He!==(He=ot(t[0].volume)+"")&&y(W,He),(!je||1&e)&&We!==(We=it(t[0].weight)+"")&&y(J,We),16&e){let n;for(dn=t[4],n=0;n<dn.length;n+=1){const r=Et(t,dn,n);pn[n]?(pn[n].p(r,e),P(pn[n],1)):(pn[n]=Ot(r),pn[n].c(),P(pn[n],1),pn[n].m(K,null))}for(j(),n=dn.length;n<pn.length;n+=1)fn(n);B()}if((!je||1&e)&&Ge!==(Ge=(t[0].speed??0)+"")&&y(lt,Ge),(!je||1&e)&&Ye!==(Ye=(t[0].melee_skill??0)+"")&&y(dt,Ye),(!je||1&e)&&Je!==(Je=Wt(t[0])+"")&&y(ht,Je),t[0].special_attacks?hn?hn.p(t,e):(hn=kt(t),hn.c(),hn.m(rt,null)):hn&&(hn.d(1),hn=null),(!je||1&e)&&ze!==(ze=t[0].hp+"")&&y(xt,ze),(!je||1&e)&&Ve!==(Ve=(t[0].dodge??0)+"")&&y(Rt,Ve),(!je||1&e)&&Ke!==(Ke=(t[0].armor_bash??0)+"")&&y(Yt,Ke),(!je||1&e)&&Xe!==(Xe=(t[0].armor_cut??0)+"")&&y(Vt,Xe),(!je||1&e)&&Ze!==(Ze=(t[0].armor_stab??Math.floor(.8*(t[0].armor_cut??0)))+"")&&y(Zt,Ze),(!je||1&e)&&Qe!==(Qe=(t[0].armor_bullet??0)+"")&&y(ee,Qe),(!je||1&e)&&tn!==(tn=(t[0].armor_acid??Math.floor(.5*(t[0].armor_cut??0)))+"")&&y(oe,tn),(!je||1&e)&&en!==(en=(t[0].armor_fire??0)+"")&&y(ae,en),(!je||1&e)&&nn!==(nn=(t[0].aggression??0)+"")&&y(me,nn),(!je||1&e)&&rn!==(rn=(t[0].morale??0)+"")&&y(_e,rn),(!je||1&e)&&on!==(on=(t[0].vision_day??40)+"")&&y(xe,on),(!je||1&e)&&sn!==(sn=(t[0].vision_night??1)+"")&&y(Se,sn),(!je||1&e)&&an!==(an=t[0].default_faction+"")&&y(Oe,an),t[0].anger_triggers?mn?mn.p(t,e):(mn=It(t),mn.c(),mn.m(pe,ke)):mn&&(mn.d(1),mn=null),t[0].placate_triggers?gn?gn.p(t,e):(gn=Mt(t),gn.c(),gn.m(pe,Ce)):gn&&(gn.d(1),gn=null),9&e){let n;for(yn=t[0].flags??[],n=0;n<yn.length;n+=1){const r=wt(t,yn,n);_n[n]?_n[n].p(r,e):(_n[n]=At(r),_n[n].c(),_n[n].m(Ie,null))}for(;n<_n.length;n+=1)_n[n].d(1);_n.length=yn.length}(!je||1&e)&&ln!==(ln=(t[0].death_function??[]).join(", ")+"")&&y(Ae,ln),t[6]&&(t[6].entries??[]).length&&vn.p(t,e),t[5]&&bn.p(t,e)},i(t){if(!je){for(let t=0;t<dn.length;t+=1)P(pn[t]);P(vn),P(bn),je=!0}},o(t){pn=pn.filter(Boolean);for(let t=0;t<pn.length;t+=1)F(pn[t]);F(vn),F(bn),je=!1},d(t){t&&c(e),t&&c(m),t&&c(_),t&&c(R),t&&c(A),cn&&cn.d(),un&&un.d(),u(pn,t),t&&c(X),t&&c(Z),hn&&hn.d(),t&&c(le),t&&c(ce),mn&&mn.d(),gn&&gn.d(),u(_n,t),t&&c(Ne),vn&&vn.d(t),t&&c(Le),bn&&bn.d(t),t&&c(De)}}}function qt(t){const{melee_skill:e=0,melee_dice:n=0,melee_cut:r=0,melee_dice_sides:o=0,dodge:i=0,armor_bash:s=-1,armor_cut:a=-1,diff:l=0,special_attacks:c=[],emit_fields:u=[],hp:d,speed:p=0,attack_cost:f=100,morale:h=0,aggression:m=0,vision_day:g=40,vision_night:y=1}=t;let _=(e+1)*n*(r+o)*.04+(i+1)*(3+s+a)*.04+(l+c.length+8*u.length);return _=Math.floor(_),_*=.01*(d+p-f+.1*(h+m))+.01*(g+2*y),Math.floor(_)}function Ut(t){return t<3?"Minimal threat.":t<10?"Mildly dangerous.":t<20?"Dangerous.":t<30?"Very dangerous.":t<50?"Extremely dangerous.":"Fatally dangerous!"}function Ht(t){return t<3||t<10?"light_gray":t<20?"light_red":"red"}function Wt(t){let{melee_dice:e=0,melee_dice_sides:n=0,melee_damage:r,melee_cut:o}=t;return`${e}d${n}`}function Gt(t){return Array.isArray(t)?t.length>1?`${t[0]} (cooldown: ${t[1]})`:t[0]:"type"in t?"cooldown"in t?`${t.type} (cooldown: ${t.cooldown})`:t.type:"id"in t?"damage_max_instance"in t?`${t.id}: ${t.damage_max_instance.map((t=>`(${t.damage_type} for ${t.amount} damage)`)).join(" ")}`:t.id:void 0}function Yt(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}function Jt(t,e,n){var r;let{item:o}=e,i=S("data");let s=null!==(r=o.material)&&void 0!==r?r:[],a=i.flatDeathDrops(o.id),l=10,c=o.harvest?i.byId("harvest",o.harvest):void 0;return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,l,i,{SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},s,a,c,t=>{t.preventDefault(),n(1,l=1/0)}]}class zt extends z{constructor(t){super(),J(this,t,Jt,Ft,i,{item:0})}}function Vt(t,e,n){const r=t.slice();return r[11]=e[n][0],r[12]=void 0!==e[n][1]?e[n][1]:0,r}function Kt(t,e,n){const r=t.slice();return r[15]=e[n],r}function Xt(t,e,n){const r=t.slice();return r[18]=e[n],r}function Zt(t,e,n){const r=t.slice();return r[21]=e[n].id,r[22]=e[n].item,r[23]=e[n].count,r[25]=n,r}function Qt(t,e,n){const r=t.slice();return r[26]=e[n],r}function te(t,e,n){const r=t.slice();return r[29]=e[n],r[25]=n,r}function ee(t,e,n){const r=t.slice();return r[31]=e[n],r}function ne(t,e,n){const r=t.slice();return r[34]=e[n],r[25]=n,r}function re(t,e,n){const r=t.slice();return r[36]=e[n],r}function oe(t,e,n){const r=t.slice();return r[39]=e[n][0],r[12]=e[n][1],r[25]=n,r}function ie(e){let n;return{c(){n=p("none")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function se(t){let e,n,r,o,i,s=(t[0].difficulty??0)+"";return e=new _t({props:{type:"skill",id:t[0].skill_used}}),{c(){H(e.$$.fragment),n=p(" ("),r=p(s),o=p(")")},m(t,s){W(e,t,s),l(t,n,s),l(t,r,s),l(t,o,s),i=!0},p(t,n){const o={};1&n[0]&&(o.id=t[0].skill_used),e.$set(o),(!i||1&n[0])&&s!==(s=(t[0].difficulty??0)+"")&&y(r,s)},i(t){i||(P(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){G(e,t),t&&c(n),t&&c(r),t&&c(o)}}}function ae(t){let e;return{c(){e=p("none")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function le(t){let e;return{c(){e=p(", ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ce(t){let e;return{c(){e=p(" and ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ue(e){let n,r,o,i,s,a,u=e[12]+"";n=new _t({props:{type:"skill",id:e[39]}});let d=function(t,e){return t[25]===t[5].length-2?ce:t[25]!==t[5].length-1?le:void 0}(e),f=d&&d(e);return{c(){H(n.$$.fragment),r=p(" ("),o=p(u),i=p(")"),f&&f.c(),s=h()},m(t,e){W(n,t,e),l(t,r,e),l(t,o,e),l(t,i,e),f&&f.m(t,e),l(t,s,e),a=!0},p:t,i(t){a||(P(n.$$.fragment,t),a=!0)},o(t){F(n.$$.fragment,t),a=!1},d(t){G(n,t),t&&c(r),t&&c(o),t&&c(i),f&&f.d(t),t&&c(s)}}}function de(t){let e,n,r,o,i,s=t[0].proficiencies??[],p=[];for(let e=0;e<s.length;e+=1)p[e]=pe(re(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Proficiencies",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f()},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(1&e[0]){let n;for(s=t[0].proficiencies??[],n=0;n<s.length;n+=1){const o=re(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=pe(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}function pe(t){let e,n,r;return n=new _t({props:{type:"proficiency",id:t[36].proficiency}}),{c(){e=d("li"),H(n.$$.fragment)},m(t,o){l(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e[0]&&(r.id=t[36].proficiency),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),G(n)}}}function fe(e){let n;return{c(){n=d("em"),n.textContent="none"},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function he(t){let e,n,r,o,i,s=t[0].batch_time_factors[0]+"",a=t[0].batch_time_factors[1]+"",u=1===t[0].batch_time_factors[1]?"":"s";return{c(){e=p(s),n=p("% at >"),r=p(a),o=p(" unit"),i=p(u)},m(t,s){l(t,e,s),l(t,n,s),l(t,r,s),l(t,o,s),l(t,i,s)},p(t,n){1&n[0]&&s!==(s=t[0].batch_time_factors[0]+"")&&y(e,s),1&n[0]&&a!==(a=t[0].batch_time_factors[1]+"")&&y(r,a),1&n[0]&&u!==(u=1===t[0].batch_time_factors[1]?"":"s")&&y(i,u)},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}function me(t){let e,n,r,o=t[0].charges+"";return{c(){e=d("dt"),e.textContent="Recipe Makes",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e[0]&&o!==(o=t[0].charges+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function ge(e){let n,r,o,i,s,a,u,d,h,m,g,y=(e[34].amount??1)+"",_=1===(e[34].amount??1)?"":"s",v=e[34].level+"",b=0!==e[25]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return a=new _t({props:{type:"tool_quality",id:e[34].id}}),{c(){b&&b.c(),n=f(),r=p(y),o=p(" tool"),i=p(_),s=p("\n        with "),H(a.$$.fragment),u=p(" of "),d=p(v),h=p(" or more"),m=p("")},m(t,e){b&&b.m(t,e),l(t,n,e),l(t,r,e),l(t,o,e),l(t,i,e),l(t,s,e),W(a,t,e),l(t,u,e),l(t,d,e),l(t,h,e),l(t,m,e),g=!0},p:t,i(t){g||(P(a.$$.fragment,t),g=!0)},o(t){F(a.$$.fragment,t),g=!1},d(t){b&&b.d(t),t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(s),G(a,t),t&&c(u),t&&c(d),t&&c(h),t&&c(m)}}}function ye(t){let e,n,r,o=t[31],i=[];for(let e=0;e<o.length;e+=1)i[e]=ge(ne(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p(".")},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(16&r[0]){let a;for(o=t[31],a=0;a<o.length;a+=1){const s=ne(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=ge(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function _e(e){let n,r;return n=new _t({props:{type:"item",id:e[29].id}}),{c(){H(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function ve(e){let n,r,o=tt(e[1].byId("item",e[29].id))+"";return{c(){n=d("a"),r=p(o),g(n,"href","#/furniture/"+e[1].craftingPseudoItem(e[29].id))},m(t,e){l(t,n,e),a(n,r)},p:t,i:t,o:t,d(t){t&&c(n)}}}function be(e){let n,r,o,i,s=e[29].count+"",a=1!==e[29].count&&function(t){let e;return{c(){e=p("s")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=p("("),r=p(s),o=p(" charge"),a&&a.c(),i=p(")")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),a&&a.m(t,e),l(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),a&&a.d(t),t&&c(i)}}}function xe(t){let e,n,r,o,i,s,a=0!==t[25]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();const u=[ve,_e],d=[];n=function(t,e){return t[1].craftingPseudoItem(t[29].id)?0:1}(t),r=d[n]=u[n](t);let m=t[29].count>0&&be(t);return{c(){a&&a.c(),e=f(),r.c(),o=f(),m&&m.c(),i=h()},m(t,r){a&&a.m(t,r),l(t,e,r),d[n].m(t,r),l(t,o,r),m&&m.m(t,r),l(t,i,r),s=!0},p(t,e){r.p(t,e),t[29].count>0&&m.p(t,e)},i(t){s||(P(r),s=!0)},o(t){F(r),s=!1},d(t){a&&a.d(t),t&&c(e),d[n].d(t),t&&c(o),m&&m.d(t),t&&c(i)}}}function we(t){let e,n,r,o=t[26],i=[];for(let e=0;e<o.length;e+=1)i[e]=xe(te(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f()},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(6&r[0]){let a;for(o=t[26],a=0;a<o.length;a+=1){const s=te(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=xe(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Se(e){let n,r,o,i=0!==e[25]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return r=new _t({props:{type:"item",id:e[21],count:e[23]}}),{c(){i&&i.c(),n=f(),H(r.$$.fragment)},m(t,e){i&&i.m(t,e),l(t,n,e),W(r,t,e),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){i&&i.d(t),t&&c(n),G(r,t)}}}function Ee(t){let e,n,r,o=t[18].map(t[7]),i=[];for(let e=0;e<o.length;e+=1)i[e]=Se(Zt(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f()},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(10&r[0]){let a;for(o=t[18].map(t[7]),a=0;a<o.length;a+=1){const s=Zt(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=Se(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Te(t){let e,n,r,o,i,s=t[0].byproducts,p=[];for(let e=0;e<s.length;e+=1)p[e]=$e(Kt(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Byproducts",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f()},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(1&e[0]){let n;for(s=t[0].byproducts,n=0;n<s.length;n+=1){const o=Kt(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=$e(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}function $e(t){let e,n,r;return n=new _t({props:{type:"item",id:t[15][0],count:t[15][1]??1}}),{c(){e=d("li"),H(n.$$.fragment)},m(t,o){l(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e[0]&&(r.id=t[15][0]),1&e[0]&&(r.count=t[15][1]??1),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),G(n)}}}function Oe(e){let n,r,o,i,s,u,f,h=e[12]+"";return o=new _t({props:{id:e[11],type:"item"}}),{c(){n=d("li"),r=d("span"),H(o.$$.fragment),i=p(" ("),s=p(h),u=p(")"),v(r,"white-space","nowrap")},m(t,e){l(t,n,e),a(n,r),W(o,r,null),a(r,i),a(r,s),a(r,u),f=!0},p:t,i(t){f||(P(o.$$.fragment,t),f=!0)},o(t){F(o.$$.fragment,t),f=!1},d(t){t&&c(n),G(o)}}}function ke(t){let e,n,r,o,i,s,m,_,v,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,q,U=(t[0].time??"0 m")+"",H=JSON.stringify(t[0],null,2)+"";const W=[se,ie],G=[];function Y(t,e){return t[0].skill_used?0:1}m=Y(t),_=G[m]=W[m](t);let J=t[5].length&&function(t){let e,n,r,o,i=t[5],s=[];for(let e=0;e<i.length;e+=1)s[e]=ue(oe(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));let h=null;return i.length||(h=ae()),{c(){e=d("dt"),e.textContent="Other Skills",n=d("dd");for(let t=0;t<s.length;t+=1)s[t].c();h&&h.c(),r=f()},m(t,i){l(t,e,i),l(t,n,i);for(let t=0;t<s.length;t+=1)s[t].m(n,null);h&&h.m(n,null),a(n,r),o=!0},p(t,e){if(32&e[0]){let o;for(i=t[5],o=0;o<i.length;o+=1){const a=oe(t,i,o);s[o]?(s[o].p(a,e),P(s[o],1)):(s[o]=ue(a),s[o].c(),P(s[o],1),s[o].m(n,r))}for(j(),o=i.length;o<s.length;o+=1)p(o);B(),i.length?h&&(h.d(1),h=null):h||(h=ae(),h.c(),h.m(n,r))}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t),h&&h.d()}}}(t),z=t[0].proficiencies&&de(t);function V(t,e){return t[0].batch_time_factors?he:fe}let K=V(t),X=K(t),Z=t[0].charges&&me(t),Q=((t[4]??[]).length||t[2].length)&&function(t){let e,n,r,o,i,s,p=t[4]??[],h=[];for(let e=0;e<p.length;e+=1)h[e]=ye(ee(t,p,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[2],y=[];for(let e=0;e<g.length;e+=1)y[e]=we(Qt(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),e.textContent="Tools Required",n=d("dd"),r=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();o=f();for(let t=0;t<y.length;t+=1)y[t].c();i=f()},m(t,c){l(t,e,c),l(t,n,c),a(n,r);for(let t=0;t<h.length;t+=1)h[t].m(r,null);a(r,o);for(let t=0;t<y.length;t+=1)y[t].m(r,null);a(n,i),s=!0},p(t,e){if(16&e[0]){let n;for(p=t[4]??[],n=0;n<p.length;n+=1){const i=ee(t,p,n);h[n]?(h[n].p(i,e),P(h[n],1)):(h[n]=ye(i),h[n].c(),P(h[n],1),h[n].m(r,o))}for(j(),n=p.length;n<h.length;n+=1)m(n);B()}if(6&e[0]){let n;for(g=t[2],n=0;n<g.length;n+=1){const o=Qt(t,g,n);y[n]?(y[n].p(o,e),P(y[n],1)):(y[n]=we(o),y[n].c(),P(y[n],1),y[n].m(r,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);B()}},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(h[t]);for(let t=0;t<g.length;t+=1)P(y[t]);s=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);s=!1},d(t){t&&c(e),t&&c(n),u(h,t),u(y,t)}}}(t),tt=t[3].length&&function(t){let e,n,r,o,i,s=t[3],p=[];for(let e=0;e<s.length;e+=1)p[e]=Ee(Xt(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Components",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f()},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(10&e[0]){let n;for(s=t[3],n=0;n<s.length;n+=1){const o=Xt(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=Ee(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(t),et=t[0].byproducts?.length&&Te(t),nt=t[6].length&&function(t){let e,n,r,o,i=t[6],s=[];for(let e=0;e<i.length;e+=1)s[e]=Oe(Vt(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Written In",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","comma-separated")},m(t,i){l(t,e,i),l(t,n,i),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,e){if(64&e[0]){let n;for(i=t[6],n=0;n<i.length;n+=1){const o=Vt(t,i,n);s[n]?(s[n].p(o,e),P(s[n],1)):(s[n]=Oe(o),s[n].c(),P(s[n],1),s[n].m(r,null))}for(j(),n=i.length;n<s.length;n+=1)p(n);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Craft",r=f(),o=d("dl"),i=d("dt"),i.textContent="Primary Skill",s=d("dd"),_.c(),v=f(),J&&J.c(),b=h(),z&&z.c(),x=d("dt"),x.textContent="Time to Complete",w=d("dd"),S=p(U),E=d("dt"),E.textContent="Batch Time Savings",T=d("dd"),X.c(),$=f(),Z&&Z.c(),O=h(),Q&&Q.c(),k=h(),tt&&tt.c(),C=h(),et&&et.c(),I=h(),nt&&nt.c(),M=f(),R=d("details"),A=d("summary"),A.textContent="Recipe JSON",N=f(),L=d("pre"),D=p(H),g(e,"class","recipe")},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(o,i),a(o,s),G[m].m(s,null),a(s,v),J&&J.m(o,null),a(o,b),z&&z.m(o,null),a(o,x),a(o,w),a(w,S),a(o,E),a(o,T),X.m(T,null),a(T,$),Z&&Z.m(o,null),a(o,O),Q&&Q.m(o,null),a(o,k),tt&&tt.m(o,null),a(o,C),et&&et.m(o,null),a(o,I),nt&&nt.m(o,null),a(e,M),a(e,R),a(R,A),a(R,N),a(R,L),a(L,D),q=!0},p(t,e){let n=m;m=Y(t),m===n?G[m].p(t,e):(j(),F(G[n],1,1,(()=>{G[n]=null})),B(),_=G[m],_?_.p(t,e):(_=G[m]=W[m](t),_.c()),P(_,1),_.m(s,v)),t[5].length&&J.p(t,e),t[0].proficiencies?z?(z.p(t,e),1&e[0]&&P(z,1)):(z=de(t),z.c(),P(z,1),z.m(o,x)):z&&(j(),F(z,1,1,(()=>{z=null})),B()),(!q||1&e[0])&&U!==(U=(t[0].time??"0 m")+"")&&y(S,U),K===(K=V(t))&&X?X.p(t,e):(X.d(1),X=K(t),X&&(X.c(),X.m(T,$))),t[0].charges?Z?Z.p(t,e):(Z=me(t),Z.c(),Z.m(o,O)):Z&&(Z.d(1),Z=null),((t[4]??[]).length||t[2].length)&&Q.p(t,e),t[3].length&&tt.p(t,e),t[0].byproducts?.length?et?(et.p(t,e),1&e[0]&&P(et,1)):(et=Te(t),et.c(),P(et,1),et.m(o,I)):et&&(j(),F(et,1,1,(()=>{et=null})),B()),t[6].length&&nt.p(t,e),(!q||1&e[0])&&H!==(H=JSON.stringify(t[0],null,2)+"")&&y(D,H)},i(t){q||(P(_),P(J),P(z),P(Q),P(tt),P(et),P(nt),q=!0)},o(t){F(_),F(J),F(z),F(Q),F(tt),F(et),F(nt),q=!1},d(t){t&&c(e),G[m].d(),J&&J.d(),z&&z.d(),X.d(),Z&&Z.d(),Q&&Q.d(),tt&&tt.d(),et&&et.d(),nt&&nt.d()}}}function Ce(t,e,n){var r;let o=S("data"),{recipe:i}=e;const s="string"==typeof i.using?[[i.using,1]]:i.using;let a=(null!=s?s:[]).map((([t,e])=>[o.byId("requirement",t),e])).concat([[i,1]]),l=a.flatMap((([t,e])=>{var n;return ut(o,null!==(n=t.tools)&&void 0!==n?n:[],(t=>t.tools)).map((t=>t.map((t=>({...t,count:t.count*e})))))})),c=a.flatMap((([t,e])=>{var n;return ut(o,null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})),u=a.flatMap((([t,e])=>{var n;return(null!==(n=t.qualities)&&void 0!==n?n:[]).map((t=>Array.isArray(t)?t:[t]))})),d=void 0===(p=i.skills_required)||0===p.length?[]:Array.isArray(p[0])?p:[p];var p;const f=Array.isArray(i.book_learn)?[...i.book_learn]:[...Object.entries(null!==(r=i.book_learn)&&void 0!==r?r:{})].map((([t,e])=>[t,e.skill_level]));f.sort(((t,e)=>{var n,r;return(null!==(n=t[1])&&void 0!==n?n:0)-(null!==(r=e[1])&&void 0!==r?r:0)}));return t.$$set=t=>{"recipe"in t&&n(0,i=t.recipe)},[i,o,l,c,u,d,f,t=>({...t,item:o.byId("item",t.id)})]}class Ie extends z{constructor(t){super(),J(this,t,Ce,ke,i,{recipe:0},[-1,-1])}}const{Map:Me}=q;function Re(t,e,n){const r=t.slice();return r[44]=e[n],r}function Ae(t,e,n){const r=t.slice();return r[44]=e[n].id,r[47]=e[n].prob,r}function Ne(t,e,n){const r=t.slice();return r[50]=e[n],r}function Le(t,e,n){const r=t.slice();return r[53]=e[n],r}function De(t,e,n){const r=t.slice();return r[0]=e[n],r}function je(t,e,n){const r=t.slice();return r[58]=e[n],r}function Be(t,e,n){const r=t.slice();return r[44]=e[n][0],r[61]=e[n][1],r}function Pe(t,e,n){const r=t.slice();return r[64]=e[n],r}function Fe(t,e,n){const r=t.slice();return r[67]=e[n][0],r[68]=e[n][1],r}function qe(t,e,n){const r=t.slice();return r[44]=e[n][0],r[71]=e[n][1],r}function Ue(t,e,n){const r=t.slice();return r[44]=e[n].id,r[61]=e[n].count,r}function He(t,e,n){const r=t.slice();return r[76]=e[n].quality,r[71]=e[n].level,r}function We(t,e,n){const r=t.slice();return r[79]=e[n],r}function Ge(t,e,n){const r=t.slice();return r[82]=e[n],r}function Ye(t,e,n){const r=t.slice();return r[85]=e[n],r}function Je(t,e,n){const r=t.slice();return r[88]=e[n].id,r[89]=e[n].max_charges,r}function ze(t,e,n){const r=t.slice();return r[92]=e[n],r}function Ve(e){let n,r,o;return r=new _t({props:{type:"material",id:e[92].id}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function Ke(t){let e,n,r,o,i,s,u,h,m,g=t[89]+"",_="GUN"===t[0].type?"round":"charge",v=1===t[89]?"":"s";return u=new _t({props:{type:"ammunition_type",id:t[88]}}),{c(){e=d("li"),n=p(g),r=f(),o=p(_),i=p(v),s=p(" of\n        "),H(u.$$.fragment),h=f()},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(e,i),a(e,s),W(u,e,null),a(e,h),m=!0},p(t,e){(!m||1&e[0])&&_!==(_="GUN"===t[0].type?"round":"charge")&&y(o,_)},i(t){m||(P(u.$$.fragment,t),m=!0)},o(t){F(u.$$.fragment,t),m=!1},d(t){t&&c(e),G(u)}}}function Xe(e){let n,r,o;return r=new _t({props:{type:"item",id:e[85]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function Ze(t){let e;return{c(){e=d("li"),e.innerHTML="<em>none</em>"},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Qe(e){let n,r,o;return r=new _t({props:{type:"json_flag",id:e[82].id}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function tn(e){let n,r,o;return r=new _t({props:{type:"fault",id:e[79].id}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function en(e){let n,r,o,i,s,u,h,m,g=e[71]+"";return u=new _t({props:{type:"tool_quality",id:e[76].id}}),{c(){n=d("li"),r=p("Has level "),o=d("strong"),i=p(g),s=f(),H(u.$$.fragment),h=p(" quality.")},m(t,e){l(t,n,e),a(n,r),a(n,o),a(o,i),a(o,s),W(u,o,null),a(n,h),m=!0},p:t,i(t){m||(P(u.$$.fragment,t),m=!0)},o(t){F(u.$$.fragment,t),m=!1},d(t){t&&c(n),G(u)}}}function nn(e){let n,r,o;return r=new _t({props:{id:e[44],count:e[61],type:"item"}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function rn(t){let e,n,r,o,i,s,m,g,_,v,b,x,w,S,E,T=(t[0].intelligence??0)+"",$=(t[0].time??0)+"",O=(t[0].fun??0)+"",k=t[0].skill&&on(t),C=t[0].chapters&&sn(t),I=t[18].size&&function(t){let e,n,r,o,i=[...t[18].entries()].sort(Jn),s=[];for(let e=0;e<i.length;e+=1)s[e]=an(qe(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Recipes",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,i){l(t,e,i),l(t,n,i),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,e){if(262144&e[0]){let n;for(i=[...t[18].entries()].sort(Jn),n=0;n<i.length;n+=1){const o=qe(t,i,n);s[n]?(s[n].p(o,e),P(s[n],1)):(s[n]=an(o),s[n].c(),P(s[n],1),s[n].m(r,null))}for(j(),n=i.length;n<s.length;n+=1)p(n);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Book",r=f(),o=d("dl"),k&&k.c(),i=d("dt"),i.textContent="Required Intelligence",s=d("dd"),m=p(T),g=d("dt"),g.textContent="Read Time",_=d("dd"),v=p($),b=d("dt"),b.textContent="Fun",x=d("dd"),w=p(O),C&&C.c(),S=h(),I&&I.c()},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),k&&k.m(o,null),a(o,i),a(o,s),a(s,m),a(o,g),a(o,_),a(_,v),a(o,b),a(o,x),a(x,w),C&&C.m(o,null),a(o,S),I&&I.m(o,null),E=!0},p(t,e){t[0].skill?k?(k.p(t,e),1&e[0]&&P(k,1)):(k=on(t),k.c(),P(k,1),k.m(o,i)):k&&(j(),F(k,1,1,(()=>{k=null})),B()),(!E||1&e[0])&&T!==(T=(t[0].intelligence??0)+"")&&y(m,T),(!E||1&e[0])&&$!==($=(t[0].time??0)+"")&&y(v,$),(!E||1&e[0])&&O!==(O=(t[0].fun??0)+"")&&y(w,O),t[0].chapters?C?C.p(t,e):(C=sn(t),C.c(),C.m(o,S)):C&&(C.d(1),C=null),t[18].size&&I.p(t,e)},i(t){E||(P(k),P(I),E=!0)},o(t){F(k),F(I),E=!1},d(t){t&&c(e),k&&k.d(),C&&C.d(),I&&I.d()}}}function on(t){let e,n,r,o,i,s,u,f,h,m,g=(t[0].required_level??0)+"",_=(t[0].max_level??0)+"";return r=new _t({props:{id:t[0].skill,type:"skill"}}),{c(){e=d("dt"),e.textContent="Skill",n=d("dd"),H(r.$$.fragment),o=d("dt"),o.textContent="Required Level",i=d("dd"),s=p(g),u=d("dt"),u.textContent="Maximum Level",f=d("dd"),h=p(_)},m(t,c){l(t,e,c),l(t,n,c),W(r,n,null),l(t,o,c),l(t,i,c),a(i,s),l(t,u,c),l(t,f,c),a(f,h),m=!0},p(t,e){const n={};1&e[0]&&(n.id=t[0].skill),r.$set(n),(!m||1&e[0])&&g!==(g=(t[0].required_level??0)+"")&&y(s,g),(!m||1&e[0])&&_!==(_=(t[0].max_level??0)+"")&&y(h,_)},i(t){m||(P(r.$$.fragment,t),m=!0)},o(t){F(r.$$.fragment,t),m=!1},d(t){t&&c(e),t&&c(n),G(r),t&&c(o),t&&c(i),t&&c(u),t&&c(f)}}}function sn(t){let e,n,r,o=t[0].chapters+"";return{c(){e=d("dt"),e.textContent="Chapters",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e[0]&&o!==(o=t[0].chapters+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function an(e){let n,r,o,i,s,u,f=e[71]+"";return r=new _t({props:{id:e[44],type:"item"}}),{c(){n=d("li"),H(r.$$.fragment),o=p(" ("),i=p(f),s=p(")")},m(t,e){l(t,n,e),W(r,n,null),a(n,o),a(n,i),a(n,s),u=!0},p:t,i(t){u||(P(r.$$.fragment,t),u=!0)},o(t){F(r.$$.fragment,t),u=!1},d(t){t&&c(n),G(r)}}}function ln(t){let e,n,r,o,i,s,h,m,_,v,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,j,B,P,F,q=t[16]("head"),U=t[16]("eyes"),H=t[16]("mouth"),W=t[16]("torso"),G=(t[0].encumbrance??0)+"",Y=(t[0].warmth??0)+"",J=(t[0].coverage??0)+"",z=q&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="head",r=p(".")},m(t,o){l(t,e,o),l(t,n,o),l(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),V=U&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="eyes",r=p(".")},m(t,o){l(t,e,o),l(t,n,o),l(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),K=H&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="mouth",r=p(".")},m(t,o){l(t,e,o),l(t,n,o),l(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),X=W&&function(t){let e,n,r;return{c(){e=p("The "),n=d("strong"),n.textContent="torso",r=p(".")},m(t,o){l(t,e,o),l(t,n,o),l(t,r,o)},d(t){t&&c(e),t&&c(n),t&&c(r)}}}(),Z=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],Q=[];for(let e=0;e<4;e+=1)Q[e]=fn(Fe(t,Z,e));let tt=!t[17]&&function(t){let e;return{c(){e=p("Nothing.")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}(),et=t[0].max_encumbrance&&hn(t);function nt(t,e){return(null==N||1&e[0])&&(N=!!(t[0].flags??[]).includes("PERSONAL")),N?xn:((null==L||1&e[0])&&(L=!!(t[0].flags??[]).includes("SKINTIGHT")),L?bn:((null==D||1&e[0])&&(D=!!(t[0].flags??[]).includes("BELTED")),D?vn:((null==j||1&e[0])&&(j=!!(t[0].flags??[]).includes("OUTER")),j?_n:((null==B||1&e[0])&&(B=!!(t[0].flags??[]).includes("WAIST")),B?yn:((null==P||1&e[0])&&(P=!!(t[0].flags??[]).includes("AURA")),P?gn:mn)))))}let rt=nt(t,[-1]),ot=rt(t),it=(t[7].length||t[0].environmental_protection)&&wn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Armor",r=f(),o=d("dl"),i=d("dt"),i.textContent="Covers",s=d("dd"),z&&z.c(),h=f(),V&&V.c(),m=f(),K&&K.c(),_=f(),X&&X.c(),v=f();for(let t=0;t<4;t+=1)Q[t].c();b=f(),tt&&tt.c(),x=f(),w=d("dt"),w.textContent="Encumbrance",S=d("dd"),E=p(G),et&&et.c(),T=d("dt"),T.textContent="Warmth",$=d("dd"),O=p(Y),k=d("dt"),k.textContent="Coverage",C=d("dd"),I=p(J),M=p("%"),R=d("dt"),R.textContent="Layer",A=d("dd"),ot.c(),F=f(),it&&it.c(),g(k,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(o,i),a(o,s),z&&z.m(s,null),a(s,h),V&&V.m(s,null),a(s,m),K&&K.m(s,null),a(s,_),X&&X.m(s,null),a(s,v);for(let t=0;t<4;t+=1)Q[t].m(s,null);a(s,b),tt&&tt.m(s,null),a(s,x),a(o,w),a(o,S),a(S,E),et&&et.m(S,null),a(o,T),a(o,$),a($,O),a(o,k),a(o,C),a(C,I),a(C,M),a(o,R),a(o,A),ot.m(A,null),a(A,F),it&&it.m(o,null)},p(t,e){if(65537&e[0]){let n;for(Z=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],n=0;n<4;n+=1){const r=Fe(t,Z,n);Q[n]?Q[n].p(r,e):(Q[n]=fn(r),Q[n].c(),Q[n].m(s,b))}for(;n<4;n+=1)Q[n].d(1)}1&e[0]&&G!==(G=(t[0].encumbrance??0)+"")&&y(E,G),t[0].max_encumbrance?et?et.p(t,e):(et=hn(t),et.c(),et.m(S,null)):et&&(et.d(1),et=null),1&e[0]&&Y!==(Y=(t[0].warmth??0)+"")&&y(O,Y),1&e[0]&&J!==(J=(t[0].coverage??0)+"")&&y(I,J),rt!==(rt=nt(t,e))&&(ot.d(1),ot=rt(t),ot&&(ot.c(),ot.m(A,F))),t[7].length||t[0].environmental_protection?it?it.p(t,e):(it=wn(t),it.c(),it.m(o,null)):it&&(it.d(1),it=null)},d(t){t&&c(e),z&&z.d(),V&&V.d(),K&&K.d(),X&&X.d(),u(Q,t),tt&&tt.d(),et&&et.d(),ot.d(),it&&it.d()}}}function cn(t){let e,n,r,o,i;return{c(){e=p("The "),n=d("strong"),r=p("right "),o=p(t[67]),i=p(".")},m(t,s){l(t,e,s),l(t,n,s),a(n,r),a(n,o),l(t,i,s)},d(t){t&&c(e),t&&c(n),t&&c(i)}}}function un(t){let e,n,r,o,i;return{c(){e=p("The "),n=d("strong"),r=p("left "),o=p(t[67]),i=p(".")},m(t,s){l(t,e,s),l(t,n,s),a(n,r),a(n,o),l(t,i,s)},d(t){t&&c(e),t&&c(n),t&&c(i)}}}function dn(t){let e,n,r,o;return{c(){e=p("The "),n=d("strong"),r=p(t[68]),o=p(".")},m(t,i){l(t,e,i),l(t,n,i),a(n,r),l(t,o,i)},d(t){t&&c(e),t&&c(n),t&&c(o)}}}function pn(t){let e,n,r,o;return{c(){e=p("Either "),n=d("strong"),r=p(t[67]),o=p(".")},m(t,i){l(t,e,i),l(t,n,i),a(n,r),l(t,o,i)},d(t){t&&c(e),t&&c(n),t&&c(o)}}}function fn(t){let e,n,r,o,i,s;function a(t,i){return(null==e||1&i[0])&&(e=!(!t[0].sided||!t[16](`${t[67]}_l`)&&!t[16](`${t[67]}_r`))),e?pn:(null==n&&(n=!(!t[16](`${t[67]}_l`)||!t[16](`${t[67]}_r`))),n?dn:(null==r&&(r=!!t[16](`${t[67]}_l`)),r?un:(null==o&&(o=!!t[16](`${t[67]}_r`)),o?cn:void 0)))}let u=a(t,[-1]),d=u&&u(t);return{c(){d&&d.c(),i=f(),s=p(" ")},m(t,e){d&&d.m(t,e),l(t,i,e),l(t,s,e)},p(t,e){u!==(u=a(t,e))&&(d&&d.d(1),d=u&&u(t),d&&(d.c(),d.m(i.parentNode,i)))},d(t){d&&d.d(t),t&&c(i),t&&c(s)}}}function hn(t){let e,n,r,o,i=t[0].max_encumbrance+"";return{c(){e=p(" "),n=p("("),r=p(i),o=p(" when full)")},m(t,i){l(t,e,i),l(t,n,i),l(t,r,i),l(t,o,i)},p(t,e){1&e[0]&&i!==(i=t[0].max_encumbrance+"")&&y(r,i)},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(o)}}}function mn(t){let e;return{c(){e=p("Normal")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function gn(t){let e;return{c(){e=p("Outer aura")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function yn(t){let e;return{c(){e=p("Waist")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function _n(t){let e;return{c(){e=p("Outer")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function vn(t){let e;return{c(){e=p("Strapped")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function bn(t){let e;return{c(){e=p("Close to skin")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function xn(t){let e;return{c(){e=p("Personal aura")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function wn(t){let e,n,r,o,i,s,u=(t[0].environmental_protection??0)+"",f=t[7].length&&function(t){let e,n,r,o,i,s,u,f,h,m,g,_,v,b,x,w=(t[7].reduce(zn,0)*(t[0].material_thickness??0)/t[7].length).toFixed(2)+"",S=(t[7].reduce(Vn,0)*(t[0].material_thickness??0)/t[7].length).toFixed(2)+"",E=(t[7].reduce(Kn,0)*(t[0].material_thickness??0)/t[7].length).toFixed(2)+"",T=t[23]().toFixed(2)+"",$=t[24]().toFixed(2)+"";return{c(){e=d("dt"),e.textContent="Bash",n=d("dd"),r=p(w),o=d("dt"),o.textContent="Cut",i=d("dd"),s=p(S),u=d("dt"),u.textContent="Ballistic",f=d("dd"),h=p(E),m=d("dt"),m.textContent="Acid",g=d("dd"),_=p(T),v=d("dt"),v.textContent="Fire",b=d("dd"),x=p($)},m(t,c){l(t,e,c),l(t,n,c),a(n,r),l(t,o,c),l(t,i,c),a(i,s),l(t,u,c),l(t,f,c),a(f,h),l(t,m,c),l(t,g,c),a(g,_),l(t,v,c),l(t,b,c),a(b,x)},p(t,e){1&e[0]&&w!==(w=(t[7].reduce(zn,0)*(t[0].material_thickness??0)/t[7].length).toFixed(2)+"")&&y(r,w),1&e[0]&&S!==(S=(t[7].reduce(Vn,0)*(t[0].material_thickness??0)/t[7].length).toFixed(2)+"")&&y(s,S),1&e[0]&&E!==(E=(t[7].reduce(Kn,0)*(t[0].material_thickness??0)/t[7].length).toFixed(2)+"")&&y(h,E),1&e[0]&&T!==(T=t[23]().toFixed(2)+"")&&y(_,T),1&e[0]&&$!==($=t[24]().toFixed(2)+"")&&y(x,$)},d(t){t&&c(e),t&&c(n),t&&c(o),t&&c(i),t&&c(u),t&&c(f),t&&c(m),t&&c(g),t&&c(v),t&&c(b)}}}(t);return{c(){e=d("dt"),e.textContent="Protection",n=d("dd"),r=d("dl"),f&&f.c(),o=d("dt"),o.textContent="Environ.",i=d("dd"),s=p(u),g(o,"title","Environmental")},m(t,c){l(t,e,c),l(t,n,c),a(n,r),f&&f.m(r,null),a(r,o),a(r,i),a(i,s)},p(t,e){t[7].length&&f.p(t,e),1&e[0]&&u!==(u=(t[0].environmental_protection??0)+"")&&y(s,u)},d(t){t&&c(e),t&&c(n),f&&f.d()}}}function Sn(t){let e,n,r,o,i,s,u,h,m=t[0].displacement+"";return{c(){e=d("section"),n=d("h1"),n.textContent="Engine",r=f(),o=d("dl"),i=d("dt"),i.textContent="Displacement",s=d("dd"),u=p(m),h=p(" cc")},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(o,i),a(o,s),a(s,u),a(s,h)},p(t,e){1&e[0]&&m!==(m=t[0].displacement+"")&&y(u,m)},d(t){t&&c(e)}}}function En(t){let e,n,r,o,i,s=(t[0].bashing||t[0].cutting)&&Tn(t);const u=[kn,On],p=[];function h(t,e){return"GUN"===t[0].type?0:"AMMO"===t[0].type?1:-1}return~(r=h(t))&&(o=p[r]=u[r](t)),{c(){e=d("div"),s&&s.c(),n=f(),o&&o.c(),g(e,"class","side-by-side")},m(t,o){l(t,e,o),s&&s.m(e,null),a(e,n),~r&&p[r].m(e,null),i=!0},p(t,i){t[0].bashing||t[0].cutting?s?(s.p(t,i),1&i[0]&&P(s,1)):(s=Tn(t),s.c(),P(s,1),s.m(e,n)):s&&(j(),F(s,1,1,(()=>{s=null})),B());let a=r;r=h(t),r===a?~r&&p[r].p(t,i):(o&&(j(),F(p[a],1,1,(()=>{p[a]=null})),B()),~r?(o=p[r],o?o.p(t,i):(o=p[r]=u[r](t),o.c()),P(o,1),o.m(e,null)):o=null)},i(t){i||(P(s),P(o),i=!0)},o(t){F(s),F(o),i=!1},d(t){t&&c(e),s&&s.d(),~r&&p[r].d()}}}function Tn(t){let e,n,r,o,i,s,h,m,_,v,b,x,w,S,E,T,$=(t[0].bashing??0)+"",O=(t[0].cutting??0)+"",k=t[4](t[0])+"",C=t[5].length&&function(t){let e,n,r,o,i=t[5],s=[];for(let e=0;e<i.length;e+=1)s[e]=$n(Pe(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Techniques",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","no-bullets")},m(t,i){l(t,e,i),l(t,n,i),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,e){if(32&e[0]){let n;for(i=t[5],n=0;n<i.length;n+=1){const o=Pe(t,i,n);s[n]?(s[n].p(o,e),P(s[n],1)):(s[n]=$n(o),s[n].c(),P(s[n],1),s[n].m(r,null))}for(j(),n=i.length;n<s.length;n+=1)p(n);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Melee",r=f(),o=d("dl"),i=d("dt"),i.textContent="Bash",s=d("dd"),h=p($),m=d("dt"),m.textContent="Cut",_=d("dd"),v=p(O),b=d("dt"),b.textContent="To Hit",x=d("dd"),x.textContent=`${t[10]}`,w=d("dt"),w.textContent="Moves Per Attack",S=d("dd"),E=p(k),C&&C.c()},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(o,i),a(o,s),a(s,h),a(o,m),a(o,_),a(_,v),a(o,b),a(o,x),a(o,w),a(o,S),a(S,E),C&&C.m(o,null),T=!0},p(t,e){(!T||1&e[0])&&$!==($=(t[0].bashing??0)+"")&&y(h,$),(!T||1&e[0])&&O!==(O=(t[0].cutting??0)+"")&&y(v,O),(!T||1&e[0])&&k!==(k=t[4](t[0])+"")&&y(E,k),t[5].length&&C.p(t,e)},i(t){T||(P(C),T=!0)},o(t){F(C),T=!1},d(t){t&&c(e),C&&C.d()}}}function $n(e){let n,r,o,i,s,u,f=e[64].description+"";return o=new _t({props:{type:"technique",id:e[64].id}}),{c(){n=d("li"),r=d("strong"),H(o.$$.fragment),i=p(": "),s=p(f)},m(t,e){l(t,n,e),a(n,r),W(o,r,null),a(n,i),a(n,s),u=!0},p:t,i(t){u||(P(o.$$.fragment,t),u=!0)},o(t){F(o.$$.fragment,t),u=!1},d(t){t&&c(n),G(o)}}}function On(t){let e,n,r=(t[0].damage||t[0].show_stats)&&Cn(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),l(t,e,o),n=!0},p(t,n){t[0].damage||t[0].show_stats?r?(r.p(t,n),1&n[0]&&P(r,1)):(r=Cn(t),r.c(),P(r,1),r.m(e.parentNode,e)):r&&(j(),F(r,1,1,(()=>{r=null})),B())},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function kn(t){let e,n,r,o,i,s,u,h,m,_,v,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,j,B,q,U,Y,J,z,V,K,X=(t[0].ranged_damage?.amount??0)+"",Z=(t[0].ranged_damage?.damage_type??"bullet")+"",Q=(t[0].ranged_damage?.armor_penetration??0)+"",tt=(t[0].range??0)+"",et=(t[0].dispersion??0)+"",nt=((t[0].flags??[]).includes("DISABLE_SIGHTS")?90:t[0].sight_dispersion??30)+"",rt=(t[0].recoil??0)+"",ot=(t[0].reload??100)+"",it=(t[0].durability??0)+"";u=new _t({props:{type:"skill",id:t[0].skill}});let st=t[0].min_strength&&Rn(t),at=t[0].valid_mod_locations?.length&&An(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Ranged",r=f(),o=d("dl"),i=d("dt"),i.textContent="Skill",s=d("dd"),H(u.$$.fragment),st&&st.c(),h=d("dt"),h.textContent="Base Damage",m=d("dd"),_=p(X),v=p(" ("),b=p(Z),x=p(")"),w=d("dt"),w.textContent="Armor Penetration",S=d("dd"),E=p(Q),T=d("dt"),T.textContent="Range Bonus",$=d("dd"),O=p(tt),k=d("dt"),k.textContent="Base Dispersion",C=d("dd"),I=p(et),M=d("dt"),M.textContent="Sight Dispersion",R=d("dd"),A=p(nt),N=f(),L=d("dt"),L.textContent="Base Recoil",D=d("dd"),j=p(rt),B=d("dt"),B.textContent="Reload Time",q=d("dd"),U=p(ot),Y=p(" moves"),at&&at.c(),J=d("dt"),J.textContent="Durability",z=d("dd"),V=p(it),g(T,"title","Added to ammo range"),g(k,"title","Added to ammo dispersion")},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(o,i),a(o,s),W(u,s,null),st&&st.m(o,null),a(o,h),a(o,m),a(m,_),a(m,v),a(m,b),a(m,x),a(o,w),a(o,S),a(S,E),a(o,T),a(o,$),a($,O),a(o,k),a(o,C),a(C,I),a(o,M),a(o,R),a(R,A),a(R,N),a(o,L),a(o,D),a(D,j),a(o,B),a(o,q),a(q,U),a(q,Y),at&&at.m(o,null),a(o,J),a(o,z),a(z,V),K=!0},p(t,e){const n={};1&e[0]&&(n.id=t[0].skill),u.$set(n),t[0].min_strength?st?st.p(t,e):(st=Rn(t),st.c(),st.m(o,h)):st&&(st.d(1),st=null),(!K||1&e[0])&&X!==(X=(t[0].ranged_damage?.amount??0)+"")&&y(_,X),(!K||1&e[0])&&Z!==(Z=(t[0].ranged_damage?.damage_type??"bullet")+"")&&y(b,Z),(!K||1&e[0])&&Q!==(Q=(t[0].ranged_damage?.armor_penetration??0)+"")&&y(E,Q),(!K||1&e[0])&&tt!==(tt=(t[0].range??0)+"")&&y(O,tt),(!K||1&e[0])&&et!==(et=(t[0].dispersion??0)+"")&&y(I,et),(!K||1&e[0])&&nt!==(nt=((t[0].flags??[]).includes("DISABLE_SIGHTS")?90:t[0].sight_dispersion??30)+"")&&y(A,nt),(!K||1&e[0])&&rt!==(rt=(t[0].recoil??0)+"")&&y(j,rt),(!K||1&e[0])&&ot!==(ot=(t[0].reload??100)+"")&&y(U,ot),t[0].valid_mod_locations?.length?at?at.p(t,e):(at=An(t),at.c(),at.m(o,J)):at&&(at.d(1),at=null),(!K||1&e[0])&&it!==(it=(t[0].durability??0)+"")&&y(V,it)},i(t){K||(P(u.$$.fragment,t),K=!0)},o(t){F(u.$$.fragment,t),K=!1},d(t){t&&c(e),G(u),st&&st.d(),at&&at.d()}}}function Cn(t){let e,n,r,o,i,s,u,m,g,_,v,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,q,U,Y=(t[0].damage?.amount??0)+"",J=(t[0].damage?.damage_type??"bullet")+"",z=(t[0].damage?.armor_penetration??0)+"",V=(t[0].range??0)+"",K=(t[0].dispersion??0)+"",X=(t[0].recoil??0)+"",Z=(t[0].critical_multiplier??2)+"";u=new _t({props:{type:"ammunition_type",id:t[0].ammo_type}});let Q=t[0].casing&&In(t),tt=t[0].effects?.length&&Mn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Ammunition",r=f(),o=d("dl"),i=d("dt"),i.textContent="Ammunition Type",s=d("dd"),H(u.$$.fragment),m=d("dt"),m.textContent="Damage",g=d("dd"),_=p(Y),v=p(" ("),b=p(J),x=p(")"),w=d("dt"),w.textContent="Armor Penetration",S=d("dd"),E=p(z),T=d("dt"),T.textContent="Range",$=d("dd"),O=p(V),k=d("dt"),k.textContent="Dispersion",C=d("dd"),I=p(K),M=d("dt"),M.textContent="Recoil",R=d("dd"),A=p(X),N=d("dt"),N.textContent="Critical Multiplier",L=d("dd"),D=p(Z),Q&&Q.c(),q=h(),tt&&tt.c()},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o),a(o,i),a(o,s),W(u,s,null),a(o,m),a(o,g),a(g,_),a(g,v),a(g,b),a(g,x),a(o,w),a(o,S),a(S,E),a(o,T),a(o,$),a($,O),a(o,k),a(o,C),a(C,I),a(o,M),a(o,R),a(R,A),a(o,N),a(o,L),a(L,D),Q&&Q.m(o,null),a(o,q),tt&&tt.m(o,null),U=!0},p(t,e){const n={};1&e[0]&&(n.id=t[0].ammo_type),u.$set(n),(!U||1&e[0])&&Y!==(Y=(t[0].damage?.amount??0)+"")&&y(_,Y),(!U||1&e[0])&&J!==(J=(t[0].damage?.damage_type??"bullet")+"")&&y(b,J),(!U||1&e[0])&&z!==(z=(t[0].damage?.armor_penetration??0)+"")&&y(E,z),(!U||1&e[0])&&V!==(V=(t[0].range??0)+"")&&y(O,V),(!U||1&e[0])&&K!==(K=(t[0].dispersion??0)+"")&&y(I,K),(!U||1&e[0])&&X!==(X=(t[0].recoil??0)+"")&&y(A,X),(!U||1&e[0])&&Z!==(Z=(t[0].critical_multiplier??2)+"")&&y(D,Z),t[0].casing?Q?(Q.p(t,e),1&e[0]&&P(Q,1)):(Q=In(t),Q.c(),P(Q,1),Q.m(o,q)):Q&&(j(),F(Q,1,1,(()=>{Q=null})),B()),t[0].effects?.length?tt?tt.p(t,e):(tt=Mn(t),tt.c(),tt.m(o,null)):tt&&(tt.d(1),tt=null)},i(t){U||(P(u.$$.fragment,t),P(Q),U=!0)},o(t){F(u.$$.fragment,t),F(Q),U=!1},d(t){t&&c(e),G(u),Q&&Q.d(),tt&&tt.d()}}}function In(t){let e,n,r,o;return r=new _t({props:{id:t[0].casing,type:"item"}}),{c(){e=d("dt"),e.textContent="Casing",n=d("dd"),H(r.$$.fragment)},m(t,i){l(t,e,i),l(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e[0]&&(n.id=t[0].casing),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),G(r)}}}function Mn(t){let e,n,r,o=t[0].effects.join(", ")+"";return{c(){e=d("dt"),e.textContent="Effects",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e[0]&&o!==(o=t[0].effects.join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Rn(t){let e,n,r,o=t[0].min_strength+"";return{c(){e=d("dt"),e.textContent="Min Strength",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e[0]&&o!==(o=t[0].min_strength+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function An(t){let e,n,r,o=t[0].valid_mod_locations.map(Xn).join(", ")+"";return{c(){e=d("dt"),e.textContent="Mod Slots",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e[0]&&o!==(o=t[0].valid_mod_locations.map(Xn).join(", ")+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function Nn(e){let n,r,o,i,s,u,f,h=e[61]+"",m=1===e[61]?"":"s";return u=new _t({props:{id:e[44],type:"ammunition_type"}}),{c(){n=d("li"),r=p(h),o=p(" round"),i=p(m),s=p(" of "),H(u.$$.fragment)},m(t,e){l(t,n,e),a(n,r),a(n,o),a(n,i),a(n,s),W(u,n,null),f=!0},p:t,i(t){f||(P(u.$$.fragment,t),f=!0)},o(t){F(u.$$.fragment,t),f=!1},d(t){t&&c(n),G(u)}}}function Ln(e){let n,r,o=e[58]+"";return{c(){n=d("li"),r=p(o)},m(t,e){l(t,n,e),a(n,r)},p:t,d(t){t&&c(n)}}}function Dn(e){let n,r,o;return r=new _t({props:{type:"item",id:e[0]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function jn(e){let n,r,o,i,s,m,y,_,v,b,x=e[53].moves+"",w=null!=e[53].max_contains_volume&&function(e){let n,r,o,i=e[53].max_contains_volume+"";return{c(){n=d("dt"),n.textContent="Volume Capacity",r=d("dd"),o=p(i)},m(t,e){l(t,n,e),l(t,r,e),a(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),S=null!=e[53].max_contains_weight&&function(e){let n,r,o,i=e[53].max_contains_weight+"";return{c(){n=d("dt"),n.textContent="Weight Capacity",r=d("dd"),o=p(i)},m(t,e){l(t,n,e),l(t,r,e),a(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),E=e[53].ammo_restriction&&function(t){let e,n,r,o,i,s=[...Object.entries(t[53].ammo_restriction)],p=[];for(let e=0;e<s.length;e+=1)p[e]=Nn(Be(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Ammo Restriction",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f()},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(2048&e[0]){let n;for(s=[...Object.entries(t[53].ammo_restriction)],n=0;n<s.length;n+=1){const o=Be(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=Nn(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(e),T=e[53].max_item_length&&function(e){let n,r,o,i=e[53].max_item_length+"";return{c(){n=d("dt"),n.textContent="Max Item Length",r=d("dd"),o=p(i)},m(t,e){l(t,n,e),l(t,r,e),a(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),$="0 ml"!==e[53].min_item_volume&&function(e){let n,r,o,i=e[53].min_item_volume+"";return{c(){n=d("dt"),n.textContent="Min Item Volume",r=d("dd"),o=p(i)},m(t,e){l(t,n,e),l(t,r,e),a(r,o)},p:t,d(t){t&&c(n),t&&c(r)}}}(e),O=e[53].flag_restriction&&function(t){let e,n,r,o,i=t[53].flag_restriction,s=[];for(let e=0;e<i.length;e+=1)s[e]=Ln(je(t,i,e));return{c(){e=d("dt"),e.textContent="Flag Restriction",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();o=f(),g(r,"class","comma-separated")},m(t,i){l(t,e,i),l(t,n,i),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);a(n,o)},p(t,e){if(2048&e[0]){let n;for(i=t[53].flag_restriction,n=0;n<i.length;n+=1){const o=je(t,i,n);s[n]?s[n].p(o,e):(s[n]=Ln(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&c(e),t&&c(n),u(s,t)}}}(e),k=e[53].item_restriction&&function(t){let e,n,r,o,i,s=t[53].item_restriction,p=[];for(let e=0;e<s.length;e+=1)p[e]=Dn(De(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Item Restriction",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f(),g(r,"class","comma-separated")},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(2048&e[0]){let n;for(s=t[53].item_restriction,n=0;n<s.length;n+=1){const o=De(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=Dn(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(e);return{c(){n=d("dl"),w&&w.c(),r=h(),S&&S.c(),o=h(),E&&E.c(),i=h(),T&&T.c(),s=h(),$&&$.c(),m=d("dt"),m.textContent="Moves to Remove Item",y=d("dd"),_=p(x),O&&O.c(),v=h(),k&&k.c()},m(t,e){l(t,n,e),w&&w.m(n,null),a(n,r),S&&S.m(n,null),a(n,o),E&&E.m(n,null),a(n,i),T&&T.m(n,null),a(n,s),$&&$.m(n,null),a(n,m),a(n,y),a(y,_),O&&O.m(n,null),a(n,v),k&&k.m(n,null),b=!0},p(t,e){null!=t[53].max_contains_volume&&w.p(t,e),null!=t[53].max_contains_weight&&S.p(t,e),t[53].ammo_restriction&&E.p(t,e),t[53].max_item_length&&T.p(t,e),"0 ml"!==t[53].min_item_volume&&$.p(t,e),t[53].flag_restriction&&O.p(t,e),t[53].item_restriction&&k.p(t,e)},i(t){b||(P(E),P(k),b=!0)},o(t){F(E),F(k),b=!1},d(t){t&&c(n),w&&w.d(),S&&S.d(),E&&E.d(),T&&T.d(),$&&$.d(),O&&O.d(),k&&k.d()}}}function Bn(t){let e,n,r,o,i,s,p=t[13].length&&function(t){let e,n,r=[],o=new Me,i=t[13];const s=t=>t[50];for(let e=0;e<i.length;e+=1){let n=Ne(t,i,e),a=s(n);o.set(a,r[e]=Pn(a,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=h()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);l(t,e,o),n=!0},p(t,n){8192&n[0]&&(i=t[13],j(),r=function(t,e,n,r,o,i,s,a,l,c,u,d){let p=t.length,f=i.length,h=p;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,_=new Map;for(h=f;h--;){const t=d(o,i,h),a=n(t);let l=s.get(a);l?r&&l.p(t,e):(l=c(a,t),l.c()),y.set(a,g[h]=l),a in m&&_.set(a,Math.abs(h-m[a]))}const v=new Set,b=new Set;function x(t){P(t,1),t.m(a,u),s.set(t.key,t),u=t.first,f--}for(;p&&f;){const e=g[f-1],n=t[p-1],r=e.key,o=n.key;e===n?(u=e.first,p--,f--):y.has(o)?!s.has(r)||v.has(r)?x(e):b.has(o)?p--:_.get(r)>_.get(o)?(b.add(r),x(e)):(v.add(o),p--):(l(n,s),p--)}for(;p--;){const e=t[p];y.has(e.key)||l(e,s)}for(;f;)x(g[f-1]);return g}(r,n,s,1,t,i,o,e.parentNode,U,Pn,e,Ne),B())},i(t){if(!n){for(let t=0;t<i.length;t+=1)P(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)F(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&c(e)}}}(t),m=t[19].length&&function(t){let e,n,r,o,i,s,p=t[19].slice(0,t[1]),h=[];for(let e=0;e<p.length;e+=1)h[e]=Fn(Ae(t,p,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[19].length>t[1]&&qn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Dropped By",r=f(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=f(),g&&g.c()},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);a(e,i),g&&g.m(e,null),s=!0},p(t,n){if(524290&n[0]){let e;for(p=t[19].slice(0,t[1]),e=0;e<p.length;e+=1){const r=Ae(t,p,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Fn(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=p.length;e<h.length;e+=1)m(e);B()}t[19].length>t[1]?g?g.p(t,n):(g=qn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(h[t]);s=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);s=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t),g=t[20].length&&function(t){let e,n,r,o,i,s,p=t[20].slice(0,t[2]),h=[];for(let e=0;e<p.length;e+=1)h[e]=Un(Re(t,p,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[20].length>t[2]&&Hn(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Disassemble",r=f(),o=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();i=f(),g&&g.c()},m(t,c){l(t,e,c),a(e,n),a(e,r),a(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);a(e,i),g&&g.m(e,null),s=!0},p(t,n){if(1048580&n[0]){let e;for(p=t[20].slice(0,t[2]),e=0;e<p.length;e+=1){const r=Re(t,p,e);h[e]?(h[e].p(r,n),P(h[e],1)):(h[e]=Un(r),h[e].c(),P(h[e],1),h[e].m(o,null))}for(j(),e=p.length;e<h.length;e+=1)m(e);B()}t[20].length>t[2]?g?g.p(t,n):(g=Hn(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(h[t]);s=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);s=!1},d(t){t&&c(e),u(h,t),g&&g.d()}}}(t);return{c(){e=d("h2"),e.textContent="Obtaining",n=f(),p&&p.c(),r=f(),m&&m.c(),o=f(),g&&g.c(),i=h()},m(t,a){l(t,e,a),l(t,n,a),p&&p.m(t,a),l(t,r,a),m&&m.m(t,a),l(t,o,a),g&&g.m(t,a),l(t,i,a),s=!0},p(t,e){t[13].length&&p.p(t,e),t[19].length&&m.p(t,e),t[20].length&&g.p(t,e)},i(t){s||(P(p),P(m),P(g),s=!0)},o(t){F(p),F(m),F(g),s=!1},d(t){t&&c(e),t&&c(n),p&&p.d(t),t&&c(r),m&&m.d(t),t&&c(o),g&&g.d(t),t&&c(i)}}}function Pn(t,e){let n,r,o;return r=new Ie({props:{recipe:e[50]}}),{key:t,first:null,c(){n=h(),H(r.$$.fragment),this.first=n},m(t,e){l(t,n,e),W(r,t,e),o=!0},p(t,n){e=t},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r,t)}}}function Fn(t){let e,n,r,o,i,s,u=Gn(t[47])+"";return n=new _t({props:{id:t[44],type:"monster"}}),{c(){e=d("li"),H(n.$$.fragment),r=p(" ("),o=p(u),i=p(")")},m(t,c){l(t,e,c),W(n,e,null),a(e,r),a(e,o),a(e,i),s=!0},p(t,e){const r={};2&e[0]&&(r.id=t[44]),n.$set(r),(!s||2&e[0])&&u!==(u=Gn(t[47])+"")&&y(o,u)},i(t){s||(P(n.$$.fragment,t),s=!0)},o(t){F(n.$$.fragment,t),s=!1},d(t){t&&c(e),G(n)}}}function qn(e){let n,r,o;return{c(){n=d("a"),n.textContent="See all...",g(n,"href","")},m(t,i){l(t,n,i),r||(o=m(n,"click",e[25]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function Un(t){let e,n,r;return n=new _t({props:{id:t[44],type:"item"}}),{c(){e=d("li"),H(n.$$.fragment)},m(t,o){l(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};4&e[0]&&(r.id=t[44]),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),G(n)}}}function Hn(e){let n,r,o;return{c(){n=d("a"),n.textContent="See all...",g(n,"href","")},m(t,i){l(t,n,i),r||(o=m(n,"click",e[26]),r=!0)},p:t,d(t){t&&c(n),r=!1,o()}}}function Wn(t){let e,n,r,o,i,s,m,_,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,q,U,H,W,G,Y,J,z,V,K,X,Z,et,nt=t[0].symbol+"",rt=tt(t[0])+"",st=ot(t[0].volume)+"",at=it(t[0].weight)+"",lt=t[3](t[0])+"",ct=Q(t[0].description)+"",ut=t[11].filter(Yn).length,dt=t[7].length&&function(t){let e,n,r,o,i,s=t[7],p=[];for(let e=0;e<s.length;e+=1)p[e]=Ve(ze(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Material",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f(),g(r,"class","comma-separated")},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(128&e[0]){let n;for(s=t[7],n=0;n<s.length;n+=1){const o=ze(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=Ve(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(t),pt=t[15].length&&function(t){let e,n,r,o,i,s=t[15].map(t[22]),p=[];for(let e=0;e<s.length;e+=1)p[e]=Ke(Je(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Ammo",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f(),g(r,"class","no-bullets")},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(49153&e[0]){let n;for(s=t[15].map(t[22]),n=0;n<s.length;n+=1){const o=Je(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=Ke(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(t),ft=t[12].length&&function(t){let e,n,r,o,i,s=t[12],p=[];for(let e=0;e<s.length;e+=1)p[e]=Xe(Ye(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Compatible Magazines",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f(),g(r,"class","comma-separated")},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(4096&e[0]){let n;for(s=t[12],n=0;n<s.length;n+=1){const o=Ye(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=Xe(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(t),ht=t[8],mt=[];for(let e=0;e<ht.length;e+=1)mt[e]=Qe(Ge(t,ht,e));const gt=t=>F(mt[t],1,1,(()=>{mt[t]=null}));let yt=null;ht.length||(yt=Ze());let _t=t[9].length&&function(t){let e,n,r,o,i,s=t[9],p=[];for(let e=0;e<s.length;e+=1)p[e]=tn(We(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Possible Faults",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f(),g(r,"class","comma-separated")},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(512&e[0]){let n;for(s=t[9],n=0;n<s.length;n+=1){const o=We(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=tn(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(t),vt=t[6].length&&function(t){let e,n,r,o,i,s=t[6],p=[];for(let e=0;e<s.length;e+=1)p[e]=en(He(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Qualities",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f(),g(r,"class","no-bullets")},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(64&e[0]){let n;for(s=t[6],n=0;n<s.length;n+=1){const o=He(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=en(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(t),bt=t[21]&&function(t){let e,n,r,o,i=t[21].components,s=[];for(let e=0;e<i.length;e+=1)s[e]=nn(Ue(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Dissasembles Into",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","comma-separated")},m(t,i){l(t,e,i),l(t,n,i),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,e){if(2097152&e[0]){let n;for(i=t[21].components,n=0;n<i.length;n+=1){const o=Ue(t,i,n);s[n]?(s[n].p(o,e),P(s[n],1)):(s[n]=nn(o),s[n].c(),P(s[n],1),s[n].m(r,null))}for(j(),n=i.length;n<s.length;n+=1)p(n);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t)}}}(t),xt="BOOK"===t[0].type&&rn(t),wt=("ARMOR"===t[0].type||"TOOL_ARMOR"===t[0].type)&&ln(t),St="ENGINE"===t[0].type&&t[0].displacement&&Sn(t),Et=(t[0].bashing||t[0].cutting||"GUN"===t[0].type||"AMMO"===t[0].type)&&En(t),Tt=ut&&function(t){let e,n,r,o,i=t[11].filter(Zn),s=[];for(let e=0;e<i.length;e+=1)s[e]=jn(Le(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Pockets",r=f();for(let t=0;t<s.length;t+=1)s[t].c()},m(t,i){l(t,e,i),a(e,n),a(e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);o=!0},p(t,n){if(2048&n[0]){let r;for(i=t[11].filter(Zn),r=0;r<i.length;r+=1){const o=Le(t,i,r);s[r]?(s[r].p(o,n),P(s[r],1)):(s[r]=jn(o),s[r].c(),P(s[r],1),s[r].m(e,null))}for(j(),r=i.length;r<s.length;r+=1)p(r);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),u(s,t)}}}(t),$t=(t[19].length||t[20].length||t[13].length)&&Bn(t);return{c(){e=d("h1"),n=d("span"),r=p(nt),i=f(),s=p(rt),m=f(),_=d("section"),b=d("h1"),b.textContent="General",x=f(),w=d("dl"),dt&&dt.c(),S=d("dt"),S.textContent="Volume",E=d("dd"),T=p(st),$=d("dt"),$.textContent="Weight",O=d("dd"),k=p(at),C=d("dt"),C.textContent="Length",I=d("dd"),M=p(lt),pt&&pt.c(),R=h(),ft&&ft.c(),A=d("dt"),A.textContent="Flags",N=d("dd"),L=d("ul");for(let t=0;t<mt.length;t+=1)mt[t].c();yt&&yt.c(),D=f(),_t&&_t.c(),q=h(),vt&&vt.c(),U=h(),bt&&bt.c(),H=f(),W=d("p"),G=p(ct),Y=f(),xt&&xt.c(),J=f(),wt&&wt.c(),z=f(),St&&St.c(),V=f(),Et&&Et.c(),K=f(),Tt&&Tt.c(),X=f(),$t&&$t.c(),Z=h(),v(n,"font-family","monospace"),g(n,"class",o="c_"+t[0].color),g(L,"class","comma-separated"),v(W,"color","var(--cata-color-gray)")},m(t,o){l(t,e,o),a(e,n),a(n,r),a(e,i),a(e,s),l(t,m,o),l(t,_,o),a(_,b),a(_,x),a(_,w),dt&&dt.m(w,null),a(w,S),a(w,E),a(E,T),a(w,$),a(w,O),a(O,k),a(w,C),a(w,I),a(I,M),pt&&pt.m(w,null),a(w,R),ft&&ft.m(w,null),a(w,A),a(w,N),a(N,L);for(let t=0;t<mt.length;t+=1)mt[t].m(L,null);yt&&yt.m(L,null),a(N,D),_t&&_t.m(w,null),a(w,q),vt&&vt.m(w,null),a(w,U),bt&&bt.m(w,null),a(_,H),a(_,W),a(W,G),l(t,Y,o),xt&&xt.m(t,o),l(t,J,o),wt&&wt.m(t,o),l(t,z,o),St&&St.m(t,o),l(t,V,o),Et&&Et.m(t,o),l(t,K,o),Tt&&Tt.m(t,o),l(t,X,o),$t&&$t.m(t,o),l(t,Z,o),et=!0},p(t,e){if((!et||1&e[0])&&nt!==(nt=t[0].symbol+"")&&y(r,nt),(!et||1&e[0]&&o!==(o="c_"+t[0].color))&&g(n,"class",o),(!et||1&e[0])&&rt!==(rt=tt(t[0])+"")&&y(s,rt),t[7].length&&dt.p(t,e),(!et||1&e[0])&&st!==(st=ot(t[0].volume)+"")&&y(T,st),(!et||1&e[0])&&at!==(at=it(t[0].weight)+"")&&y(k,at),(!et||1&e[0])&&lt!==(lt=t[3](t[0])+"")&&y(M,lt),t[15].length&&pt.p(t,e),t[12].length&&ft.p(t,e),256&e[0]){let n;for(ht=t[8],n=0;n<ht.length;n+=1){const r=Ge(t,ht,n);mt[n]?(mt[n].p(r,e),P(mt[n],1)):(mt[n]=Qe(r),mt[n].c(),P(mt[n],1),mt[n].m(L,null))}for(j(),n=ht.length;n<mt.length;n+=1)gt(n);B(),ht.length?yt&&(yt.d(1),yt=null):yt||(yt=Ze(),yt.c(),yt.m(L,null))}t[9].length&&_t.p(t,e),t[6].length&&vt.p(t,e),t[21]&&bt.p(t,e),(!et||1&e[0])&&ct!==(ct=Q(t[0].description)+"")&&y(G,ct),"BOOK"===t[0].type?xt?(xt.p(t,e),1&e[0]&&P(xt,1)):(xt=rn(t),xt.c(),P(xt,1),xt.m(J.parentNode,J)):xt&&(j(),F(xt,1,1,(()=>{xt=null})),B()),"ARMOR"===t[0].type||"TOOL_ARMOR"===t[0].type?wt?wt.p(t,e):(wt=ln(t),wt.c(),wt.m(z.parentNode,z)):wt&&(wt.d(1),wt=null),"ENGINE"===t[0].type&&t[0].displacement?St?St.p(t,e):(St=Sn(t),St.c(),St.m(V.parentNode,V)):St&&(St.d(1),St=null),t[0].bashing||t[0].cutting||"GUN"===t[0].type||"AMMO"===t[0].type?Et?(Et.p(t,e),1&e[0]&&P(Et,1)):(Et=En(t),Et.c(),P(Et,1),Et.m(K.parentNode,K)):Et&&(j(),F(Et,1,1,(()=>{Et=null})),B()),ut&&Tt.p(t,e),(t[19].length||t[20].length||t[13].length)&&$t.p(t,e)},i(t){if(!et){P(dt),P(pt),P(ft);for(let t=0;t<ht.length;t+=1)P(mt[t]);P(_t),P(vt),P(bt),P(xt),P(Et),P(Tt),P($t),et=!0}},o(t){F(dt),F(pt),F(ft),mt=mt.filter(Boolean);for(let t=0;t<mt.length;t+=1)F(mt[t]);F(_t),F(vt),F(bt),F(xt),F(Et),F(Tt),F($t),et=!1},d(t){t&&c(e),t&&c(m),t&&c(_),dt&&dt.d(),pt&&pt.d(),ft&&ft.d(),u(mt,t),yt&&yt.d(),_t&&_t.d(),vt&&vt.d(),bt&&bt.d(),t&&c(Y),xt&&xt.d(t),t&&c(J),wt&&wt.d(t),t&&c(z),St&&St.d(t),t&&c(V),Et&&Et.d(t),t&&c(K),Tt&&Tt.d(t),t&&c(X),$t&&$t.d(t),t&&c(Z)}}}function Gn(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}const Yn=t=>"CONTAINER"===t.pocket_type,Jn=(t,e)=>t[1]!==e[1]?t[1]-e[1]:t[0].localeCompare(e[0]),zn=(t,e)=>t+e.bash_resist??0,Vn=(t,e)=>t+e.cut_resist??0,Kn=(t,e)=>t+e.bullet_resist??0,Xn=([t,e])=>`${t} (${e})`,Zn=t=>"CONTAINER"===t.pocket_type;function Qn(t,e,n){var r,o,i,s,a,l,c,u,d;let{item:p}=e,f=S("data");let h=(null!==(r=p.techniques)&&void 0!==r?r:[]).map((t=>f.byId("technique",t))),m=(null!==(o=p.qualities)&&void 0!==o?o:[]).map((([t,e])=>({quality:f.byId("tool_quality",t),level:e}))),g=("string"==typeof p.material?[p.material]:null!==(i=p.material)&&void 0!==i?i:[]).map((t=>f.byId("material",t))),y=(null!==(s=p.flags)&&void 0!==s?s:[]).map((t=>{var e;return null!==(e=f.byId("json_flag",t))&&void 0!==e?e:{id:t}})),_=(null!==(a=p.faults)&&void 0!==a?a:[]).map((t=>f.byId("fault",t)));const v={bad:0,none:1,solid:2,weapon:3},b={hand:0,short:1,long:2},x={point:0,line:1,any:2,every:3},w={clumsy:0,uneven:1,neutral:2,good:3},E="object"==typeof p.to_hit?(({grip:t="weapon",length:e="hand",surface:n="any",balance:r="neutral"})=>-7+v[t]+b[e]+x[n]+w[r])(p.to_hit):null!==(l=p.to_hit)&&void 0!==l?l:0,T={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let $=(null!==(c=p.pocket_data)&&void 0!==c?c:[]).map((t=>({...T,...t}))),O=$.filter((t=>"MAGAZINE_WELL"===t.pocket_type)).flatMap((t=>t.item_restriction)),k=f.byType("recipe").filter((t=>"recipe"===t.type&&t.result===p.id&&!t.obsolete));function C(t){var e;let n=0;for(const r of $)"MAGAZINE"===r.pocket_type&&r.ammo_restriction&&(n+=null!==(e=r.ammo_restriction[t])&&void 0!==e?e:0);return n}let I=$.flatMap((t=>{var e;return"MAGAZINE"===t.pocket_type?Object.keys(null!==(e=t.ammo_restriction)&&void 0!==e?e:{}):[]}));let M=(null!==(u=p.covers)&&void 0!==u?u:[]).length;const R=new Map;if("BOOK"===p.type){function A(t,e){var n;R.set(t,Math.min(e,null!==(n=R.get(t))&&void 0!==n?n:1/0))}for(const t of f.byType("recipe"))if(Array.isArray(t.book_learn))for(const[e,n=0]of t.book_learn)if(e===p.id)A(t.result,n);else if(t.book_learn)for(const[e,n]of Object.entries(t.book_learn))e===p.id&&A(t.result,null!==(d=n.skill_level)&&void 0!==d?d:0)}const N=f.byType("monster").flatMap((t=>{if(!t.id)return[];const e=f.flatDeathDrops(t.id).find((t=>t.id===p.id));return e?[{id:t.id,prob:e.prob}]:[]}));N.sort(((t,e)=>e.prob-t.prob));let L=10;const D=new Set;for(const t of f.byType("recipe"))if(t.result&&(t.reversible||"uncraft"===t.type)){(t.using?Array.isArray(t.using)?t.using:[[t.using,1]]:[]).map((([t,e])=>[f.byId("requirement",t),e])).concat([[t,1]]).flatMap((([t,e])=>{var n;return ut(f,null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})).map((t=>t[0])).some((t=>t.id===p.id))&&D.add(t.result)}const j=[...D].sort(((t,e)=>tt(f.byId("item",t)).localeCompare(tt(f.byId("item",e))))),B=(()=>{const t=f.uncraftRecipe(p.id);if(!t)return;return{components:(t.using?Array.isArray(t.using)?t.using:[[t.using,1]]:[]).map((([t,e])=>[f.byId("requirement",t),e])).concat([[t,1]]).flatMap((([t,e])=>{var n;return ut(f,null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})).map((t=>t[0]))}})();let P=10;return t.$$set=t=>{"item"in t&&n(0,p=t.item)},[p,L,P,function(t){return t.longest_side?t.longest_side:`${Math.round(Math.cbrt(nt(t.volume)))} cm`},function(t){return Math.floor(65+(Math.floor(nt(t.volume)/62.5)+Math.floor(rt(t.weight)/60)))},h,m,g,y,_,E,$,O,k,C,I,function(t){var e;return(null!==(e=p.covers)&&void 0!==e?e:[]).includes(t)},M,R,N,j,B,t=>({id:t,max_charges:C(t)}),()=>{let t=g.reduce(((t,e)=>t+e.acid_resist??0),0)/g.length;const e=p.environmental_protection??0;return e<10&&(t*=e/10),t},()=>{let t=g.reduce(((t,e)=>t+e.fire_resist??0),0)/g.length;const e=p.environmental_protection??0;return e<10&&(t*=e/10),t},t=>{t.preventDefault(),n(1,L=1/0)},t=>{t.preventDefault(),n(2,P=1/0)}]}class tr extends z{constructor(t){super(),J(this,t,Qn,Wn,i,{item:0},[-1,-1,-1,-1])}}function er(e){let n,r,o=JSON.stringify(e[0],null,2)+"";return{c(){n=d("pre"),r=p(o)},m(t,e){l(t,n,e),a(n,r)},p(t,[e]){1&e&&o!==(o=JSON.stringify(t[0],null,2)+"")&&y(r,o)},i:t,o:t,d(t){t&&c(n)}}}function nr(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class rr extends z{constructor(t){super(),J(this,t,nr,er,i,{item:0})}}function or(t){let e,n,r,o;return r=new _t({props:{type:"item",id:t[0].repaired_with}}),{c(){e=d("dt"),e.textContent="Repaired With",n=d("dd"),H(r.$$.fragment)},m(t,i){l(t,e,i),l(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].repaired_with),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),G(r)}}}function ir(t){let e,n,r,o;return r=new _t({props:{type:"item",id:t[0].salvaged_into}}),{c(){e=d("dt"),e.textContent="Salvaged Into",n=d("dd"),H(r.$$.fragment)},m(t,i){l(t,e,i),l(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].salvaged_into),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),G(r)}}}function sr(t){let e,n,r,o,i,s,u,m,_,v,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,q,U,H,W,G,Y,J,z,V,K,X,Z,Q,tt,et,nt,rt,ot,it,st,at,lt,ct,ut=t[0].name+"",dt=t[0].density+"",pt=(t[0].specific_heat_liquid??4.186)+"",ft=(t[0].specific_heat_solid??2.108)+"",ht=(t[0].latent_heat??333)+"",mt=(t[0].bash_resist??0)+"",gt=(t[0].cut_resist??0)+"",yt=(t[0].bullet_resist??0)+"",_t=(t[0].acid_resist??0)+"",vt=(t[0].elec_resist??0)+"",bt=(t[0].chip_resist??0)+"",xt=t[0].edible?"yes":"no",wt=t[0].rotting?"yes":"no",St=t[0].repaired_with&&or(t),Et=t[0].salvaged_into&&ir(t);return{c(){e=d("h1"),n=p("Material: "),r=p(ut),o=f(),i=d("section"),s=d("h1"),s.textContent="Properties",u=f(),m=d("dl"),_=d("dt"),_.textContent="Density",v=d("dd"),b=p(dt),x=d("dt"),x.textContent="Specific Heat",w=d("dd"),S=p(pt),E=p(" (liquid) / "),T=p(ft),$=p(" (solid)"),O=d("dt"),O.textContent="Latent Heat",k=d("dd"),C=p(ht),I=d("dt"),I.textContent="Resistance",M=d("dd"),R=d("dl"),A=d("dt"),A.textContent="Bash",N=d("dd"),L=p(mt),D=d("dt"),D.textContent="Cut",q=d("dd"),U=p(gt),H=d("dt"),H.textContent="Ballistic",W=d("dd"),G=p(yt),Y=d("dt"),Y.textContent="Acid",J=d("dd"),z=p(_t),V=d("dt"),V.textContent="Electricity",K=d("dd"),X=p(vt),Z=d("dt"),Z.textContent="Chip",Q=d("dd"),tt=p(bt),et=f(),St&&St.c(),nt=h(),Et&&Et.c(),rt=d("dt"),rt.textContent="Edible",ot=d("dd"),it=p(xt),st=d("dt"),st.textContent="Rots",at=d("dd"),lt=p(wt),g(_,"title","Relative to 'powder', which is 1"),g(Z,"title","Resistance to physical damage of the item itself"),g(st,"title","Corpses made of this material will go bad")},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),l(t,i,c),a(i,s),a(i,u),a(i,m),a(m,_),a(m,v),a(v,b),a(m,x),a(m,w),a(w,S),a(w,E),a(w,T),a(w,$),a(m,O),a(m,k),a(k,C),a(m,I),a(m,M),a(M,R),a(R,A),a(R,N),a(N,L),a(R,D),a(R,q),a(q,U),a(R,H),a(R,W),a(W,G),a(R,Y),a(R,J),a(J,z),a(R,V),a(R,K),a(K,X),a(R,Z),a(R,Q),a(Q,tt),a(M,et),St&&St.m(m,null),a(m,nt),Et&&Et.m(m,null),a(m,rt),a(m,ot),a(ot,it),a(m,st),a(m,at),a(at,lt),ct=!0},p(t,[e]){(!ct||1&e)&&ut!==(ut=t[0].name+"")&&y(r,ut),(!ct||1&e)&&dt!==(dt=t[0].density+"")&&y(b,dt),(!ct||1&e)&&pt!==(pt=(t[0].specific_heat_liquid??4.186)+"")&&y(S,pt),(!ct||1&e)&&ft!==(ft=(t[0].specific_heat_solid??2.108)+"")&&y(T,ft),(!ct||1&e)&&ht!==(ht=(t[0].latent_heat??333)+"")&&y(C,ht),(!ct||1&e)&&mt!==(mt=(t[0].bash_resist??0)+"")&&y(L,mt),(!ct||1&e)&&gt!==(gt=(t[0].cut_resist??0)+"")&&y(U,gt),(!ct||1&e)&&yt!==(yt=(t[0].bullet_resist??0)+"")&&y(G,yt),(!ct||1&e)&&_t!==(_t=(t[0].acid_resist??0)+"")&&y(z,_t),(!ct||1&e)&&vt!==(vt=(t[0].elec_resist??0)+"")&&y(X,vt),(!ct||1&e)&&bt!==(bt=(t[0].chip_resist??0)+"")&&y(tt,bt),t[0].repaired_with?St?(St.p(t,e),1&e&&P(St,1)):(St=or(t),St.c(),P(St,1),St.m(m,nt)):St&&(j(),F(St,1,1,(()=>{St=null})),B()),t[0].salvaged_into?Et?(Et.p(t,e),1&e&&P(Et,1)):(Et=ir(t),Et.c(),P(Et,1),Et.m(m,rt)):Et&&(j(),F(Et,1,1,(()=>{Et=null})),B()),(!ct||1&e)&&xt!==(xt=t[0].edible?"yes":"no")&&y(it,xt),(!ct||1&e)&&wt!==(wt=t[0].rotting?"yes":"no")&&y(lt,wt)},i(t){ct||(P(St),P(Et),ct=!0)},o(t){F(St),F(Et),ct=!1},d(t){t&&c(e),t&&c(o),t&&c(i),St&&St.d(),Et&&Et.d()}}}function ar(t,e,n){let{item:r}=e;return S("data"),t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class lr extends z{constructor(t){super(),J(this,t,ar,sr,i,{item:0})}}function cr(t,e,n){const r=t.slice();return r[3]=e[n],r}function ur(t){let e;return{c(){e=p("(default)")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function dr(t){let e,n,r,o,i;n=new _t({props:{type:"item",id:t[3].id}});let s=t[3].id===t[0].default&&ur();return{c(){e=d("li"),H(n.$$.fragment),r=f(),s&&s.c(),o=f()},m(t,c){l(t,e,c),W(n,e,null),a(e,r),s&&s.m(e,null),a(e,o),i=!0},p(t,n){t[3].id===t[0].default?s||(s=ur(),s.c(),s.m(e,o)):s&&(s.d(1),s=null)},i(t){i||(P(n.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),i=!1},d(t){t&&c(e),G(n),s&&s.d()}}}function pr(t){let e,n,r,o,i,s,h,m,g,_=tt(t[0])+"",v=t[1],b=[];for(let e=0;e<v.length;e+=1)b[e]=dr(cr(t,v,e));const x=t=>F(b[t],1,1,(()=>{b[t]=null}));return{c(){e=d("h1"),n=p("Ammunition Type: "),r=p(_),o=f(),i=d("section"),s=d("h1"),s.textContent="Compatible Variants",h=f(),m=d("ul");for(let t=0;t<b.length;t+=1)b[t].c()},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),l(t,i,c),a(i,s),a(i,h),a(i,m);for(let t=0;t<b.length;t+=1)b[t].m(m,null);g=!0},p(t,[e]){if((!g||1&e)&&_!==(_=tt(t[0])+"")&&y(r,_),3&e){let n;for(v=t[1],n=0;n<v.length;n+=1){const r=cr(t,v,n);b[n]?(b[n].p(r,e),P(b[n],1)):(b[n]=dr(r),b[n].c(),P(b[n],1),b[n].m(m,null))}for(j(),n=v.length;n<b.length;n+=1)x(n);B()}},i(t){if(!g){for(let t=0;t<v.length;t+=1)P(b[t]);g=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)F(b[t]);g=!1},d(t){t&&c(e),t&&c(o),t&&c(i),u(b,t)}}}function fr(t,e,n){let{item:r}=e;const o=S("data").byType("item").flatMap((t=>"AMMO"===t.type&&t.id&&t.ammo_type===r.id?[t]:[]));return o.sort(((t,e)=>tt(t).localeCompare(tt(e)))),t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r,o]}class hr extends z{constructor(t){super(),J(this,t,fr,pr,i,{item:0})}}function mr(t,e,n){const r=t.slice();return r[5]=e[n],r}function gr(t,e,n){const r=t.slice();return r[8]=e[n].id,r}function yr(t,e,n){const r=t.slice();return r[5]=e[n][0],r[11]=e[n][1],r}function _r(t,e,n){const r=t.slice();return r[14]=e[n],r}function vr(t){let e,n,r,o,i=t[0].usages,s=[];for(let e=0;e<i.length;e+=1)s[e]=xr(yr(t,i,e));return{c(){e=d("section"),n=d("h1"),n.textContent="Usages",r=f(),o=d("dl");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,i){l(t,e,i),a(e,n),a(e,r),a(e,o);for(let t=0;t<s.length;t+=1)s[t].m(o,null)},p(t,e){if(1&e){let n;for(i=t[0].usages,n=0;n<i.length;n+=1){const r=yr(t,i,n);s[n]?s[n].p(r,e):(s[n]=xr(r),s[n].c(),s[n].m(o,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&c(e),u(s,t)}}}function br(t){let e,n,r=t[14]+"";return{c(){e=d("li"),n=p(r)},m(t,r){l(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=t[14]+"")&&y(n,r)},d(t){t&&c(e)}}}function xr(t){let e,n,r,o,i,s,h=t[5]+"",m=t[11],_=[];for(let e=0;e<m.length;e+=1)_[e]=br(_r(t,m,e));return{c(){e=d("dt"),n=p("At Level "),r=p(h),o=d("dd"),i=d("ul");for(let t=0;t<_.length;t+=1)_[t].c();s=f(),g(i,"class","comma-separated")},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),a(o,i);for(let t=0;t<_.length;t+=1)_[t].m(i,null);a(o,s)},p(t,e){if(1&e&&h!==(h=t[5]+"")&&y(r,h),1&e){let n;for(m=t[11],n=0;n<m.length;n+=1){const r=_r(t,m,n);_[n]?_[n].p(r,e):(_[n]=br(r),_[n].c(),_[n].m(i,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=m.length}},d(t){t&&c(e),t&&c(o),u(_,t)}}}function wr(e){let n,r,o;return r=new _t({props:{type:"item",id:e[8]}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function Sr(t){let e,n,r,o,i,s,h,m=t[5]+"",g=t[1].get(t[5]).sort(t[2]),y=[];for(let e=0;e<g.length;e+=1)y[e]=wr(gr(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),n=p("Level "),r=p(m),o=d("dd"),i=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();s=f()},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),a(o,i);for(let t=0;t<y.length;t+=1)y[t].m(i,null);a(o,s),h=!0},p(t,e){if(2&e){let n;for(g=t[1].get(t[5]).sort(t[2]),n=0;n<g.length;n+=1){const r=gr(t,g,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=wr(r),y[n].c(),P(y[n],1),y[n].m(i,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);B()}},i(t){if(!h){for(let t=0;t<g.length;t+=1)P(y[t]);h=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);h=!1},d(t){t&&c(e),t&&c(o),u(y,t)}}}function Er(t){let e,n,r,o,i,s,h,m,g,_,v=tt(t[0])+"",b=t[0].usages&&vr(t),x=[...t[1].keys()].sort(Tr),w=[];for(let e=0;e<x.length;e+=1)w[e]=Sr(mr(t,x,e));const S=t=>F(w[t],1,1,(()=>{w[t]=null}));return{c(){e=d("h1"),n=p("Quality: "),r=p(v),o=f(),b&&b.c(),i=f(),s=d("section"),h=d("h1"),h.textContent="Tools",m=f(),g=d("dl");for(let t=0;t<w.length;t+=1)w[t].c()},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),b&&b.m(t,c),l(t,i,c),l(t,s,c),a(s,h),a(s,m),a(s,g);for(let t=0;t<w.length;t+=1)w[t].m(g,null);_=!0},p(t,[e]){if((!_||1&e)&&v!==(v=tt(t[0])+"")&&y(r,v),t[0].usages?b?b.p(t,e):(b=vr(t),b.c(),b.m(i.parentNode,i)):b&&(b.d(1),b=null),2&e){let n;for(x=[...t[1].keys()].sort(Tr),n=0;n<x.length;n+=1){const r=mr(t,x,n);w[n]?(w[n].p(r,e),P(w[n],1)):(w[n]=Sr(r),w[n].c(),P(w[n],1),w[n].m(g,null))}for(j(),n=x.length;n<w.length;n+=1)S(n);B()}},i(t){if(!_){for(let t=0;t<x.length;t+=1)P(w[t]);_=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)F(w[t]);_=!1},d(t){t&&c(e),t&&c(o),b&&b.d(t),t&&c(i),t&&c(s),u(w,t)}}}const Tr=(t,e)=>t-e;function $r(t,e,n){var r;let{item:o}=e,i=S("data"),s=new Map;for(const t of i.byType("item")){if("TOOL"!==t.type&&"TOOL_ARMOR"!==t.type)continue;const e=(null!==(r=t.qualities)&&void 0!==r?r:[]).find((([t,e])=>t===o.id));if(e){const[,n]=e;s.has(n)||s.set(n,[]),s.get(n).push(t)}}return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,s,(t,e)=>tt(t).localeCompare(tt(e))]}class Or extends z{constructor(t){super(),J(this,t,$r,Er,i,{item:0})}}function kr(t,e,n){const r=t.slice();return r[9]=e[n],r}function Cr(t,e,n){const r=t.slice();return r[12]=e[n].id,r[13]=e[n].item,r[14]=e[n].count,r[16]=n,r}function Ir(t,e,n){const r=t.slice();return r[17]=e[n],r}function Mr(t,e,n){const r=t.slice();return r[20]=e[n],r[16]=n,r}function Rr(t,e,n){const r=t.slice();return r[22]=e[n],r}function Ar(t,e,n){const r=t.slice();return r[25]=e[n],r[16]=n,r}function Nr(t,e,n){const r=t.slice();return r[12]=e[n][0],r[27]=e[n][1],r[16]=n,r}function Lr(t){let e,n,r,o;const i=[jr,Dr],s=[];function a(t,e){return t[0].skill?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){s[e].m(t,n),l(t,r,n),o=!0},p(t,o){let l=e;e=a(t),e===l?s[e].p(t,o):(j(),F(s[l],1,1,(()=>{s[l]=null})),B(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){s[e].d(t),t&&c(r)}}}function Dr(e){let n;return{c(){n=d("em"),n.textContent="none"},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function jr(t){let e,n,r,o,i,s=(t[0].difficulty??0)+"";return e=new _t({props:{type:"skill",id:t[0].skill}}),{c(){H(e.$$.fragment),n=p(" ("),r=p(s),o=p(")")},m(t,s){W(e,t,s),l(t,n,s),l(t,r,s),l(t,o,s),i=!0},p(t,n){const o={};1&n&&(o.id=t[0].skill),e.$set(o),(!i||1&n)&&s!==(s=(t[0].difficulty??0)+"")&&y(r,s)},i(t){i||(P(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){G(e,t),t&&c(n),t&&c(r),t&&c(o)}}}function Br(t){let e;return{c(){e=p(", ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Pr(t){let e;return{c(){e=p(" and ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Fr(t){let e,n,r,o,i,s,a=t[27]+"";function u(t,e){return t[16]===t[0].required_skills.length-2?Pr:t[16]!==t[0].required_skills.length-1?Br:void 0}e=new _t({props:{type:"skill",id:t[12]}});let d=u(t),f=d&&d(t);return{c(){H(e.$$.fragment),n=p(" ("),r=p(a),o=p(")"),f&&f.c(),i=h()},m(t,a){W(e,t,a),l(t,n,a),l(t,r,a),l(t,o,a),f&&f.m(t,a),l(t,i,a),s=!0},p(t,n){const o={};1&n&&(o.id=t[12]),e.$set(o),(!s||1&n)&&a!==(a=t[27]+"")&&y(r,a),d!==(d=u(t))&&(f&&f.d(1),f=d&&d(t),f&&(f.c(),f.m(i.parentNode,i)))},i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){F(e.$$.fragment,t),s=!1},d(t){G(e,t),t&&c(n),t&&c(r),t&&c(o),f&&f.d(t),t&&c(i)}}}function qr(t){let e,n,r,o;return r=new _t({props:{type:"furniture",id:t[0].pre_terrain}}),{c(){e=d("dt"),e.textContent="Requires",n=d("dd"),H(r.$$.fragment)},m(t,i){l(t,e,i),l(t,n,i),W(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.id=t[0].pre_terrain),r.$set(n)},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(e),t&&c(n),G(r)}}}function Ur(e){let n,r,o,i,s,a,u,d,h,m,g,y=(e[25].amount??1)+"",_=1===(e[25].amount??1)?"":"s",v=e[25].level+"",b=0!==e[16]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return a=new _t({props:{type:"tool_quality",id:e[25].id}}),{c(){b&&b.c(),n=f(),r=p(y),o=p(" tool"),i=p(_),s=p("\n          with "),H(a.$$.fragment),u=p(" of "),d=p(v),h=p(" or more"),m=p("")},m(t,e){b&&b.m(t,e),l(t,n,e),l(t,r,e),l(t,o,e),l(t,i,e),l(t,s,e),W(a,t,e),l(t,u,e),l(t,d,e),l(t,h,e),l(t,m,e),g=!0},p:t,i(t){g||(P(a.$$.fragment,t),g=!0)},o(t){F(a.$$.fragment,t),g=!1},d(t){b&&b.d(t),t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(s),G(a,t),t&&c(u),t&&c(d),t&&c(h),t&&c(m)}}}function Hr(t){let e,n,r,o=t[22],i=[];for(let e=0;e<o.length;e+=1)i[e]=Ur(Ar(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p(".")},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(16&r){let a;for(o=t[22],a=0;a<o.length;a+=1){const s=Ar(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=Ur(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Wr(e){let n,r;return n=new _t({props:{type:"item",id:e[20].id}}),{c(){H(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function Gr(e){let n,r,o=tt(e[1].byId("item",e[20].id))+"";return{c(){n=d("a"),r=p(o),g(n,"href","#/furniture/"+e[1].craftingPseudoItem(e[20].id))},m(t,e){l(t,n,e),a(n,r)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Yr(e){let n,r,o,i,s=e[20].count+"",a=1!==e[20].count&&function(t){let e;return{c(){e=p("s")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=p("("),r=p(s),o=p(" charge"),a&&a.c(),i=p(")")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),a&&a.m(t,e),l(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),a&&a.d(t),t&&c(i)}}}function Jr(t){let e,n,r,o,i,s,a=0!==t[16]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();const u=[Gr,Wr],d=[];n=function(t,e){return t[1].craftingPseudoItem(t[20].id)?0:1}(t),r=d[n]=u[n](t);let m=t[20].count>0&&Yr(t);return{c(){a&&a.c(),e=f(),r.c(),o=f(),m&&m.c(),i=h()},m(t,r){a&&a.m(t,r),l(t,e,r),d[n].m(t,r),l(t,o,r),m&&m.m(t,r),l(t,i,r),s=!0},p(t,e){r.p(t,e),t[20].count>0&&m.p(t,e)},i(t){s||(P(r),s=!0)},o(t){F(r),s=!1},d(t){a&&a.d(t),t&&c(e),d[n].d(t),t&&c(o),m&&m.d(t),t&&c(i)}}}function zr(t){let e,n,r,o=t[17],i=[];for(let e=0;e<o.length;e+=1)i[e]=Jr(Mr(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f()},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(6&r){let a;for(o=t[17],a=0;a<o.length;a+=1){const s=Mr(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=Jr(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Vr(e){let n,r,o,i=0!==e[16]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return r=new _t({props:{id:e[12],count:e[14],type:"item"}}),{c(){i&&i.c(),n=f(),H(r.$$.fragment)},m(t,e){i&&i.m(t,e),l(t,n,e),W(r,t,e),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){i&&i.d(t),t&&c(n),G(r,t)}}}function Kr(t){let e,n,r,o=t[9].map(t[5]),i=[];for(let e=0;e<o.length;e+=1)i[e]=Vr(Cr(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f()},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(10&r){let a;for(o=t[9].map(t[5]),a=0;a<o.length;a+=1){const s=Cr(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=Vr(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Xr(t){let e,n,r=t[0].pre_note+"";return{c(){e=d("p"),n=p(r),v(e,"color","var(--cata-color-gray)")},m(t,r){l(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=t[0].pre_note+"")&&y(n,r)},d(t){t&&c(e)}}}function Zr(t){let e,n,r,o,i,s,m,g,_,v,b,x,w,S,E,T,$,O,k,C,I,M=tt(t[1].byId("construction_group",t[0].group))+"",R=("number"==typeof t[0].time?`${t[0].time} m`:t[0].time??"0 m")+"",A=t[0].pre_terrain?.startsWith("f_"),N=JSON.stringify(t[0],null,2)+"",L=t[0].required_skills??[],D=[];for(let e=0;e<L.length;e+=1)D[e]=Fr(Nr(t,L,e));const q=t=>F(D[t],1,1,(()=>{D[t]=null}));let U=null;L.length||(U=Lr(t));let H=A&&qr(t),W=(t[4].length||t[2].length)&&function(t){let e,n,r,o,i,s,p=t[4]??[],h=[];for(let e=0;e<p.length;e+=1)h[e]=Hr(Rr(t,p,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[2],y=[];for(let e=0;e<g.length;e+=1)y[e]=zr(Ir(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),e.textContent="Tools Required",n=d("dd"),r=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();o=f();for(let t=0;t<y.length;t+=1)y[t].c();i=f()},m(t,c){l(t,e,c),l(t,n,c),a(n,r);for(let t=0;t<h.length;t+=1)h[t].m(r,null);a(r,o);for(let t=0;t<y.length;t+=1)y[t].m(r,null);a(n,i),s=!0},p(t,e){if(16&e){let n;for(p=t[4]??[],n=0;n<p.length;n+=1){const i=Rr(t,p,n);h[n]?(h[n].p(i,e),P(h[n],1)):(h[n]=Hr(i),h[n].c(),P(h[n],1),h[n].m(r,o))}for(j(),n=p.length;n<h.length;n+=1)m(n);B()}if(6&e){let n;for(g=t[2],n=0;n<g.length;n+=1){const o=Ir(t,g,n);y[n]?(y[n].p(o,e),P(y[n],1)):(y[n]=zr(o),y[n].c(),P(y[n],1),y[n].m(r,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);B()}},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(h[t]);for(let t=0;t<g.length;t+=1)P(y[t]);s=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);s=!1},d(t){t&&c(e),t&&c(n),u(h,t),u(y,t)}}}(t),G=t[3].length&&function(t){let e,n,r,o,i=t[3],s=[];for(let e=0;e<i.length;e+=1)s[e]=Kr(kr(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Components",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,i){l(t,e,i),l(t,n,i),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,e){if(10&e){let n;for(i=t[3],n=0;n<i.length;n+=1){const o=kr(t,i,n);s[n]?(s[n].p(o,e),P(s[n],1)):(s[n]=Kr(o),s[n].c(),P(s[n],1),s[n].m(r,null))}for(j(),n=i.length;n<s.length;n+=1)p(n);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t)}}}(t),Y=t[0].pre_note&&Xr(t);return{c(){e=d("section"),n=d("h1"),r=p(M),o=f(),i=d("dl"),s=d("dt"),s.textContent="Required Skills",m=d("dd");for(let t=0;t<D.length;t+=1)D[t].c();U&&U.c(),g=f(),_=d("dt"),_.textContent="Time",v=d("dd"),b=p(R),H&&H.c(),x=h(),W&&W.c(),w=h(),G&&G.c(),S=f(),Y&&Y.c(),E=f(),T=d("details"),$=d("summary"),$.textContent="Construction JSON",O=f(),k=d("pre"),C=p(N)},m(t,c){l(t,e,c),a(e,n),a(n,r),a(e,o),a(e,i),a(i,s),a(i,m);for(let t=0;t<D.length;t+=1)D[t].m(m,null);U&&U.m(m,null),a(m,g),a(i,_),a(i,v),a(v,b),H&&H.m(i,null),a(i,x),W&&W.m(i,null),a(i,w),G&&G.m(i,null),a(e,S),Y&&Y.m(e,null),a(e,E),a(e,T),a(T,$),a(T,O),a(T,k),a(k,C),I=!0},p(t,[n]){if((!I||1&n)&&M!==(M=tt(t[1].byId("construction_group",t[0].group))+"")&&y(r,M),1&n){let e;for(L=t[0].required_skills??[],e=0;e<L.length;e+=1){const r=Nr(t,L,e);D[e]?(D[e].p(r,n),P(D[e],1)):(D[e]=Fr(r),D[e].c(),P(D[e],1),D[e].m(m,g))}for(j(),e=L.length;e<D.length;e+=1)q(e);B(),!L.length&&U?U.p(t,n):L.length?U&&(j(),F(U,1,1,(()=>{U=null})),B()):(U=Lr(t),U.c(),P(U,1),U.m(m,g))}(!I||1&n)&&R!==(R=("number"==typeof t[0].time?`${t[0].time} m`:t[0].time??"0 m")+"")&&y(b,R),1&n&&(A=t[0].pre_terrain?.startsWith("f_")),A?H?(H.p(t,n),1&n&&P(H,1)):(H=qr(t),H.c(),P(H,1),H.m(i,x)):H&&(j(),F(H,1,1,(()=>{H=null})),B()),(t[4].length||t[2].length)&&W.p(t,n),t[3].length&&G.p(t,n),t[0].pre_note?Y?Y.p(t,n):(Y=Xr(t),Y.c(),Y.m(e,E)):Y&&(Y.d(1),Y=null),(!I||1&n)&&N!==(N=JSON.stringify(t[0],null,2)+"")&&y(C,N)},i(t){if(!I){for(let t=0;t<L.length;t+=1)P(D[t]);P(H),P(W),P(G),I=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)F(D[t]);F(H),F(W),F(G),I=!1},d(t){t&&c(e),u(D,t),U&&U.d(),H&&H.d(),W&&W.d(),G&&G.d(),Y&&Y.d()}}}function Qr(t,e,n){var r;const o=S("data");let{construction:i}=e;const s=("string"==typeof i.using?[[i.using,1]]:null!==(r=i.using)&&void 0!==r?r:[]).map((([t,e])=>[o.byId("requirement",t),e])).concat([[i,1]]),a=s.flatMap((([t,e])=>{var n;return ut(o,null!==(n=t.tools)&&void 0!==n?n:[],(t=>t.tools)).map((t=>t.map((t=>({...t,count:t.count*e})))))})),l=s.flatMap((([t,e])=>{var n;return ut(o,null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>({...t,count:t.count*e})))))})),c=s.flatMap((([t,e])=>{var n;return(null!==(n=t.qualities)&&void 0!==n?n:[]).map((t=>Array.isArray(t)?t:[t]))}));return t.$$set=t=>{"construction"in t&&n(0,i=t.construction)},[i,o,a,l,c,t=>({...t,item:o.byId("item",t.id)})]}class to extends z{constructor(t){super(),J(this,t,Qr,Zr,i,{construction:0})}}function eo(t,e,n){const r=t.slice();return r[9]=e[n],r}function no(t,e,n){const r=t.slice();return r[12]=e[n],r}function ro(t,e,n){const r=t.slice();return r[15]=e[n][0],r[16]=e[n][1],r}function oo(t,e,n){const r=t.slice();return r[19]=e[n].id,r[20]=e[n].prob,r[21]=e[n].count,r}function io(t){let e,n,r=50*t[0].move_cost_mod+"";return{c(){e=p("+"),n=p(r)},m(t,r){l(t,e,r),l(t,n,r)},p(t,e){1&e&&r!==(r=50*t[0].move_cost_mod+"")&&y(n,r)},d(t){t&&c(e),t&&c(n)}}}function so(e){let n;return{c(){n=d("em"),n.textContent="impassable"},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function ao(e){let n,r,o,i,s,a,u=e[21][0]+"",d=e[21][1]+"";return{c(){n=p(" "),r=p("("),o=p(u),i=p("–"),s=p(d),a=p(")")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),l(t,i,e),l(t,s,e),l(t,a,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(s),t&&c(a)}}}function lo(e){let n,r=1!==e[21][0]&&function(e){let n,r,o,i,s=" ",a=e[21][0]+"";return{c(){n=p(s),r=p("("),o=p(a),i=p(")")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),l(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}(e);return{c(){r&&r.c(),n=h()},m(t,e){r&&r.m(t,e),l(t,n,e)},p(t,e){1!==t[21][0]&&r.p(t,e)},d(t){r&&r.d(t),t&&c(n)}}}function co(e){let n,r,o,i,s;r=new _t({props:{type:"item",id:e[19]}});let u=function(t,e){return t[21][0]===t[21][1]?lo:ao}(e)(e),f=1!==e[20]&&function(e){let n,r,o,i,s=function(t){const e=(100*t).toFixed(2);return"0.00"===e?"< 0.01%":e+"%"}(e[20])+"";return{c(){n=p(" "),r=p("("),o=p(s),i=p(")")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),l(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}(e);return{c(){n=d("li"),H(r.$$.fragment),o=p(""),u.c(),i=p(""),f&&f.c()},m(t,e){l(t,n,e),W(r,n,null),a(n,o),u.m(n,null),a(n,i),f&&f.m(n,null),s=!0},p(t,e){u.p(t,e),1!==t[20]&&f.p(t,e)},i(t){s||(P(r.$$.fragment,t),s=!0)},o(t){F(r.$$.fragment,t),s=!1},d(t){t&&c(n),G(r),u.d(),f&&f.d()}}}function uo(t){let e,n,r=t[16].length&&function(t){let e,n,r,o,i,s,h=t[15]+"",m=t[16],y=[];for(let e=0;e<m.length;e+=1)y[e]=co(oo(t,m,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),n=p(h),r=d("dd"),o=d("ul");for(let t=0;t<y.length;t+=1)y[t].c();i=f(),g(o,"class","comma-separated")},m(t,c){l(t,e,c),a(e,n),l(t,r,c),a(r,o);for(let t=0;t<y.length;t+=1)y[t].m(o,null);a(r,i),s=!0},p(t,e){if(24&e){let n;for(m=t[16],n=0;n<m.length;n+=1){const r=oo(t,m,n);y[n]?(y[n].p(r,e),P(y[n],1)):(y[n]=co(r),y[n].c(),P(y[n],1),y[n].m(o,null))}for(j(),n=m.length;n<y.length;n+=1)_(n);B()}},i(t){if(!s){for(let t=0;t<m.length;t+=1)P(y[t]);s=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);s=!1},d(t){t&&c(e),t&&c(r),u(y,t)}}}(t);return{c(){r&&r.c(),e=h()},m(t,o){r&&r.m(t,o),l(t,e,o),n=!0},p(t,e){t[16].length&&r.p(t,e)},i(t){n||(P(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&c(e)}}}function po(t){let e,n,r=t[12]+"";return{c(){e=d("li"),n=p(r)},m(t,r){l(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=t[12]+"")&&y(n,r)},d(t){t&&c(e)}}}function fo(e){let n,r;return n=new to({props:{construction:e[9]}}),{c(){H(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function ho(t){let e,n,r,o,i,s,m,_,b,x,w,S,E,T,$,O,k,C,I,M,R,A,N,L,D,q,U,H,W,G,Y,J=tt(t[0])+"",z=(t[0].required_str>=0?t[0].required_str:"not movable")+"",V=(t[0].coverage??0)+"",K=(t[0].comfort??0)+"",X=t[0].description+"";function Z(t,e){return t[0].move_cost_mod<0?so:io}let Q=Z(t),et=Q(t),nt=[["Deconstruct",t[3]],["Bash",t[4]]],rt=[];for(let e=0;e<2;e+=1)rt[e]=uo(ro(t,nt,e));const ot=t=>F(rt[t],1,1,(()=>{rt[t]=null}));let it=t[0].flags??[],st=[];for(let e=0;e<it.length;e+=1)st[e]=po(no(t,it,e));let at=t[5].length&&function(t){let e,n,r,o,i=t[5],s=[];for(let e=0;e<i.length;e+=1)s[e]=fo(eo(t,i,e));const a=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("h2"),e.textContent="Construction",n=f();for(let t=0;t<s.length;t+=1)s[t].c();r=h()},m(t,i){l(t,e,i),l(t,n,i);for(let e=0;e<s.length;e+=1)s[e].m(t,i);l(t,r,i),o=!0},p(t,e){if(32&e){let n;for(i=t[5],n=0;n<i.length;n+=1){const o=eo(t,i,n);s[n]?(s[n].p(o,e),P(s[n],1)):(s[n]=fo(o),s[n].c(),P(s[n],1),s[n].m(r.parentNode,r))}for(j(),n=i.length;n<s.length;n+=1)a(n);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t),t&&c(r)}}}(t);return{c(){e=d("h1"),n=d("span"),r=p(t[2]),o=f(),i=p(J),s=f(),m=d("section"),_=d("h1"),_.textContent="General",b=f(),x=d("dl"),w=d("dt"),w.textContent="Move Cost Modifier",S=d("dd"),et.c(),E=d("dt"),E.textContent="Strength Required to Drag",T=d("dd"),$=p(z),O=d("dt"),O.textContent="Coverage",k=d("dd"),C=p(V),I=p("%"),M=d("dt"),M.textContent="Comfort",R=d("dd"),A=p(K);for(let t=0;t<2;t+=1)rt[t].c();N=d("dt"),N.textContent="Flags",L=d("dd"),D=d("ul");for(let t=0;t<st.length;t+=1)st[t].c();q=f(),U=d("p"),H=p(X),W=f(),at&&at.c(),G=h(),v(n,"font-family","monospace"),g(n,"class","c_"+t[1]),g(D,"class","comma-separated"),v(U,"color","var(--cata-color-gray)")},m(t,c){l(t,e,c),a(e,n),a(n,r),a(e,o),a(e,i),l(t,s,c),l(t,m,c),a(m,_),a(m,b),a(m,x),a(x,w),a(x,S),et.m(S,null),a(x,E),a(x,T),a(T,$),a(x,O),a(x,k),a(k,C),a(k,I),a(x,M),a(x,R),a(R,A);for(let t=0;t<2;t+=1)rt[t].m(x,null);a(x,N),a(x,L),a(L,D);for(let t=0;t<st.length;t+=1)st[t].m(D,null);a(m,q),a(m,U),a(U,H),l(t,W,c),at&&at.m(t,c),l(t,G,c),Y=!0},p(t,[e]){if((!Y||1&e)&&J!==(J=tt(t[0])+"")&&y(i,J),Q===(Q=Z(t))&&et?et.p(t,e):(et.d(1),et=Q(t),et&&(et.c(),et.m(S,null))),(!Y||1&e)&&z!==(z=(t[0].required_str>=0?t[0].required_str:"not movable")+"")&&y($,z),(!Y||1&e)&&V!==(V=(t[0].coverage??0)+"")&&y(C,V),(!Y||1&e)&&K!==(K=(t[0].comfort??0)+"")&&y(A,K),24&e){let n;for(nt=[["Deconstruct",t[3]],["Bash",t[4]]],n=0;n<2;n+=1){const r=ro(t,nt,n);rt[n]?(rt[n].p(r,e),P(rt[n],1)):(rt[n]=uo(r),rt[n].c(),P(rt[n],1),rt[n].m(x,N))}for(j(),n=2;n<2;n+=1)ot(n);B()}if(1&e){let n;for(it=t[0].flags??[],n=0;n<it.length;n+=1){const r=no(t,it,n);st[n]?st[n].p(r,e):(st[n]=po(r),st[n].c(),st[n].m(D,null))}for(;n<st.length;n+=1)st[n].d(1);st.length=it.length}(!Y||1&e)&&X!==(X=t[0].description+"")&&y(H,X),t[5].length&&at.p(t,e)},i(t){if(!Y){for(let t=0;t<2;t+=1)P(rt[t]);P(at),Y=!0}},o(t){rt=rt.filter(Boolean);for(let t=0;t<2;t+=1)F(rt[t]);F(at),Y=!1},d(t){t&&c(e),t&&c(s),t&&c(m),et.d(),u(rt,t),u(st,t),t&&c(W),at&&at.d(t),t&&c(G)}}}function mo(t){return"string"==typeof t?`i_${t}`:mo(t[0])}function go(t,e,n){var r,o;const i=S("data");let{item:s}=e;const a=s.color?s.color:s.bgcolor?mo(s.bgcolor):null,l="string"==typeof s.symbol?s.symbol:s.symbol[0],c=(null===(r=s.deconstruct)||void 0===r?void 0:r.items)?at(i,{subtype:"collection",entries:s.deconstruct.items}):[],u=(null===(o=s.bash)||void 0===o?void 0:o.items)?at(i,{subtype:"collection",entries:s.bash.items}):[],d=i.byType("construction").filter((t=>t.post_terrain===s.id));return t.$$set=t=>{"item"in t&&n(0,s=t.item)},[s,a,l,c,u,d]}class yo extends z{constructor(t){super(),J(this,t,go,ho,i,{item:0})}}function _o(e){let n,r,o,i,s,u,h,m=tt(e[0])+"",g=e[0].description+"";return{c(){n=d("h1"),r=p("Skill: "),o=p(m),i=f(),s=d("section"),u=d("p"),h=p(g),v(u,"color","var(--cata-color-gray)")},m(t,e){l(t,n,e),a(n,r),a(n,o),l(t,i,e),l(t,s,e),a(s,u),a(u,h)},p(t,[e]){1&e&&m!==(m=tt(t[0])+"")&&y(o,m),1&e&&g!==(g=t[0].description+"")&&y(h,g)},i:t,o:t,d(t){t&&c(n),t&&c(i),t&&c(s)}}}function vo(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class bo extends z{constructor(t){super(),J(this,t,vo,_o,i,{item:0})}}function xo(t,e,n){const r=t.slice();return r[1]=e[n],r}function wo(t){let e,n,r,o,i=t[0].required_proficiencies,s=[];for(let e=0;e<i.length;e+=1)s[e]=So(xo(t,i,e));const p=t=>F(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("dt"),e.textContent="Required Proficiencies",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();g(r,"class","comma-separated")},m(t,i){l(t,e,i),l(t,n,i),a(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,e){if(1&e){let n;for(i=t[0].required_proficiencies,n=0;n<i.length;n+=1){const o=xo(t,i,n);s[n]?(s[n].p(o,e),P(s[n],1)):(s[n]=So(o),s[n].c(),P(s[n],1),s[n].m(r,null))}for(j(),n=i.length;n<s.length;n+=1)p(n);B()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)P(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)F(s[t]);o=!1},d(t){t&&c(e),t&&c(n),u(s,t)}}}function So(t){let e,n,r;return n=new _t({props:{id:t[1],type:"proficiency"}}),{c(){e=d("li"),H(n.$$.fragment)},m(t,o){l(t,e,o),W(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.id=t[1]),n.$set(r)},i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&c(e),G(n)}}}function Eo(t){let e,n,r,o,i,s,u,h,m,g,_,b,x,w,S,E,T,$,O,k,C,I=tt(t[0])+"",M=(t[0].can_learn?t[0].time_to_learn:"not learnable")+"",R=(t[0].default_time_multiplier??2)+"",A=(t[0].default_fail_multiplier??2)+"",N=t[0].description+"",L=t[0].required_proficiencies&&wo(t);return{c(){e=d("h1"),n=p("Proficiency: "),r=p(I),o=f(),i=d("section"),s=d("dl"),u=d("dt"),u.textContent="Time to Learn",h=d("dd"),m=p(M),g=d("dt"),g.textContent="Default Time Multiplier",_=d("dd"),b=p(R),x=p("×"),w=d("dt"),w.textContent="Default Fail Multiplier",S=d("dd"),E=p(A),T=p("×"),L&&L.c(),$=f(),O=d("p"),k=p(N),v(O,"color","var(--cata-color-gray)")},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),l(t,i,c),a(i,s),a(s,u),a(s,h),a(h,m),a(s,g),a(s,_),a(_,b),a(_,x),a(s,w),a(s,S),a(S,E),a(S,T),L&&L.m(s,null),a(i,$),a(i,O),a(O,k),C=!0},p(t,[e]){(!C||1&e)&&I!==(I=tt(t[0])+"")&&y(r,I),(!C||1&e)&&M!==(M=(t[0].can_learn?t[0].time_to_learn:"not learnable")+"")&&y(m,M),(!C||1&e)&&R!==(R=(t[0].default_time_multiplier??2)+"")&&y(b,R),(!C||1&e)&&A!==(A=(t[0].default_fail_multiplier??2)+"")&&y(E,A),t[0].required_proficiencies?L?(L.p(t,e),1&e&&P(L,1)):(L=wo(t),L.c(),P(L,1),L.m(s,null)):L&&(j(),F(L,1,1,(()=>{L=null})),B()),(!C||1&e)&&N!==(N=t[0].description+"")&&y(k,N)},i(t){C||(P(L),C=!0)},o(t){F(L),C=!1},d(t){t&&c(e),t&&c(o),t&&c(i),L&&L.d()}}}function To(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class $o extends z{constructor(t){super(),J(this,t,To,Eo,i,{item:0})}}function Oo(t){let e,n,r,o=t[0].info+"";return{c(){e=d("section"),n=d("p"),r=p(o),v(n,"color","var(--cata-color-gray)")},m(t,o){l(t,e,o),a(e,n),a(n,r)},p(t,e){1&e&&o!==(o=t[0].info+"")&&y(r,o)},d(t){t&&c(e)}}}function ko(e){let n,r,o,i,s,u=e[0].id+"",m=e[0].info&&Oo(e);return{c(){n=d("h1"),r=p("Flag: "),o=p(u),i=f(),m&&m.c(),s=h()},m(t,e){l(t,n,e),a(n,r),a(n,o),l(t,i,e),m&&m.m(t,e),l(t,s,e)},p(t,[e]){1&e&&u!==(u=t[0].id+"")&&y(o,u),t[0].info?m?m.p(t,e):(m=Oo(t),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i:t,o:t,d(t){t&&c(n),t&&c(i),m&&m.d(t),t&&c(s)}}}function Co(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class Io extends z{constructor(t){super(),J(this,t,Co,ko,i,{item:0})}}function Mo(t,e,n){const r=t.slice();return r[5]=e[n].tools,r[6]=e[n].components,r[7]=e[n].qualities,r[8]=e[n].mending_method,r}function Ro(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ao(t,e,n){const r=t.slice();return r[14]=e[n].id,r[0]=e[n].item,r[15]=e[n].count,r[17]=n,r}function No(t,e,n){const r=t.slice();return r[18]=e[n],r}function Lo(t,e,n){const r=t.slice();return r[21]=e[n],r[17]=n,r}function Do(t,e,n){const r=t.slice();return r[23]=e[n],r}function jo(t,e,n){const r=t.slice();return r[26]=e[n],r[17]=n,r}function Bo(t,e,n){const r=t.slice();return r[14]=e[n].id,r[28]=e[n].level,r[17]=n,r}function Po(t,e,n){const r=t.slice();return r[30]=e[n],r}function Fo(t){let e;return{c(){e=d("li"),e.innerHTML="<em>none</em>"},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function qo(t){let e,n,r=t[30]+"";return{c(){e=d("li"),n=p(r)},m(t,r){l(t,e,r),a(e,n)},p(t,e){1&e[0]&&r!==(r=t[30]+"")&&y(n,r)},d(t){t&&c(e)}}}function Uo(t){let e;return{c(){e=p("none")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Ho(t){let e;return{c(){e=p(", ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Wo(t){let e;return{c(){e=p(" and ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Go(e){let n,r,o,i,s,a,u=e[28]+"";n=new _t({props:{type:"skill",id:e[14]}});let d=function(t,e){return t[17]===t[8].skills.length-2?Wo:t[17]!==t[8].skills.length-1?Ho:void 0}(e),f=d&&d(e);return{c(){H(n.$$.fragment),r=p(" ("),o=p(u),i=p(")"),f&&f.c(),s=h()},m(t,e){W(n,t,e),l(t,r,e),l(t,o,e),l(t,i,e),f&&f.m(t,e),l(t,s,e),a=!0},p:t,i(t){a||(P(n.$$.fragment,t),a=!0)},o(t){F(n.$$.fragment,t),a=!1},d(t){G(n,t),t&&c(r),t&&c(o),t&&c(i),f&&f.d(t),t&&c(s)}}}function Yo(e){let n,r,o,i,s,a,u,d,h,m,g,y=(e[26].amount??1)+"",_=1===(e[26].amount??1)?"":"s",v=e[26].level+"",b=0!==e[17]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return a=new _t({props:{type:"tool_quality",id:e[26].id}}),{c(){b&&b.c(),n=f(),r=p(y),o=p(" tool"),i=p(_),s=p("\n        with "),H(a.$$.fragment),u=p(" of "),d=p(v),h=p(" or more"),m=p("")},m(t,e){b&&b.m(t,e),l(t,n,e),l(t,r,e),l(t,o,e),l(t,i,e),l(t,s,e),W(a,t,e),l(t,u,e),l(t,d,e),l(t,h,e),l(t,m,e),g=!0},p:t,i(t){g||(P(a.$$.fragment,t),g=!0)},o(t){F(a.$$.fragment,t),g=!1},d(t){b&&b.d(t),t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(s),G(a,t),t&&c(u),t&&c(d),t&&c(h),t&&c(m)}}}function Jo(t){let e,n,r,o=t[23],i=[];for(let e=0;e<o.length;e+=1)i[e]=Yo(jo(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=p(".")},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(4&r[0]){let a;for(o=t[23],a=0;a<o.length;a+=1){const s=jo(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=Yo(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function zo(e){let n,r;return n=new _t({props:{type:"item",id:e[21].id}}),{c(){H(n.$$.fragment)},m(t,e){W(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){G(n,t)}}}function Vo(e){let n,r,o=tt(e[1].byId("item",e[21].id))+"";return{c(){n=d("a"),r=p(o),g(n,"href","#/furniture/"+e[1].craftingPseudoItem(e[21].id))},m(t,e){l(t,n,e),a(n,r)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Ko(e){let n,r,o,i,s=e[21].count+"",a=1!==e[21].count&&function(t){let e;return{c(){e=p("s")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return{c(){n=p("("),r=p(s),o=p(" charge"),a&&a.c(),i=p(")")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),a&&a.m(t,e),l(t,i,e)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),a&&a.d(t),t&&c(i)}}}function Xo(t){let e,n,r,o,i,s,a=0!==t[17]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();const u=[Vo,zo],d=[];n=function(t,e){return t[1].craftingPseudoItem(t[21].id)?0:1}(t),r=d[n]=u[n](t);let m=t[21].count>0&&Ko(t);return{c(){a&&a.c(),e=f(),r.c(),o=f(),m&&m.c(),i=h()},m(t,r){a&&a.m(t,r),l(t,e,r),d[n].m(t,r),l(t,o,r),m&&m.m(t,r),l(t,i,r),s=!0},p(t,e){r.p(t,e),t[21].count>0&&m.p(t,e)},i(t){s||(P(r),s=!0)},o(t){F(r),s=!1},d(t){a&&a.d(t),t&&c(e),d[n].d(t),t&&c(o),m&&m.d(t),t&&c(i)}}}function Zo(t){let e,n,r,o=t[18],i=[];for(let e=0;e<o.length;e+=1)i[e]=Xo(Lo(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f()},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(6&r[0]){let a;for(o=t[18],a=0;a<o.length;a+=1){const s=Lo(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=Xo(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function Qo(e){let n,r,o,i=0!==e[17]&&function(t){let e;return{c(){e=p(" OR ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}();return r=new _t({props:{id:e[14],count:e[15],type:"item"}}),{c(){i&&i.c(),n=f(),H(r.$$.fragment)},m(t,e){i&&i.m(t,e),l(t,n,e),W(r,t,e),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){i&&i.d(t),t&&c(n),G(r,t)}}}function ti(t){let e,n,r,o=t[11].map(t[3]),i=[];for(let e=0;e<o.length;e+=1)i[e]=Qo(Ao(t,o,e));const s=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("li");for(let t=0;t<i.length;t+=1)i[t].c();n=f()},m(t,o){l(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);a(e,n),r=!0},p(t,r){if(6&r[0]){let a;for(o=t[11].map(t[3]),a=0;a<o.length;a+=1){const s=Ao(t,o,a);i[a]?(i[a].p(s,r),P(i[a],1)):(i[a]=Qo(s),i[a].c(),P(i[a],1),i[a].m(e,n))}for(j(),a=o.length;a<i.length;a+=1)s(a);B()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)P(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);r=!1},d(t){t&&c(e),u(i,t)}}}function ei(e){let n,r,o,i,s,m,g,y,_,v,b,x,w,S,E,T=tt(e[8])+"",$=e[8].time+"",O=e[8].skills,k=[];for(let t=0;t<O.length;t+=1)k[t]=Go(Bo(e,O,t));const C=t=>F(k[t],1,1,(()=>{k[t]=null}));let I=null;O.length||(I=Uo());let M=(e[7].length||e[5].length)&&function(t){let e,n,r,o,i,s,p=t[7]??[],h=[];for(let e=0;e<p.length;e+=1)h[e]=Jo(Do(t,p,e));const m=t=>F(h[t],1,1,(()=>{h[t]=null}));let g=t[5],y=[];for(let e=0;e<g.length;e+=1)y[e]=Zo(No(t,g,e));const _=t=>F(y[t],1,1,(()=>{y[t]=null}));return{c(){e=d("dt"),e.textContent="Tools Required",n=d("dd"),r=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();o=f();for(let t=0;t<y.length;t+=1)y[t].c();i=f()},m(t,c){l(t,e,c),l(t,n,c),a(n,r);for(let t=0;t<h.length;t+=1)h[t].m(r,null);a(r,o);for(let t=0;t<y.length;t+=1)y[t].m(r,null);a(n,i),s=!0},p(t,e){if(4&e[0]){let n;for(p=t[7]??[],n=0;n<p.length;n+=1){const i=Do(t,p,n);h[n]?(h[n].p(i,e),P(h[n],1)):(h[n]=Jo(i),h[n].c(),P(h[n],1),h[n].m(r,o))}for(j(),n=p.length;n<h.length;n+=1)m(n);B()}if(6&e[0]){let n;for(g=t[5],n=0;n<g.length;n+=1){const o=No(t,g,n);y[n]?(y[n].p(o,e),P(y[n],1)):(y[n]=Zo(o),y[n].c(),P(y[n],1),y[n].m(r,null))}for(j(),n=g.length;n<y.length;n+=1)_(n);B()}},i(t){if(!s){for(let t=0;t<p.length;t+=1)P(h[t]);for(let t=0;t<g.length;t+=1)P(y[t]);s=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)F(h[t]);y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)F(y[t]);s=!1},d(t){t&&c(e),t&&c(n),u(h,t),u(y,t)}}}(e),R=e[6].length&&function(t){let e,n,r,o,i,s=t[6],p=[];for(let e=0;e<s.length;e+=1)p[e]=ti(Ro(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("dt"),e.textContent="Components",n=d("dd"),r=d("ul");for(let t=0;t<p.length;t+=1)p[t].c();o=f()},m(t,s){l(t,e,s),l(t,n,s),a(n,r);for(let t=0;t<p.length;t+=1)p[t].m(r,null);a(n,o),i=!0},p(t,e){if(6&e[0]){let n;for(s=t[6],n=0;n<s.length;n+=1){const o=Ro(t,s,n);p[n]?(p[n].p(o,e),P(p[n],1)):(p[n]=ti(o),p[n].c(),P(p[n],1),p[n].m(r,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),t&&c(n),u(p,t)}}}(e),A=e[8].turns_into&&function(e){let n,r,o,i;return o=new _t({props:{type:"fault",id:e[8].turns_into}}),{c(){n=d("dt"),n.textContent="Turns Into",r=d("dd"),H(o.$$.fragment)},m(t,e){l(t,n,e),l(t,r,e),W(o,r,null),i=!0},p:t,i(t){i||(P(o.$$.fragment,t),i=!0)},o(t){F(o.$$.fragment,t),i=!1},d(t){t&&c(n),t&&c(r),G(o)}}}(e);return{c(){n=d("section"),r=d("h1"),o=p(T),i=f(),s=d("dl"),m=d("dt"),m.textContent="Skills Used",g=d("dd");for(let t=0;t<k.length;t+=1)k[t].c();I&&I.c(),y=f(),_=d("dt"),_.textContent="Time to Complete",v=d("dd"),b=p($),M&&M.c(),x=h(),R&&R.c(),w=h(),A&&A.c(),S=f()},m(t,e){l(t,n,e),a(n,r),a(r,o),a(n,i),a(n,s),a(s,m),a(s,g);for(let t=0;t<k.length;t+=1)k[t].m(g,null);I&&I.m(g,null),a(g,y),a(s,_),a(s,v),a(v,b),M&&M.m(s,null),a(s,x),R&&R.m(s,null),a(s,w),A&&A.m(s,null),a(n,S),E=!0},p(t,e){if(4&e[0]){let n;for(O=t[8].skills,n=0;n<O.length;n+=1){const r=Bo(t,O,n);k[n]?(k[n].p(r,e),P(k[n],1)):(k[n]=Go(r),k[n].c(),P(k[n],1),k[n].m(g,y))}for(j(),n=O.length;n<k.length;n+=1)C(n);B(),O.length?I&&(I.d(1),I=null):I||(I=Uo(),I.c(),I.m(g,y))}(t[7].length||t[5].length)&&M.p(t,e),t[6].length&&R.p(t,e),t[8].turns_into&&A.p(t,e)},i(t){if(!E){for(let t=0;t<O.length;t+=1)P(k[t]);P(M),P(R),P(A),E=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)F(k[t]);F(M),F(R),F(A),E=!1},d(t){t&&c(n),u(k,t),I&&I.d(),M&&M.d(),R&&R.d(),A&&A.d()}}}function ni(t){let e,n,r,o,i,s,m,_,b,x,w,S,E,T,$,O,k=tt(t[0])+"",C=t[0].description+"",I=t[0].flags??[],M=[];for(let e=0;e<I.length;e+=1)M[e]=qo(Po(t,I,e));let R=null;I.length||(R=Fo());let A=t[2].length&&function(t){let e;return{c(){e=d("h2"),e.textContent="Mending Methods"},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}(),N=t[2],L=[];for(let e=0;e<N.length;e+=1)L[e]=ei(Mo(t,N,e));const D=t=>F(L[t],1,1,(()=>{L[t]=null}));return{c(){e=d("h1"),n=p("Fault: "),r=p(k),o=f(),i=d("section"),s=d("dl"),m=d("dt"),m.textContent="Flags",_=d("dd"),b=d("ul");for(let t=0;t<M.length;t+=1)M[t].c();R&&R.c(),x=f(),w=d("p"),S=p(C),E=f(),A&&A.c(),T=f();for(let t=0;t<L.length;t+=1)L[t].c();$=h(),g(b,"class","comma-separated"),v(w,"color","var(--cata-color-gray)")},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),l(t,i,c),a(i,s),a(s,m),a(s,_),a(_,b);for(let t=0;t<M.length;t+=1)M[t].m(b,null);R&&R.m(b,null),a(i,x),a(i,w),a(w,S),l(t,E,c),A&&A.m(t,c),l(t,T,c);for(let e=0;e<L.length;e+=1)L[e].m(t,c);l(t,$,c),O=!0},p(t,e){if((!O||1&e[0])&&k!==(k=tt(t[0])+"")&&y(r,k),1&e[0]){let n;for(I=t[0].flags??[],n=0;n<I.length;n+=1){const r=Po(t,I,n);M[n]?M[n].p(r,e):(M[n]=qo(r),M[n].c(),M[n].m(b,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=I.length,I.length?R&&(R.d(1),R=null):R||(R=Fo(),R.c(),R.m(b,null))}if((!O||1&e[0])&&C!==(C=t[0].description+"")&&y(S,C),6&e[0]){let n;for(N=t[2],n=0;n<N.length;n+=1){const r=Mo(t,N,n);L[n]?(L[n].p(r,e),P(L[n],1)):(L[n]=ei(r),L[n].c(),P(L[n],1),L[n].m($.parentNode,$))}for(j(),n=N.length;n<L.length;n+=1)D(n);B()}},i(t){if(!O){for(let t=0;t<N.length;t+=1)P(L[t]);O=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)F(L[t]);O=!1},d(t){t&&c(e),t&&c(o),t&&c(i),u(M,t),R&&R.d(),t&&c(E),A&&A.d(t),t&&c(T),u(L,t),t&&c($)}}}function ri(t,e,n){var r;const o=S("data");let{item:i}=e;const s=(null!==(r=i.mending_methods)&&void 0!==r?r:[]).map((t=>{var e,n,r;const i="string"==typeof t.requirements?o.byId("requirement",t.requirements):t.requirements;return{mending_method:t,tools:ut(o,null!==(e=i.tools)&&void 0!==e?e:[],(t=>t.tools)),components:ut(o,null!==(n=i.components)&&void 0!==n?n:[],(t=>t.components)),qualities:ct(null!==(r=i.qualities)&&void 0!==r?r:[])}}));return t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i,o,s,t=>({...t,item:o.byId("item",t.id)})]}class oi extends z{constructor(t){super(),J(this,t,ri,ni,i,{item:0},[-1,-1])}}function ii(t,e,n){const r=t.slice();return r[3]=e[n],r}function si(t,e,n){const r=t.slice();return r[6]=e[n].name,r[7]=e[n].level,r[9]=n,r}function ai(t){let e;return{c(){e=d("em"),e.textContent="none"},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function li(t){let e;return{c(){e=p(", ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ci(t){let e;return{c(){e=p(" and ")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ui(t){let e,n,r,o,i,s,a=t[7]+"";function u(t,e){return t[9]===t[0].skill_requirements.length-2?ci:t[9]!==t[0].skill_requirements.length-1?li:void 0}e=new _t({props:{type:"skill",id:t[6]}});let d=u(t),f=d&&d(t);return{c(){H(e.$$.fragment),n=p(" ("),r=p(a),o=p(")"),f&&f.c(),i=h()},m(t,a){W(e,t,a),l(t,n,a),l(t,r,a),l(t,o,a),f&&f.m(t,a),l(t,i,a),s=!0},p(t,n){const o={};1&n&&(o.id=t[6]),e.$set(o),(!s||1&n)&&a!==(a=t[7]+"")&&y(r,a),d!==(d=u(t))&&(f&&f.d(1),f=d&&d(t),f&&(f.c(),f.m(i.parentNode,i)))},i(t){s||(P(e.$$.fragment,t),s=!0)},o(t){F(e.$$.fragment,t),s=!1},d(t){G(e,t),t&&c(n),t&&c(r),t&&c(o),f&&f.d(t),t&&c(i)}}}function di(t){let e,n,r,o=t[0].stun_dur+"";return{c(){e=d("dt"),e.textContent="Stun Duration",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].stun_dur+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function pi(t){let e,n,r,o=t[0].down_dur+"";return{c(){e=d("dt"),e.textContent="Down Duration",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].down_dur+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function fi(t){let e,n,r,o=t[0].knockback_dist+"";return{c(){e=d("dt"),e.textContent="Knockback Distance",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].knockback_dist+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function hi(t){let e,n,r,o=t[0].weighting+"";return{c(){e=d("dt"),e.textContent="Weighting",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].weighting+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function mi(t){let e,n,r,o=t[0].aoe+"";return{c(){e=d("dt"),e.textContent="AoE Shape",n=d("dd"),r=p(o)},m(t,o){l(t,e,o),l(t,n,o),a(n,r)},p(t,e){1&e&&o!==(o=t[0].aoe+"")&&y(r,o)},d(t){t&&c(e),t&&c(n)}}}function gi(e){let n,r,o;return r=new _t({props:{type:"item",id:e[3].id}}),{c(){n=d("li"),H(r.$$.fragment)},m(t,e){l(t,n,e),W(r,n,null),o=!0},p:t,i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){F(r.$$.fragment,t),o=!1},d(t){t&&c(n),G(r)}}}function yi(t){let e,n,r,o,i,s,m,g,_,b,x,w,S,E,T,$,O,k,C,I=t[0].name+"",M=t[0].description+"",R=t[0].skill_requirements??[],A=[];for(let e=0;e<R.length;e+=1)A[e]=ui(si(t,R,e));const N=t=>F(A[t],1,1,(()=>{A[t]=null}));let L=null;R.length||(L=ai());let D=t[0].stun_dur&&di(t),q=t[0].down_dur&&pi(t),U=t[0].knockback_dist&&fi(t),H=t[0].weighting&&hi(t),W=t[0].aoe&&mi(t),G=t[1].length&&function(t){let e,n,r,o,i,s=t[1],p=[];for(let e=0;e<s.length;e+=1)p[e]=gi(ii(t,s,e));const h=t=>F(p[t],1,1,(()=>{p[t]=null}));return{c(){e=d("section"),n=d("h1"),n.textContent="Weapons",r=f(),o=d("ul");for(let t=0;t<p.length;t+=1)p[t].c()},m(t,s){l(t,e,s),a(e,n),a(e,r),a(e,o);for(let t=0;t<p.length;t+=1)p[t].m(o,null);i=!0},p(t,e){if(2&e){let n;for(s=t[1],n=0;n<s.length;n+=1){const r=ii(t,s,n);p[n]?(p[n].p(r,e),P(p[n],1)):(p[n]=gi(r),p[n].c(),P(p[n],1),p[n].m(o,null))}for(j(),n=s.length;n<p.length;n+=1)h(n);B()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)P(p[t]);i=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)F(p[t]);i=!1},d(t){t&&c(e),u(p,t)}}}(t);return{c(){e=d("h1"),n=p("Technique: "),r=p(I),o=f(),i=d("section"),s=d("dl"),m=d("dt"),m.textContent="Required Skills",g=d("dd");for(let t=0;t<A.length;t+=1)A[t].c();L&&L.c(),_=f(),D&&D.c(),b=h(),q&&q.c(),x=h(),U&&U.c(),w=h(),H&&H.c(),S=h(),W&&W.c(),E=f(),T=d("p"),$=p(M),O=f(),G&&G.c(),k=h(),v(T,"color","var(--cata-color-gray)")},m(t,c){l(t,e,c),a(e,n),a(e,r),l(t,o,c),l(t,i,c),a(i,s),a(s,m),a(s,g);for(let t=0;t<A.length;t+=1)A[t].m(g,null);L&&L.m(g,null),a(g,_),D&&D.m(s,null),a(s,b),q&&q.m(s,null),a(s,x),U&&U.m(s,null),a(s,w),H&&H.m(s,null),a(s,S),W&&W.m(s,null),a(i,E),a(i,T),a(T,$),l(t,O,c),G&&G.m(t,c),l(t,k,c),C=!0},p(t,[e]){if((!C||1&e)&&I!==(I=t[0].name+"")&&y(r,I),1&e){let n;for(R=t[0].skill_requirements??[],n=0;n<R.length;n+=1){const r=si(t,R,n);A[n]?(A[n].p(r,e),P(A[n],1)):(A[n]=ui(r),A[n].c(),P(A[n],1),A[n].m(g,_))}for(j(),n=R.length;n<A.length;n+=1)N(n);B(),R.length?L&&(L.d(1),L=null):L||(L=ai(),L.c(),L.m(g,_))}t[0].stun_dur?D?D.p(t,e):(D=di(t),D.c(),D.m(s,b)):D&&(D.d(1),D=null),t[0].down_dur?q?q.p(t,e):(q=pi(t),q.c(),q.m(s,x)):q&&(q.d(1),q=null),t[0].knockback_dist?U?U.p(t,e):(U=fi(t),U.c(),U.m(s,w)):U&&(U.d(1),U=null),t[0].weighting?H?H.p(t,e):(H=hi(t),H.c(),H.m(s,S)):H&&(H.d(1),H=null),t[0].aoe?W?W.p(t,e):(W=mi(t),W.c(),W.m(s,null)):W&&(W.d(1),W=null),(!C||1&e)&&M!==(M=t[0].description+"")&&y($,M),t[1].length&&G.p(t,e)},i(t){if(!C){for(let t=0;t<R.length;t+=1)P(A[t]);P(G),C=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)F(A[t]);F(G),C=!1},d(t){t&&c(e),t&&c(o),t&&c(i),u(A,t),L&&L.d(),D&&D.d(),q&&q.d(),U&&U.d(),H&&H.d(),W&&W.d(),t&&c(O),G&&G.d(t),t&&c(k)}}}function _i(t,e,n){let{item:r}=e;const o=S("data").byType("item").filter((t=>{var e;return t.id&&(null!==(e=t.techniques)&&void 0!==e?e:[]).includes(r.id)})).sort(((t,e)=>t.id.localeCompare(e.id)));return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r,o]}class vi extends z{constructor(t){super(),J(this,t,_i,yi,i,{item:0})}}function bi(t){let e,n,r,o,i,s,u,h,m=JSON.stringify(t[1],null,2)+"";var g=t[2][t[1].type]??rr;function _(t){return{props:{item:t[1]}}}return g&&(e=new g(_(t))),{c(){e&&H(e.$$.fragment),n=f(),r=d("details"),o=d("summary"),o.textContent="Raw JSON",i=f(),s=d("pre"),u=p(m)},m(t,c){e&&W(e,t,c),l(t,n,c),l(t,r,c),a(r,o),a(r,i),a(r,s),a(s,u),h=!0},p(t,r){const o={};if(2&r&&(o.item=t[1]),g!==(g=t[2][t[1].type]??rr)){if(e){j();const t=e;F(t.$$.fragment,1,0,(()=>{G(t,1)})),B()}g?(e=new g(_(t)),H(e.$$.fragment),P(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else g&&e.$set(o);(!h||2&r)&&m!==(m=JSON.stringify(t[1],null,2)+"")&&y(u,m)},i(t){h||(e&&P(e.$$.fragment,t),h=!0)},o(t){e&&F(e.$$.fragment,t),h=!1},d(t){e&&G(e,t),t&&c(n),t&&c(r)}}}function xi(e){let n,r,o,i,s=e[0].type+"",a=e[0].id+"";return{c(){n=p("Unknown obj: "),r=p(s),o=p("/"),i=p(a)},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),l(t,i,e)},p(t,e){1&e&&s!==(s=t[0].type+"")&&y(r,s),1&e&&a!==(a=t[0].id+"")&&y(i,a)},i:t,o:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i)}}}function wi(t){let e,n,r,o;const i=[xi,bi],s=[];function a(t,e){return t[1]?1:0}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){s[e].m(t,n),l(t,r,n),o=!0},p(t,[o]){let l=e;e=a(t),e===l?s[e].p(t,o):(j(),F(s[l],1,1,(()=>{s[l]=null})),B(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){s[e].d(t),t&&c(r)}}}function Si(t,e,n){let{item:r}=e,{data:o}=e;var i,s;let a;i="data",s=o,w().$$.context.set(i,s);const l={MONSTER:zt,AMMO:tr,GUN:tr,ARMOR:tr,PET_ARMOR:tr,TOOL:tr,TOOLMOD:tr,TOOL_ARMOR:tr,BOOK:tr,COMESTIBLE:tr,ENGINE:tr,WHEEL:tr,GUNMOD:tr,MAGAZINE:tr,BATTERY:tr,GENERIC:tr,BIONIC_ITEM:tr,material:lr,ammunition_type:hr,tool_quality:Or,furniture:yo,skill:bo,proficiency:$o,json_flag:Io,fault:oi,technique:vi};return t.$$set=t=>{"item"in t&&n(0,r=t.item),"data"in t&&n(3,o=t.data)},t.$$.update=()=>{9&t.$$.dirty&&n(1,a=o.byId(r.type,r.id))},[r,a,l,o]}class Ei extends z{constructor(t){super(),J(this,t,Si,wi,i,{item:0,data:3})}}function Ti(t){return Array.isArray?Array.isArray(t):"[object Array]"===Ri(t)}function $i(t){return"string"==typeof t}function Oi(t){return"number"==typeof t}function ki(t){return!0===t||!1===t||function(t){return Ci(t)&&null!==t}(t)&&"[object Boolean]"==Ri(t)}function Ci(t){return"object"==typeof t}function Ii(t){return null!=t}function Mi(t){return!t.trim().length}function Ri(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Ai=Object.prototype.hasOwnProperty;class Ni{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=Li(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Li(t){let e=null,n=null,r=null,o=1;if($i(t)||Ti(t))r=t,e=Di(t),n=ji(t);else{if(!Ai.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const i=t.name;if(r=i,Ai.call(t,"weight")&&(o=t.weight,o<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(i));e=Di(i),n=ji(i)}return{path:e,id:n,weight:o,src:r}}function Di(t){return Ti(t)?t:t.split(".")}function ji(t){return Ti(t)?t.join("."):t}var Bi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const o=(t,e,i)=>{if(Ii(t))if(e[i]){const s=t[e[i]];if(!Ii(s))return;if(i===e.length-1&&($i(s)||Oi(s)||ki(s)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(s));else if(Ti(s)){r=!0;for(let t=0,n=s.length;t<n;t+=1)o(s[t],e,i+1)}else e.length&&o(s,e,i+1)}else n.push(t)};return o(t,$i(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}};const Pi=/[^ ]+/g;class Fi{constructor({getFn:t=Bi.getFn}={}){this.norm=function(t=3){const e=new Map,n=Math.pow(10,t);return{get(t){const r=t.match(Pi).length;if(e.has(r))return e.get(r);const o=1/Math.sqrt(r),i=parseFloat(Math.round(o*n)/n);return e.set(r,i),i},clear(){e.clear()}}}(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,$i(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();$i(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!Ii(t)||Mi(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let o=this.getFn(t,e.path);if(Ii(o))if(Ti(o)){let t=[];const e=[{nestedArrIndex:-1,value:o}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(Ii(r))if($i(r)&&!Mi(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else Ti(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(!Mi(o)){let t={v:o,n:this.norm.get(o)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function qi(t,e,{getFn:n=Bi.getFn}={}){const r=new Fi({getFn:n});return r.setKeys(t.map(Li)),r.setSources(e),r.create(),r}function Ui(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=Bi.distance,ignoreLocation:i=Bi.ignoreLocation}={}){const s=e/t.length;if(i)return s;const a=Math.abs(r-n);return o?s+a/o:a?1:s}const Hi=32;function Wi(t,e,n,{location:r=Bi.location,distance:o=Bi.distance,threshold:i=Bi.threshold,findAllMatches:s=Bi.findAllMatches,minMatchCharLength:a=Bi.minMatchCharLength,includeMatches:l=Bi.includeMatches,ignoreLocation:c=Bi.ignoreLocation}={}){if(e.length>Hi)throw new Error(`Pattern length exceeds max of ${Hi}.`);const u=e.length,d=t.length,p=Math.max(0,Math.min(r,d));let f=i,h=p;const m=a>1||l,g=m?Array(d):[];let y;for(;(y=t.indexOf(e,h))>-1;){let t=Ui(e,{currentLocation:y,expectedLocation:p,distance:o,ignoreLocation:c});if(f=Math.min(t,f),h=y+u,m){let t=0;for(;t<u;)g[y+t]=1,t+=1}}h=-1;let _=[],v=1,b=u+d;const x=1<<u-1;for(let r=0;r<u;r+=1){let i=0,a=b;for(;i<a;){Ui(e,{errors:r,currentLocation:p+a,expectedLocation:p,distance:o,ignoreLocation:c})<=f?i=a:b=a,a=Math.floor((b-i)/2+i)}b=a;let l=Math.max(1,p-a+1),y=s?d:Math.min(p+a,d)+u,w=Array(y+2);w[y+1]=(1<<r)-1;for(let i=y;i>=l;i-=1){let s=i-1,a=n[t.charAt(s)];if(m&&(g[s]=+!!a),w[i]=(w[i+1]<<1|1)&a,r&&(w[i]|=(_[i+1]|_[i])<<1|1|_[i+1]),w[i]&x&&(v=Ui(e,{errors:r,currentLocation:s,expectedLocation:p,distance:o,ignoreLocation:c}),v<=f)){if(f=v,h=s,h<=p)break;l=Math.max(1,2*p-h)}}if(Ui(e,{errors:r+1,currentLocation:p,expectedLocation:p,distance:o,ignoreLocation:c})>f)break;_=w}const w={isMatch:h>=0,score:Math.max(.001,v)};if(m){const t=function(t=[],e=Bi.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let s=t.length;i<s;i+=1){let s=t[i];s&&-1===r?r=i:s||-1===r||(o=i-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}(g,a);t.length?l&&(w.indices=t):w.isMatch=!1}return w}function Gi(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}class Yi{constructor(t,{location:e=Bi.location,threshold:n=Bi.threshold,distance:r=Bi.distance,includeMatches:o=Bi.includeMatches,findAllMatches:i=Bi.findAllMatches,minMatchCharLength:s=Bi.minMatchCharLength,isCaseSensitive:a=Bi.isCaseSensitive,ignoreLocation:l=Bi.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(t,e)=>{this.chunks.push({pattern:t,alphabet:Gi(t),startIndex:e})},u=this.pattern.length;if(u>Hi){let t=0;const e=u%Hi,n=u-e;for(;t<n;)c(this.pattern.substr(t,Hi),t),t+=Hi;if(e){const t=u-Hi;c(this.pattern.substr(t),t)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:a,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((({pattern:e,alphabet:p,startIndex:f})=>{const{isMatch:h,score:m,indices:g}=Wi(t,e,p,{location:r+f,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:a,includeMatches:n,ignoreLocation:l});h&&(d=!0),u+=m,h&&g&&(c=[...c,...g])}));let p={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(p.indices=c),p}}class Ji{constructor(t){this.pattern=t}static isMultiMatch(t){return zi(t,this.multiRegex)}static isSingleMatch(t){return zi(t,this.singleRegex)}search(){}}function zi(t,e){const n=t.match(e);return n?n[1]:null}class Vi extends Ji{constructor(t,{location:e=Bi.location,threshold:n=Bi.threshold,distance:r=Bi.distance,includeMatches:o=Bi.includeMatches,findAllMatches:i=Bi.findAllMatches,minMatchCharLength:s=Bi.minMatchCharLength,isCaseSensitive:a=Bi.isCaseSensitive,ignoreLocation:l=Bi.ignoreLocation}={}){super(t),this._bitapSearch=new Yi(t,{location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ki extends Ji{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],o=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+o,r.push([e,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const Xi=[class extends Ji{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Ki,class extends Ji{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends Ji{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Ji{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Ji{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends Ji{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},Vi],Zi=Xi.length,Qi=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const ts=new Set([Vi.type,Ki.type]);class es{constructor(t,{isCaseSensitive:e=Bi.isCaseSensitive,includeMatches:n=Bi.includeMatches,minMatchCharLength:r=Bi.minMatchCharLength,ignoreLocation:o=Bi.ignoreLocation,findAllMatches:i=Bi.findAllMatches,location:s=Bi.location,threshold:a=Bi.threshold,distance:l=Bi.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:s,threshold:a,distance:l},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(Qi).filter((t=>t&&!!t.trim())),r=[];for(let t=0,o=n.length;t<o;t+=1){const o=n[t];let i=!1,s=-1;for(;!i&&++s<Zi;){const t=Xi[s];let n=t.isMultiMatch(o);n&&(r.push(new t(n,e)),i=!0)}if(!i)for(s=-1;++s<Zi;){const t=Xi[s];let n=t.isSingleMatch(o);if(n){r.push(new t(n,e));break}}}return r}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let o=0,i=[],s=0;for(let r=0,a=e.length;r<a;r+=1){const a=e[r];i.length=0,o=0;for(let e=0,r=a.length;e<r;e+=1){const r=a[e],{isMatch:l,indices:c,score:u}=r.search(t);if(!l){s=0,o=0,i.length=0;break}if(o+=1,s+=u,n){const t=r.constructor.type;ts.has(t)?i=[...i,...c]:i.push(c)}}if(o){let t={isMatch:!0,score:s/o};return n&&(t.indices=i),t}}return{isMatch:!1,score:1}}}const ns=[];function rs(t,e){for(let n=0,r=ns.length;n<r;n+=1){let r=ns[n];if(r.condition(t,e))return new r(t,e)}return new Yi(t,e)}const os="$and",is="$or",ss="$path",as="$val",ls=t=>!(!t[os]&&!t[is]),cs=t=>({[os]:Object.keys(t).map((e=>({[e]:t[e]})))});function us(t,e,{auto:n=!0}={}){const r=t=>{let o=Object.keys(t);const i=(t=>!!t[ss])(t);if(!i&&o.length>1&&!ls(t))return r(cs(t));if((t=>!Ti(t)&&Ci(t)&&!ls(t))(t)){const r=i?t[ss]:o[0],s=i?t[as]:t[r];if(!$i(s))throw new Error((t=>`Invalid value for key ${t}`)(r));const a={keyId:ji(r),pattern:s};return n&&(a.searcher=rs(s,e)),a}let s={children:[],operator:o[0]};return o.forEach((e=>{const n=t[e];Ti(n)&&n.forEach((t=>{s.children.push(r(t))}))})),s};return ls(t)||(t=cs(t)),r(t)}function ds(t,e){const n=t.matches;e.matches=[],Ii(n)&&n.forEach((t=>{if(!Ii(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let o={indices:n,value:r};t.key&&(o.key=t.key.src),t.idx>-1&&(o.refIndex=t.idx),e.matches.push(o)}))}function ps(t,e){e.score=t.score}class fs{constructor(t,e={},n){this.options={...Bi,...e},this.options.useExtendedSearch,this._keyStore=new Ni(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Fi))throw new Error("Incorrect 'index' type");this._myIndex=e||qi(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){Ii(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];t(o,n)&&(this.removeAt(n),n-=1,r-=1,e.push(o))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:s}=this.options;let a=$i(t)?$i(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=Bi.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:r,score:o})=>{const i=t?t.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(e?1:r))})),t.score=n}))}(a,{ignoreFieldNorm:s}),o&&a.sort(i),Oi(e)&&e>-1&&(a=a.slice(0,e)),function(t,e,{includeMatches:n=Bi.includeMatches,includeScore:r=Bi.includeScore}={}){const o=[];return n&&o.push(ds),r&&o.push(ps),t.map((t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return o.length&&o.forEach((e=>{e(t,r)})),r}))}(a,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=rs(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:t,i:n,n:o})=>{if(!Ii(t))return;const{isMatch:i,score:s,indices:a}=e.searchIn(t);i&&r.push({item:t,idx:n,matches:[{score:s,value:t,norm:o,indices:a}]})})),r}_searchLogical(t){const e=us(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:o}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:o});return i&&i.length?[{idx:r,item:e,matches:i}]:[]}switch(t.operator){case os:{const o=[];for(let i=0,s=t.children.length;i<s;i+=1){const s=t.children[i],a=n(s,e,r);if(!a.length)return[];o.push(...a)}return o}case is:{const o=[];for(let i=0,s=t.children.length;i<s;i+=1){const s=t.children[i],a=n(s,e,r);if(a.length){o.push(...a);break}}return o}}},r=this._myIndex.records,o={},i=[];return r.forEach((({$:t,i:r})=>{if(Ii(t)){let s=n(e,t,r);s.length&&(o[r]||(o[r]={idx:r,item:t,matches:[]},i.push(o[r])),s.forEach((({matches:t})=>{o[r].matches.push(...t)})))}})),i}_searchObjectList(t){const e=rs(t,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:t,i:r})=>{if(!Ii(t))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:t[r],searcher:e}))})),i.length&&o.push({idx:r,item:t,matches:i})})),o}_findMatches({key:t,value:e,searcher:n}){if(!Ii(e))return[];let r=[];if(Ti(e))e.forEach((({v:e,i:o,n:i})=>{if(!Ii(e))return;const{isMatch:s,score:a,indices:l}=n.searchIn(e);s&&r.push({score:a,key:t,value:e,idx:o,norm:i,indices:l})}));else{const{v:o,n:i}=e,{isMatch:s,score:a,indices:l}=n.searchIn(o);s&&r.push({score:a,key:t,value:o,norm:i,indices:l})}return r}}function hs(t,e,n){const r=t.slice();return r[7]=e[n],r}function ms(t,e,n){const r=t.slice();return r[10]=e[n],r}function gs(e){let n;return{c(){n=d("pre"),n.textContent="..."},m(t,e){l(t,n,e)},p:t,d(t){t&&c(n)}}}function ys(t){let e,n=[...t[1].keys()],r=[];for(let e=0;e<n.length;e+=1)r[e]=bs(hs(t,n,e));let o=null;return n.length||(o=_s()),{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=h(),o&&o.c()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);l(t,e,n),o&&o.m(t,n)},p(t,i){if(3&i){let s;for(n=[...t[1].keys()],s=0;s<n.length;s+=1){const o=hs(t,n,s);r[s]?r[s].p(o,i):(r[s]=bs(o),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length,n.length?o&&(o.d(1),o=null):o||(o=_s(),o.c(),o.m(e.parentNode,e))}},d(t){u(r,t),t&&c(e),o&&o.d(t)}}}function _s(t){let e;return{c(){e=d("em"),e.textContent="No results."},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function vs(t){let e,n,r,o,i=tt(t[0]._flatten(t[10]))+"";return{c(){e=d("li"),n=d("a"),r=p(i),g(n,"href",o="#/"+Z(t[10].type)+"/"+t[10].id)},m(t,o){l(t,e,o),a(e,n),a(n,r)},p(t,e){3&e&&i!==(i=tt(t[0]._flatten(t[10]))+"")&&y(r,i),2&e&&o!==(o="#/"+Z(t[10].type)+"/"+t[10].id)&&g(n,"href",o)},d(t){t&&c(e)}}}function bs(t){let e,n,r,o,i,s=t[7]+"",h=t[1].get(t[7]),m=[];for(let e=0;e<h.length;e+=1)m[e]=vs(ms(t,h,e));return{c(){e=d("h1"),n=p(s),r=f(),o=d("ul");for(let t=0;t<m.length;t+=1)m[t].c();i=f()},m(t,s){l(t,e,s),a(e,n),l(t,r,s),l(t,o,s);for(let t=0;t<m.length;t+=1)m[t].m(o,null);a(o,i)},p(t,e){if(2&e&&s!==(s=t[7]+"")&&y(n,s),3&e){let n;for(h=t[1].get(t[7]),n=0;n<h.length;n+=1){const r=ms(t,h,n);m[n]?m[n].p(r,e):(m[n]=vs(r),m[n].c(),m[n].m(o,i))}for(;n<m.length;n+=1)m[n].d(1);m.length=h.length}},d(t){t&&c(e),t&&c(r),t&&c(o),u(m,t)}}}function xs(e){let n;function r(t,e){return t[1]?ys:gs}let o=r(e),i=o(e);return{c(){i.c(),n=h()},m(t,e){i.m(t,e),l(t,n,e)},p(t,[e]){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&c(n)}}}function ws(t,e,n){let r,o;var i;let a;s(t,ft,(t=>n(0,o=t)));let{search:l}=e;const c=new Set(["item","monster","furniture"]);return t.$$set=t=>{"search"in t&&n(2,l=t.search)},t.$$.update=()=>{9&t.$$.dirty&&(a=new fs([...null!==n(3,i=null==o?void 0:o.all())&&void 0!==i?i:[]].filter((t=>"string"==typeof t.id)),{keys:["id","name"],getFn:(t,e)=>{var n,r;return"id"===e[0]?null!==(r=null!==(n=t.id)&&void 0!==n?n:t.abstract)&&void 0!==r?r:"":"name"===e[0]?tt(t):void 0},ignoreFieldNorm:!0,minMatchCharLength:2,threshold:.2})),5&t.$$.dirty&&n(1,r=l&&l.length>1&&o&&function(t){const e=a.search(t,{limit:100}),n=new Map;for(const{item:t}of e){const e=Z(t.type);c.has(e)&&(n.has(e)||n.set(e,[]),n.get(e).push(t))}return n}(l)),4&t.$$.dirty&&history.replaceState({search:l},"")},[o,r,l,i]}fs.version="6.4.6",fs.createIndex=qi,fs.parseIndex=function(t,{getFn:e=Bi.getFn}={}){const{keys:n,records:r}=t,o=new Fi({getFn:e});return o.setKeys(n),o.setIndexRecords(r),o},fs.config=Bi,fs.parseQuery=us,function(...t){ns.push(...t)}(es);class Ss extends z{constructor(t){super(),J(this,t,ws,xs,i,{search:2})}}const{window:Es}=q;function Ts(e){let n,r,o,i,s,u,h,m,y,_,b,x=e[2]&&ks(e);return{c(){n=d("img"),o=f(),i=d("p"),i.innerHTML='The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the\nzombie survival roguelike game <a href="https://cataclysmdda.org/">Cataclysm:\nDark Days Ahead</a>. You can search for things in the game, like items (e.g. a\n<a href="#/item/flashlight">flashlight</a>), furniture (e.g. a <a href="#/furniture/f_table">table</a>), or monsters (e.g. a <a href="#/monster/mon_zombie">zombie</a>), and find useful information about\nthem. The data in the Guide comes directly from the JSON files in the game\nitself.',s=f(),u=d("p"),h=p("The Guide stores all its data locally and is offline-capable, so you can\ntake it with you whereever you go.\n"),x&&x.c(),m=f(),y=d("p"),y.textContent="More popular than the Celestial Home Care\nOmnibus, better selling than Fifty-three More Things to do in Zero Gravity, and\nmore controversial than Oolon Colluphid's trilogy of philosophical blockbusters\nWhere God Went Wrong, Some More of God's Greatest Mistakes and Who is this God\nPerson Anyway?",_=f(),b=d("p"),b.innerHTML='The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a> by <a href="https://www.nornagon.net">nornagon</a>. If you notice any problems,\nplease <a href="https://github.com/nornagon/cdda-guide/issues">file an\nissue</a>!',n.src!==(r="dont_panic.png")&&g(n,"src","dont_panic.png"),g(n,"height","200"),g(n,"width","343"),v(n,"float","right"),g(n,"alt","The words 'Don't Panic' in big friendly letters"),v(y,"font-style","italic"),v(y,"color","var(--cata-color-gray)")},m(t,e){l(t,n,e),l(t,o,e),l(t,i,e),l(t,s,e),l(t,u,e),a(u,h),x&&x.m(u,null),l(t,m,e),l(t,y,e),l(t,_,e),l(t,b,e)},p(t,e){t[2]?x?x.p(t,e):(x=ks(t),x.c(),x.m(u,null)):x&&(x.d(1),x=null)},i:t,o:t,d(t){t&&c(n),t&&c(o),t&&c(i),t&&c(s),t&&c(u),x&&x.d(),t&&c(m),t&&c(y),t&&c(_),t&&c(b)}}}function $s(t){let e,n;return e=new Ss({props:{search:t[1]}}),{c(){H(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.search=t[1]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Os(t){let e,n,r,o;const i=[Is,Cs],s=[];function a(t,e){return t[3]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=h()},m(t,n){s[e].m(t,n),l(t,r,n),o=!0},p(t,o){let l=e;e=a(t),e===l?s[e].p(t,o):(j(),F(s[l],1,1,(()=>{s[l]=null})),B(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){F(n),o=!1},d(t){s[e].d(t),t&&c(r)}}}function ks(e){let n,r,o,i,s;return{c(){n=p("It's also "),r=d("a"),r.textContent="installable",o=p(",\nso you can pop it out of your browser like a regular app."),g(r,"href","#")},m(t,a){l(t,n,a),l(t,r,a),l(t,o,a),i||(s=m(r,"click",e[8]),i=!0)},p:t,d(t){t&&c(n),t&&c(r),t&&c(o),i=!1,s()}}}function Cs(e){let n;return{c(){n=p("...")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Is(e){let n,r,o=e[0],s=Ms(e);return{c(){s.c(),n=h()},m(t,e){s.m(t,e),l(t,n,e),r=!0},p(e,r){1&r&&i(o,o=e[0])?(j(),F(s,1,1,t),B(),s=Ms(e),s.c(),P(s),s.m(n.parentNode,n)):s.p(e,r)},i(t){r||(P(s),r=!0)},o(t){F(s),r=!1},d(t){t&&c(n),s.d(t)}}}function Ms(t){let e,n;return e=new Ei({props:{item:t[0],data:t[3]}}),{c(){H(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.item=t[0]),8&n&&(r.data=t[3]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Rs(t){let e,n,o,i,s,u,p,h,y,b,x,w,S,E,T;const $=[Os,$s,Ts],O=[];function k(t,e){return t[0]?0:t[1]?1:2}return x=k(t),w=O[x]=$[x](t),{c(){e=d("header"),n=d("nav"),o=d("div"),i=d("strong"),s=d("a"),s.textContent="Hitchhiker's Guide to the Cataclysm",u=f(),p=d("div"),h=d("input"),y=f(),b=d("main"),w.c(),g(s,"href","#"),g(o,"class","title svelte-1n9l7uf"),v(h,"margin","0"),v(h,"width","100%"),g(h,"placeholder","Search..."),g(h,"id","search"),g(p,"class","search svelte-1n9l7uf"),g(n,"class","svelte-1n9l7uf"),g(e,"class","svelte-1n9l7uf"),g(b,"class","svelte-1n9l7uf")},m(r,c){l(r,e,c),a(e,n),a(n,o),a(o,i),a(i,s),a(n,u),a(n,p),a(p,h),_(h,t[1]),l(r,y,c),l(r,b,c),O[x].m(b,null),S=!0,E||(T=[m(Es,"hashchange",t[4]),m(Es,"keydown",As),m(s,"click",t[6]),m(h,"input",t[7]),m(h,"input",t[5])],E=!0)},p(t,[e]){2&e&&h.value!==t[1]&&_(h,t[1]);let n=x;x=k(t),x===n?O[x].p(t,e):(j(),F(O[n],1,1,(()=>{O[n]=null})),B(),w=O[x],w?w.p(t,e):(w=O[x]=$[x](t),w.c()),P(w,1),w.m(b,null))},i(t){S||(P(w),S=!0)},o(t){F(w),S=!1},d(t){t&&c(e),t&&c(y),t&&c(b),O[x].d(),E=!1,r(T)}}}function As(t){"/"===t.key&&"search"!==document.activeElement.id&&(document.getElementById("search").focus(),t.preventDefault())}function Ns(t,e,n){let r;s(t,ft,(t=>n(3,r=t)));let o=null;function i(){const t=window.location.hash.slice(1);let e;if(e=/^\/([^\/]+)\/(.+)$/.exec(t)){const[,t,r]=e;n(0,o={type:t,id:r}),window.scrollTo(0,0)}else n(0,o=null)}var a;a=i,w().$$.on_mount.push(a);let l="";let c;window.addEventListener("beforeinstallprompt",(t=>{n(2,c=t)}));return[o,l,c,r,i,()=>{o&&history.pushState(null,"",location.href.replace(/#.*$/,"")),n(0,o=null)},()=>n(1,l=""),function(){l=this.value,n(1,l)},t=>{t.preventDefault(),c.prompt()}]}class Ls extends z{constructor(t){super(),J(this,t,Ns,Rs,i,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Ds=function(t,e){return(Ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function js(t,e){function n(){this.constructor=t}Ds(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Bs,Ps,Fs,qs,Us=function(){return(Us=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Hs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ws(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Gs(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ws(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function Ys(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Js(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ys(arguments[e]));return t}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(Bs||(Bs={})),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(Ps||(Ps={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(Ps||(Ps={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(Fs||(Fs={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(Fs||(Fs={})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(qs||(qs={}));var zs=function(){return(zs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Vs(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Ks(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Vs(arguments[e]));return t}function Xs(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return sa(t,Error)}}function Zs(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function Qs(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function ta(t){return"[object String]"===Object.prototype.toString.call(t)}function ea(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function na(t){return"[object Object]"===Object.prototype.toString.call(t)}function ra(t){return"undefined"!=typeof Event&&sa(t,Event)}function oa(t){return"undefined"!=typeof Element&&sa(t,Element)}function ia(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function sa(t,e){try{return t instanceof e}catch(t){return!1}}function aa(t){try{for(var e=t,n=[],r=0,o=0,i=" > ".length,s=void 0;e&&r++<5&&!("html"===(s=la(e))||r>1&&o+n.length*i+s.length>=80);)n.push(s),o+=s.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function la(t){var e,n,r,o,i,s=t,a=[];if(!s||!s.tagName)return"";if(a.push(s.tagName.toLowerCase()),s.id&&a.push("#"+s.id),(e=s.className)&&ta(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var l=["type","name","title","alt"];for(i=0;i<l.length;i++)r=l[i],(o=s.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var ca=function(t,e){return(ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ua=function(){return(ua=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function da(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var pa=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var fa=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,pa(r,n.prototype),r}return function(t,e){function n(){this.constructor=t}ca(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),ha=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ma="Invalid Dsn",ga=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,o=e.pass,i=e.port,s=e.projectId;return e.protocol+"://"+e.publicKey+(t&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+s},t.prototype._fromString=function(t){var e=ha.exec(t);if(!e)throw new fa(ma);var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}(e.slice(1),6),r=n[0],o=n[1],i=n[2],s=void 0===i?"":i,a=n[3],l=n[4],c=void 0===l?"":l,u="",d=n[5],p=d.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),d=p.pop()),d){var f=d.match(/^\d+/);f&&(d=f[0])}this._fromComponents({host:a,pass:s,path:u,projectId:d,port:c,protocol:r,publicKey:o})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new fa("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new fa("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new fa("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new fa("Invalid Dsn: Invalid port "+this.port)},t}();function ya(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function _a(t,e){return t.require(e)}function va(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function ba(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var o=t[r];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function xa(t,e){return!!ta(t)&&(n=e,"[object RegExp]"===Object.prototype.toString.call(n)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e));var n}var wa={};function Sa(){return ya()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:wa}function Ea(){var t=Sa(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function Ta(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function $a(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function Oa(t){var e=Sa();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}function ka(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function Ca(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}var Ia=Sa(),Ma="Sentry Logger ",Ra=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Oa((function(){Ia.console.log(Ma+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Oa((function(){Ia.console.warn(Ma+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Oa((function(){Ia.console.error(Ma+"[Error]: "+t.join(" "))}))},t}();Ia.__SENTRY__=Ia.__SENTRY__||{};var Aa=Ia.__SENTRY__.logger||(Ia.__SENTRY__.logger=new Ra),Na=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),La="<anonymous>";function Da(t){try{return t&&"function"==typeof t&&t.name||La}catch(t){return La}}function ja(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=o}}function Ba(t){if(Xs(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(ra(t)){var o=t,i={};i.type=o.type;try{i.target=oa(o.target)?aa(o.target):Object.prototype.toString.call(o.target)}catch(t){i.target="<unknown>"}try{i.currentTarget=oa(o.currentTarget)?aa(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(t){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&sa(t,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return t}function Pa(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function Fa(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=Ha(t,e);return Pa(r)>n?Fa(t,e-1,n):r}function qa(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":na(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Da(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t;var n}function Ua(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new Na),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=qa(t);return ea(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var o=qa(e,t);if(ea(o))return o;var i=Ba(e),s=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=Ua(a,i[a],n-1,r));return r.unmemoize(e),s}function Ha(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return Ua(t,n,e)})))}catch(t){return"**non-serializable**"}}function Wa(t,e){void 0===e&&(e=40);var n=Object.keys(Ba(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return va(n[0],e);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>e))return r===n.length?o:va(o,e)}return""}function Ga(t){var e,n;if(na(t)){var r=t,o={};try{for(var i=da(Object.keys(r)),s=i.next();!s.done;s=i.next()){var a=s.value;void 0!==r[a]&&(o[a]=Ga(r[a]))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(Ga):t}function Ya(){if(!("fetch"in Sa()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Ja(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function za(){if(!Ya())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var Va,Ka=Sa(),Xa={},Za={};function Qa(t){if(!Za[t])switch(Za[t]=!0,t){case"console":!function(){if(!("console"in Ka))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in Ka.console&&ja(Ka.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];el("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,Ka.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Ka))return;var t=el.bind(null,"dom"),e=sl(t,!0);Ka.document.addEventListener("click",e,!1),Ka.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=Ka[e]&&Ka[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ja(n,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{var i=this,s=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},a=s[n]=s[n]||{refCount:0};if(!a.handler){var l=sl(t);a.handler=l,e.call(this,n,l,o)}a.refCount+=1}catch(t){}return e.call(this,n,r,o)}})),ja(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var o=this,i=o.__sentry_instrumentation_handlers__||{},s=i[e];s&&(s.refCount-=1,s.refCount<=0&&(t.call(this,e,s.handler,r),s.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete o.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Ka))return;var t=[],e=[],n=XMLHttpRequest.prototype;ja(n,"open",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this,s=r[1];i.__sentry_xhr__={method:ta(r[0])?r[0].toUpperCase():r[0],url:r[1]},ta(s)&&"POST"===i.__sentry_xhr__.method&&s.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var a=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}try{var n=t.indexOf(i);if(-1!==n){t.splice(n);var o=e.splice(n)[0];i.__sentry_xhr__&&void 0!==o[0]&&(i.__sentry_xhr__.body=o[0])}}catch(t){}el("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?ja(i,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(i,e)}})):i.addEventListener("readystatechange",a),n.apply(i,r)}})),ja(n,"send",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.push(this),e.push(r),el("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!function(){if(!Ya())return!1;var t=Sa();if(Ja(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Ja(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){Aa.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;ja(Ka,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:nl(e),url:rl(e)},startTimestamp:Date.now()};return el("fetch",ua({},r)),t.apply(Ka,e).then((function(t){return el("fetch",ua(ua({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw el("fetch",ua(ua({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!function(){var t=Sa(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}())return;var t=Ka.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=Va,i=String(r);Va=i,el("history",{from:o,to:i})}return t.apply(this,e)}}Ka.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ka.location.href,o=Va;if(Va=r,el("history",{from:o,to:r}),t)return t.apply(this,e)},ja(Ka.history,"pushState",e),ja(Ka.history,"replaceState",e)}();break;case"error":al=Ka.onerror,Ka.onerror=function(t,e,n,r,o){return el("error",{column:r,error:o,line:n,msg:t,url:e}),!!al&&al.apply(this,arguments)};break;case"unhandledrejection":cl=Ka.onunhandledrejection,Ka.onunhandledrejection=function(t){return el("unhandledrejection",t),!cl||cl.apply(this,arguments)};break;default:Aa.warn("unknown instrumentation type:",t)}}function tl(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(Xa[t.type]=Xa[t.type]||[],Xa[t.type].push(t.callback),Qa(t.type))}function el(t,e){var n,r;if(t&&Xa[t])try{for(var o=da(Xa[t]||[]),i=o.next();!i.done;i=o.next()){var s=i.value;try{s(e)}catch(e){Aa.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Da(s)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function nl(t){return void 0===t&&(t=[]),"Request"in Ka&&sa(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function rl(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Ka&&sa(t[0],Request)?t[0].url:String(t[0])}var ol,il;function sl(t,e){return void 0===e&&(e=!1),function(n){if(n&&il!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===ol||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(il,n))&&(t({event:n,name:r,global:e}),il=n),clearTimeout(ol),ol=Ka.setTimeout((function(){ol=void 0}),1e3)}}}var al=null;var ll,cl=null;!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(ll||(ll={}));var ul=function(){function t(t){var e=this;this._state=ll.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(ll.RESOLVED,t)},this._reject=function(t){e._setResult(ll.REJECTED,t)},this._setResult=function(t,n){e._state===ll.PENDING&&(ia(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==ll.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===ll.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===ll.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var o=e.length,i=[];e.forEach((function(e,s){t.resolve(e).then((function(t){i[s]=t,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void o(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void o(t)}else o(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var o,i;return n.then((function(t){i=!1,o=t,e&&e()}),(function(t){i=!0,o=t,e&&e()})).then((function(){i?r(o):t(o)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),dl=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):ul.reject(new fa("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new ul((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);ul.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),pl={nowSeconds:function(){return Date.now()/1e3}};var fl=ya()?function(){try{return _a(module,"perf_hooks").performance}catch(t){return}}():function(){var t=Sa().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),hl=void 0===fl?pl:{nowSeconds:function(){return(fl.timeOrigin+fl.now())/1e3}},ml=pl.nowSeconds.bind(pl),gl=hl.nowSeconds.bind(hl),yl=function(){var t=Sa().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}(),_l=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Ks(e._breadcrumbs),n._tags=zs({},e._tags),n._extra=zs({},e._extra),n._contexts=zs({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Ks(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=zs(zs({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=zs(zs({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=zs(zs({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=zs(zs({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=zs(zs({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,o=this.getSpan();return(null===(t=o)||void 0===t?void 0:t.transaction)?null===(e=o)||void 0===e?void 0:e.transaction:(null===(r=null===(n=o)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?o.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=zs(zs({},this._tags),e._tags),this._extra=zs(zs({},this._extra),e._extra),this._contexts=zs(zs({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):na(e)&&(e=e,this._tags=zs(zs({},this._tags),e.tags),this._extra=zs(zs({},this._extra),e.extra),this._contexts=zs(zs({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=zs({timestamp:ml()},t);return this._breadcrumbs=void 0!==e&&e>=0?Ks(this._breadcrumbs,[n]).slice(-e):Ks(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=zs(zs({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=zs(zs({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=zs(zs({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=zs(zs({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=zs({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=zs({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=Ks(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Ks(vl(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var o=this;return void 0===r&&(r=0),new ul((function(i,s){var a=t[r];if(null===e||"function"!=typeof a)i(e);else{var l=a(zs({},e),n);ia(l)?l.then((function(e){return o._notifyEventProcessors(t,e,n,r+1).then(i)})).then(null,s):o._notifyEventProcessors(t,l,n,r+1).then(i).then(null,s)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function vl(){var t=Sa();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function bl(t){vl().push(t)}var xl=function(){function t(t){this.errors=0,this.sid=Ea(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=Bs.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:Ea()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===Bs.Ok?this.update({status:Bs.Exited}):this.update()},t.prototype.toJSON=function(){return Ga({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Ga({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),wl=function(){function t(t,e,n){void 0===e&&(e=new _l),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=_l.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Ea(),r=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,zs(zs({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=Ea(),o=n;if(!n){var i=void 0;try{throw new Error(t)}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureMessage",t,e,zs(zs({},o),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Ea();return this._invokeClient("captureEvent",t,zs(zs({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,o=n.client;if(r&&o){var i=o.getOptions&&o.getOptions()||{},s=i.beforeBreadcrumb,a=void 0===s?null:s,l=i.maxBreadcrumbs,c=void 0===l?100:l;if(!(c<=0)){var u=ml(),d=zs({timestamp:u},t),p=a?Oa((function(){return a(d,e)})):d;null!==p&&r.addBreadcrumb(p,Math.min(c,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=El(this);try{t(this)}finally{El(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return Aa.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,o;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(o=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===o||o.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,o=r&&r.getOptions()||{},i=o.release,s=o.environment,a=new xl(zs(zs({release:i,environment:s},n&&{user:n.getUser()}),t));if(n){var l=n.getSession&&n.getSession();l&&l.status===Bs.Ok&&l.update({status:Bs.Exited}),this.endSession(),n.setSession(a)}return a},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),i=o.scope,s=o.client;s&&s[t]&&(e=s)[t].apply(e,Ks(n,[i]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Sl(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[t])return o.extensions[t].apply(this,e);Aa.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Sl(){var t=Sa();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function El(t){var e=Sl(),n=Ol(e);return kl(e,t),n}function Tl(){var t=Sl();return $l(t)&&!Ol(t).isOlderThan(3)||kl(t,new wl),ya()?function(t){var e,n,r;try{var o=null===(r=null===(n=null===(e=Sl().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!o)return Ol(t);if(!$l(o)||Ol(o).isOlderThan(3)){var i=Ol(t).getStackTop();kl(o,new wl(i.client,_l.clone(i.scope)))}return Ol(o)}catch(e){return Ol(t)}}(t):Ol(t)}function $l(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Ol(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new wl),t.__SENTRY__.hub}function kl(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function Cl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Tl();if(r&&r[t])return r[t].apply(r,Js(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Il(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Cl("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function Ml(t){Cl("withScope",t)}var Rl=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new ga(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var o in r.push("dsn="+e.toString()),t)if("dsn"!==o)if("user"===o){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t,e={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return t=e,Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t}(),Al=function(){return(Al=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Nl(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Ll(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nl(arguments[e]));return t}var Dl=[];function jl(t){var e={};return function(t){var e=t.defaultIntegrations&&Ll(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),i=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})),n.forEach((function(t){-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=Ll(e);var s=r.map((function(t){return t.name})),a="Debug";return-1!==s.indexOf(a)&&r.push.apply(r,Ll(r.splice(s.indexOf(a),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===Dl.indexOf(t.name)&&(t.setupOnce(bl,Tl),Dl.push(t.name),Aa.log("Integration installed: "+t.name))}(t)})),e}var Bl=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new ga(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,o=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){o=t}))),o},t.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id,s=ea(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(s.then((function(t){return o._captureEvent(t,n,r)})).then((function(t){i=t}))),i},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):Aa.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=jl(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return Aa.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,o,i=!1,s=!1,a=e.exception&&e.exception.values;if(a){s=!0;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),c=l.next();!c.done;c=l.next()){var u=c.value.mechanism;if(u&&!1===u.handled){i=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}var d=e.user;if(!t.userAgent){var p=e.request?e.request.headers:{};for(var f in p)if("user-agent"===f.toLowerCase()){o=p[f];break}}t.update(Al(Al({},i&&{status:Bs.Crashed}),{user:d,userAgent:o,errors:t.errors+Number(s||i)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new ul((function(n){var r=0,o=setInterval((function(){0==e._processing?(clearInterval(o),n(!0)):(r+=1,t&&r>=t&&(clearInterval(o),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,o=this.getOptions().normalizeDepth,i=void 0===o?3:o,s=Al(Al({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:Ea()),timestamp:t.timestamp||ml()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var a=e;n&&n.captureContext&&(a=_l.clone(a).update(n.captureContext));var l=ul.resolve(s);return a&&(l=a.applyToEvent(s,n)),l.then((function(t){return"number"==typeof i&&i>0?r._normalizeEvent(t,i):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Al(Al(Al(Al(Al({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return Al(Al({},t),t.data&&{data:Ha(t.data,e)})}))}),t.user&&{user:Ha(t.user,e)}),t.contexts&&{contexts:Ha(t.contexts,e)}),t.extra&&{extra:Ha(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,o=e.dist,i=e.maxValueLength,s=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=va(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=va(a.value,s));var l=t.request;l&&l.url&&(l.url=va(l.url,s))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){Aa.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,s=o.sampleRate;if(!this._isEnabled())return ul.reject(new fa("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?ul.reject(new fa("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new fa("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!i)return t;var n=i(t,e);if(void 0===n)throw new fa("`beforeSend` method has to return `null` or a valid event.");return ia(n)?n.then((function(t){return t}),(function(t){throw new fa("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new fa("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof fa)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new fa("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}(),Pl=function(){function t(){}return t.prototype.sendEvent=function(t){return ul.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Fs.Skipped})},t.prototype.close=function(t){return ul.resolve(!0)},t}(),Fl=function(){function t(t){this._options=t,this._options.dsn||Aa.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new fa("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new fa("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){Aa.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){Aa.error("Error while sending session: "+t)})):Aa.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Pl},t}();function ql(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function Ul(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Ll(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Ll(t.sdk.packages||[],e.packages||[]),t):t}function Hl(t,e){var n=ql(e);return{body:JSON.stringify(Al({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function Wl(t,e){var n=ql(e),r=t.type||"event",o="transaction"===r,i=t.debug_meta||{},s=i.transactionSampling,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(i,["transactionSampling"]),l=s||{},c=l.method,u=l.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var d={body:JSON.stringify(n?Ul(t,e.metadata.sdk):t),type:r,url:o?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(o){var p=JSON.stringify(Al({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:c,rate:u}]})+"\n"+d.body;d.body=p}return d}var Gl,Yl="6.2.1",Jl=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Gl=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Gl.apply(n,t)}},t.id="FunctionToString",t}(),zl=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Vl=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){bl((function(e){var n=Tl();if(!n)return e;var r=n.getIntegration(t);if(r){var o=n.getClient(),i=o?o.getOptions():{},s=r._mergeOptions(i);if(r._shouldDropEvent(e,s))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(Aa.warn("Event dropped due to being internal Sentry Error.\nEvent: "+$a(t)),!0):this._isIgnoredError(t,e)?(Aa.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+$a(t)),!0):this._isDeniedUrl(t,e)?(Aa.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+$a(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(Aa.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+$a(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return xa(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return xa(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return xa(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Ll(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Ll(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Ll(this._options.ignoreErrors||[],t.ignoreErrors||[],zl),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,o=e.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(e){return Aa.error("Cannot extract message for event "+$a(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return Aa.error("Cannot extract url for event "+$a(t)),null}},t.id="InboundFilters",t}(),Kl="?",Xl=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ql=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,tc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ec=/\((\S*)(?::(\d+))(?::(\d+))\)/,nc=/Minified React error #\d+;/i;function rc(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:nc.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),s=[],a=0;a<i.length;a+=2){var l=null;(e=r.exec(i[a]))?l={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=o.exec(i[a]))&&(l={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),l&&(!l.func&&l.line&&(l.func=Kl),s.push(l))}if(!s.length)return null;return{message:ic(t),name:t.name,stack:s}}(t))return oc(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,o=[],i=t.stack.split("\n"),s=0;s<i.length;++s){if(n=Xl.exec(i[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=ec.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||Kl,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Ql.exec(i[s]))r={url:n[2],func:n[1]||Kl,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Zl.exec(i[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=tc.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||Kl,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=Kl),o.push(r)}if(!o.length)return null;return{message:ic(t),name:t.name,stack:o}}(t))return oc(e,n)}catch(t){}return{message:ic(t),name:t&&t.name,stack:[],failed:!0}}function oc(t,e){try{return Us(Us({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function ic(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function sc(t){var e=lc(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function ac(t){return{exception:{values:[sc(t)]}}}function lc(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function cc(t,e,n){var r,o;if(void 0===n&&(n={}),Zs(t)&&t.error)return r=ac(rc(t=t.error));if(Qs(t)||(o=t,"[object DOMException]"===Object.prototype.toString.call(o))){var i=t,s=i.name||(Qs(i)?"DOMError":"DOMException"),a=i.message?s+": "+i.message:s;return ka(r=uc(a,e,n),a),"code"in i&&(r.tags=Us(Us({},r.tags),{"DOMException.code":""+i.code})),r}return Xs(t)?r=ac(rc(t)):na(t)||ra(t)?(Ca(r=function(t,e,n){var r={exception:{values:[{type:ra(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Wa(t)}]},extra:{__serialized__:Fa(t)}};if(e){var o=lc(rc(e).stack);r.stacktrace={frames:o}}return r}(t,e,n.rejection),{synthetic:!0}),r):(ka(r=uc(t,e,n),""+t,void 0),Ca(r,{synthetic:!0}),r)}function uc(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var o=lc(rc(e).stack);r.stacktrace={frames:o}}return r}var dc=function(){function t(t){this.options=t,this._buffer=new dl(30),this._rateLimits={},this._api=new Rl(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new fa("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,o=t.resolve,i=t.reject,s=Fs.fromHttpCode(n.status);this._handleRateLimit(r)&&Aa.warn("Too many requests, backing off until: "+this._disabledUntil(e)),s!==Fs.Success?i(n):o({status:s})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,o,i=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var l=Hs(s.trim().split(",")),c=l.next();!c.done;c=l.next()){var u=c.value.split(":",2),d=parseInt(u[0],10),p=1e3*(isNaN(d)?60:d);try{for(var f=(r=void 0,Hs(u[1].split(";"))),h=f.next();!h.done;h=f.next()){var m=h.value;this._rateLimits[m||"all"]=new Date(i+p)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return!0}return!!a&&(this._rateLimits.all=new Date(i+function(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}(i,a)),!0)},t}(),pc=Sa(),fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Wl(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Hl(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:za()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new ul((function(e,o){pc.fetch(t.url,r).then((function(r){var i={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:i,resolve:e,reject:o})})).catch(o)})))},e}(dc),hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Wl(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Hl(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new ul((function(e,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:o,headers:i,resolve:e,reject:r})}},o.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,n.options.headers[i]);o.send(t.body)})))},e}(dc),mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return js(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=cc(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return Ca(r,{handled:!0,type:"generic"}),r.level=Ps.Error,n&&n.event_id&&(r.event_id=n.event_id),ul.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=Ps.Info),function(t,e,n,r){void 0===n&&(n=Ps.Info);var o=uc(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ul.resolve(o)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Us(Us({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):Ya()?new fc(e):new hc(e)},e}(Fl),gc=0;function yc(){return gc>0}function _c(){gc+=1,setTimeout((function(){gc-=1}))}function vc(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(t){return vc(t,e)}));return t.handleEvent?t.handleEvent.apply(this,o):t.apply(this,o)}catch(t){throw _c(),Ml((function(n){n.addEventProcessor((function(t){var n=Us({},t);return e.mechanism&&(ka(n,void 0,void 0),Ca(n,e.mechanism)),n.extra=Us(Us({},n.extra),{arguments:r}),n})),Il(t)})),t}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}function bc(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new Rl(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else Aa.error("Missing dsn option in showReportDialog call");else Aa.error("Missing eventId option in showReportDialog call")}var xc=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Us({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Aa.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Aa.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(tl({callback:function(n){var r=n.error,o=Tl(),i=o.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(i&&!yc()&&!s){var a=o.getClient(),l=ea(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(cc(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Ca(l,{handled:!1,type:"onerror"}),o.captureEvent(l,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(tl({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var o=Tl(),i=o.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!i||yc()||s)return!0;var a=o.getClient(),l=ea(r)?e._eventFromRejectionWithPrimitive(r):cc(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});l.level=Ps.Error,Ca(l,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(l,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var o,i=Zs(t)?t.message:t;if(ta(i)){var s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(o=s[1],i=s[2])}var a={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(a,e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,s=ta(e)&&e.length>0?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:s,function:"?",in_app:!0,lineno:i}),t},t.id="GlobalHandlers",t}(),wc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Sc=function(){function t(e){this.name=t.id,this._options=Us({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=Sa();(this._options.setTimeout&&ja(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&ja(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&ja(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&ja(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:wc).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=vc(r,{mechanism:{data:{function:Da(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,vc(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Da(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Sa(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ja(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=vc(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Da(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,vc(r,{mechanism:{data:{function:"addEventListener",handler:Da(r),target:t},handled:!0,type:"instrument"}}),o)}})),ja(n,"removeEventListener",(function(t){return function(e,n,r){var o,i=n;try{var s=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;s&&t.call(this,e,s,r)}catch(t){}return t.call(this,e,i,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(t){t in r&&"function"==typeof r[t]&&ja(r,t,(function(e){var n={mechanism:{data:{function:t,handler:Da(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Da(e.__sentry_original__)),vc(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),Ec=function(){function t(e){this.name=t.id,this._options=Us({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Tl().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:$a(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&tl({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Gs(e))},type:"console"}),this._options.dom&&tl({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Gs(e))},type:"dom"}),this._options.xhr&&tl({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Gs(e))},type:"xhr"}),this._options.fetch&&tl({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Gs(e))},type:"fetch"}),this._options.history&&tl({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Gs(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Ps.fromString(t.level),message:ba(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(ba(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Tl().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?aa(t.event.target):aa(t.event)}catch(t){e="<unknown>"}0!==e.length&&Tl().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,o=e.status_code,i=e.body;Tl().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:o},type:"http"},{xhr:t.xhr,input:i})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Tl().addBreadcrumb({category:"fetch",data:t.fetchData,level:Ps.Error,type:"http"},{data:t.error,input:t.args}):Tl().addBreadcrumb({category:"fetch",data:Us(Us({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Sa(),n=t.from,r=t.to,o=Ta(e.location.href),i=Ta(n),s=Ta(r);i.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Tl().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),Tc=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){bl((function(e,n){var r=Tl().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&sa(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Gs(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!sa(t[e],Error)||n.length+1>=this._limit)return n;var r=sc(rc(t[e]));return this._walkErrorTree(t[e],e,Gs([r],n))},t.id="LinkedErrors",t}(),$c=Sa(),Oc=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){bl((function(e){var n,r,o;if(Tl().getIntegration(t)){if(!$c.navigator&&!$c.location&&!$c.document)return e;var i=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=$c.location)||void 0===r?void 0:r.href),s=($c.document||{}).referrer,a=($c.navigator||{}).userAgent,l=Us(Us(Us({},null===(o=e.request)||void 0===o?void 0:o.headers),s&&{Referer:s}),a&&{"User-Agent":a}),c=Us(Us({},i&&{url:i}),{headers:l});return Us(Us({},e),{request:c})}return e}))},t.id="UserAgent",t}(),kc=function(t){function e(e){void 0===e&&(e={});return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Yl}],version:Yl},t.call(this,mc,e)||this}return js(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Sa().document&&(this._isEnabled()?bc(Us(Us({},t),{dsn:t.dsn||this.getDsn()})):Aa.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Ec);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(Bl),Cc=[new Vl,new Jl,new Sc,new Ec,new xc,new Tc,new Oc];
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Ic=function(t,e){return(Ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Mc(t,e){function n(){this.constructor=t}Ic(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Rc,Ac=function(){return(Ac=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Nc(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Lc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nc(arguments[e]));return t}!function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(Rc||(Rc={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(Rc||(Rc={}));var Dc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function jc(t){return"tracesSampleRate"in t||"tracesSampler"in t}function Bc(t){var e,n;return void 0===t&&(t=Tl()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function Pc(t){return t/1e3}function Fc(){var t=Bc();t&&(Aa.log("[Tracing] Transaction: "+Rc.InternalError+" -> Global error occured"),t.setStatus(Rc.InternalError))}var qc=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),Uc=function(t){function e(e,n){var r=t.call(this,e)||this;return r._metadata={},r._measurements={},r._hub=Tl(),sa(n,wl)&&(r._hub=n),r.name=e.name||"",r._trimEnd=e.trimEnd,r.transaction=r,r}return Mc(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new qc(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=Ac({},t)},e.prototype.setMetadata=function(t){this._metadata=Ac(Ac({},this._metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(Aa.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var o={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(Aa.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),this._hub.captureEvent(o)}Aa.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return Ga(Ac(Ac({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=Ea(),this.spanId=Ea().substring(16),this.startTimestamp=gl(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Ac(Ac({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=Ac(Ac({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Ac(Ac({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=Rc.fromHttpCode(t);return e!==Rc.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===Rc.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:gl()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return Ga({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,o,i;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(o=t.tags)?o:{},this.traceId=null!=(i=t.traceId)?i:this.traceId,this},t.prototype.getTraceContext=function(){return Ga({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return Ga({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()),Hc=function(t){function e(e,n,r,o){void 0===r&&(r="");var i=t.call(this,o)||this;return i._pushActivity=e,i._popActivity=n,i.transactionSpanId=r,i}return Mc(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:gl(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(qc),Wc=function(t){function e(e,n,r,o){void 0===r&&(r=1e3),void 0===o&&(o=!1);var i=t.call(this,e,n)||this;return i._idleHub=n,i._idleTimeout=r,i._onScope=o,i.activities={},i._heartbeatTimer=0,i._heartbeatCounter=0,i._finished=!1,i._beforeFinishCallbacks=[],n&&o&&(Gc(n),Aa.log("Setting idle transaction on scope. Span ID: "+i.spanId),n.configureScope((function(t){return t.setSpan(i)}))),i._initTimeout=setTimeout((function(){i._finished||i.finish()}),i._idleTimeout),i}return Mc(e,t),e.prototype.finish=function(e){var n,r,o=this;if(void 0===e&&(e=gl()),this._finished=!0,this.activities={},this.spanRecorder){Aa.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._beforeFinishCallbacks),s=i.next();!s.done;s=i.next()){(0,s.value)(this,e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===o.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(Rc.Cancelled),Aa.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||Aa.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),Aa.log("[Tracing] flushing IdleTransaction")}else Aa.log("[Tracing] No active IdleTransaction");return this._onScope&&Gc(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new Hc((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),Aa.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),Aa.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,Aa.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(Aa.log("[Tracing] popActivity "+t),delete this.activities[t],Aa.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=gl()+n/1e3;setTimeout((function(){e._finished||e.finish(r)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(Aa.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Rc.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;Aa.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(Uc);function Gc(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}function Yc(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Jc(t,e,n){return jc(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:qs.Explicit}}),t):("function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:qs.Sampler,rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:qs.Inheritance}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:qs.Rate,rate:Number(r)}})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return Aa.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return Aa.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(Aa.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Aa.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(Aa.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Aa.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function zc(t,e){var n,r,o=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},i=new Uc(t,this);return(i=Jc(i,o,Ac({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&i.initSpanRecorder(null===(r=o._experiments)||void 0===r?void 0:r.maxSpans),i}var Vc=Sa();var Kc,Xc,Zc=function(t,e,n,r){var o;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(o||0),(e.delta||e.isFinal||void 0===o)&&(t(e),o=e.value))}},Qc=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},tu=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},eu=!1,nu=!1,ru=function(t){eu=!t.persisted},ou=function(t,e){void 0===e&&(e=!1),nu||(addEventListener("pagehide",ru),addEventListener("beforeunload",(function(){})),nu=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:eu})}),{capture:!0,once:e})},iu=function(){return void 0===Kc&&(Kc="hidden"===document.visibilityState?0:1/0,ou((function(t){var e=t.timeStamp;return Kc=e}),!0)),{get timeStamp(){return Kc}}},su=function(t,e){void 0===e&&(e=!1);var n,r=Qc("LCP"),o=iu(),i=function(t){var e=t.startTime;e<o.timeStamp?(r.value=e,r.entries.push(t)):r.isFinal=!0,n()},s=tu("largest-contentful-paint",i);if(s){n=Zc(t,r,s,e);var a=function(){r.isFinal||(s.takeRecords().map(i),r.isFinal=!0,n())};(Xc||(Xc=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),Xc).then(a),ou(a,!0)}},au=Sa(),lu=function(t){var e,n=Qc("TTFB");e=function(){try{var e=au.performance.getEntriesByType("navigation")[0]||function(){var t=au.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},cu=Sa(),uu=function(){function t(){this._measurements={},this._performanceCursor=0,cu&&cu.performance&&(cu.performance.mark&&cu.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(cu&&cu.performance&&cu.performance.getEntries&&yl){Aa.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,o,i=Pc(yl);if(cu.document)for(var s=0;s<document.scripts.length;s++)if("true"===document.scripts[s].dataset.entry){n=document.scripts[s].src;break}if(cu.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var a=Pc(s.startTime),l=Pc(s.duration);if(!("navigation"===t.op&&i+a<t.startTimestamp))switch(s.entryType){case"navigation":!function(t,e,n){du(t,e,"unloadEvent",n),du(t,e,"redirect",n),du(t,e,"domContentLoadedEvent",n),du(t,e,"loadEvent",n),du(t,e,"connect",n),du(t,e,"secureConnection",n,"connectEnd"),du(t,e,"fetch",n,"domainLookupStart"),du(t,e,"domainLookup",n),function(t,e,n){pu(t,{op:"browser",description:"request",startTimestamp:n+Pc(e.requestStart),endTimestamp:n+Pc(e.responseEnd)}),pu(t,{op:"browser",description:"response",startTimestamp:n+Pc(e.responseStart),endTimestamp:n+Pc(e.responseEnd)})}(t,e,n)}(t,s,i);break;case"mark":case"paint":case"measure":var c=function(t,e,n,r,o){var i=o+n,s=i+r;return pu(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:i}),i}(t,s,a,l,i);void 0===o&&"sentry-tracing-init"===s.name&&(o=c);var u=iu(),d=s.startTime<u.timeStamp;"first-paint"===s.name&&d&&(Aa.log("[Measurements] Adding FP"),e._measurements.fp={value:s.startTime},e._measurements["mark.fp"]={value:c}),"first-contentful-paint"===s.name&&d&&(Aa.log("[Measurements] Adding FCP"),e._measurements.fcp={value:s.startTime},e._measurements["mark.fcp"]={value:c});break;case"resource":var p=s.name.replace(window.location.origin,""),f=function(t,e,n,r,o,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize);var a=i+r,l=a+o;return pu(t,{description:n,endTimestamp:l,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:s}),l}(t,s,p,a,l,i);void 0===r&&(n||"").indexOf(p)>-1&&(r=f)}})),void 0!==r&&void 0!==o&&pu(t,{description:"evaluation",endTimestamp:o,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var a=Pc(yl);["fcp","fp","lcp","ttfb"].forEach((function(n){if(e._measurements[n]&&!(a>=t.startTimestamp)){var r=e._measurements[n].value,o=a+Pc(r),i=Math.abs(1e3*(o-t.startTimestamp)),s=i-r;Aa.log("[Measurements] Normalized "+n+" from "+r+" to "+i+" ("+s+")"),e._measurements[n].value=i}})),this._measurements["mark.fid"]&&this._measurements.fid&&pu(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Pc(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,r=Qc("CLS",0),o=function(t){t.hadRecentInput||(r.value+=t.value,r.entries.push(t),n())},i=tu("layout-shift",o);i&&(n=Zc(t,r,i,e),ou((function(t){var e=t.isUnloading;i.takeRecords().map(o),e&&(r.isFinal=!0),n()})))}((function(e){e.entries.pop()&&(Aa.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})}))},t.prototype._trackNavigator=function(t){var e=cu.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),fu(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),fu(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),fu(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),fu(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;su((function(e){var n=e.entries.pop();if(n){var r=Pc(performance.timeOrigin),o=Pc(n.startTime);Aa.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+o}}}))},t.prototype._trackFID=function(){var t,e,n,r,o,i,s=this;t=function(t){var e=t.entries.pop();if(e){var n=Pc(performance.timeOrigin),r=Pc(e.startTime);Aa.log("[Measurements] Adding FID"),s._measurements.fid={value:t.value},s._measurements["mark.fid"]={value:n+r}}},e=Qc("FID"),n=iu(),o=tu("first-input",r=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,i())}),i=Zc(t,e,o),o?ou((function(){o.takeRecords().map(r),o.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,r){r.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],i())}))},t.prototype._trackTTFB=function(){var t=this;lu((function(e){var n,r=e.entries.pop();if(r){Aa.log("[Measurements] Adding TTFB"),t._measurements.ttfb={value:e.value};var o=e.value-(n=e.entries[0],null!=n?n:r).requestStart;t._measurements["ttfb.requestTime"]={value:o}}}))},t}();function du(t,e,n,r,o){var i=o?e[o]:e[n+"End"],s=e[n+"Start"];s&&i&&pu(t,{op:"browser",description:n,startTimestamp:r+Pc(s),endTimestamp:r+Pc(i)})}function pu(t,e){var n=e.startTimestamp,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Ac({startTimestamp:n},r))}function fu(t){return"number"==typeof t&&isFinite(t)}var hu={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function mu(t){var e=Ac(Ac({},hu),t),n=e.traceFetch,r=e.traceXHR,o=e.tracingOrigins,i=e.shouldCreateSpanForRequest,s={},a=function(t){if(s[t])return s[t];var e=o;return s[t]=e.some((function(e){return xa(t,e)}))&&!xa(t,"sentry_key"),s[t]},l=a;"function"==typeof i&&(l=function(t){return a(t)&&i(t)});var c={};n&&tl({callback:function(t){!function(t,e,n){var r,o=null===(r=Tl().getClient())||void 0===r?void 0:r.getOptions();if(!(o&&jc(o)&&t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp&&t.fetchData.__span){if(a=n[t.fetchData.__span]){var i=t.response;i&&a.setHttpStatus(i.status),a.finish(),delete n[t.fetchData.__span]}return}var s=Bc();if(s){var a=s.startChild({data:Ac(Ac({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=a.spanId,n[a.spanId]=a;var l=t.args[0]=t.args[0],c=t.args[1]=t.args[1]||{},u=c.headers;sa(l,Request)&&(u=l.headers),u?"function"==typeof u.append?u.append("sentry-trace",a.toTraceparent()):u=Array.isArray(u)?Lc(u,[["sentry-trace",a.toTraceparent()]]):Ac(Ac({},u),{"sentry-trace":a.toTraceparent()}):u={"sentry-trace":a.toTraceparent()},c.headers=u}}(t,l,c)},type:"fetch"}),r&&tl({callback:function(t){!function(t,e,n){var r,o=null===(r=Tl().getClient())||void 0===r?void 0:r.getOptions();if(!o||!jc(o)||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url))||t.xhr.__sentry_own_request__)return;var i=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){return void((a=n[t.xhr.__sentry_xhr_span_id__])&&(a.setHttpStatus(i.status_code),a.finish(),delete n[t.xhr.__sentry_xhr_span_id__]))}var s=Bc();if(s){var a=s.startChild({data:Ac(Ac({},i.data),{type:"xhr",method:i.method,url:i.url}),description:i.method+" "+i.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,n[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(t){}}}(t,l,c)},type:"xhr"})}var gu=Sa();var yu=Ac({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),gu&&gu.location){var r,o=gu.location.href;e&&(r=t({name:gu.location.pathname,op:"pageload"})),n&&tl({callback:function(e){var n=e.to,i=e.from;void 0===i&&o&&-1!==o.indexOf(n)?o=void 0:i!==n&&(o=void 0,r&&(Aa.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:gu.location.pathname,op:"navigation"}))},type:"history"})}else Aa.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},hu),_u=function(){function t(e){this.name=t.id,this._metrics=new uu,this._emitOptionsWarning=!1;var n=hu.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Ac(Ac(Ac({},yu),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(Aa.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Aa.warn("[Tracing] We added a reasonable default for you: "+hu.tracingOrigins));var r=this.options,o=r.routingInstrumentation,i=r.startTransactionOnLocationChange,s=r.startTransactionOnPageLoad,a=r.markBackgroundTransactions,l=r.traceFetch,c=r.traceXHR,u=r.tracingOrigins,d=r.shouldCreateSpanForRequest;o((function(t){return n._createRouteTransaction(t)}),s,i),a&&(Vc&&Vc.document?Vc.document.addEventListener("visibilitychange",(function(){var t=Bc();Vc.document.hidden&&t&&(Aa.log("[Tracing] Transaction: "+Rc.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(Rc.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):Aa.warn("[Tracing] Could not set up background tab detection due to lack of global document")),mu({traceFetch:l,traceXHR:c,tracingOrigins:u,shouldCreateSpanForRequest:d})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,o=n.idleTimeout,i=n.maxTransactionDuration,s="pageload"===t.op?function(){var t=(e="sentry-trace",n=document.querySelector("meta[name="+e+"]"),n?n.getAttribute("content"):null);var e,n;if(t)return function(t){var e=t.match(Dc);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(t);return}():void 0,a=Ac(Ac(Ac({},t),s),{trimEnd:!0}),l="function"==typeof r?r(a):a,c=void 0===l?Ac(Ac({},a),{sampled:!1}):l;!1===c.sampled&&Aa.log("[Tracing] Will not send "+c.op+" transaction because of beforeNavigate."),Aa.log("[Tracing] Starting "+c.op+" transaction on scope");var u=function(t,e,n,r,o){var i,s,a=(null===(i=t.getClient())||void 0===i?void 0:i.getOptions())||{},l=new Wc(e,t,n,r);return(l=Jc(l,a,Ac({parentSampled:e.parentSampled,transactionContext:e},o))).sampled&&l.initSpanRecorder(null===(s=a._experiments)||void 0===s?void 0:s.maxSpans),l}(this._getCurrentHub(),c,o,!0,{location:Sa().location});return u.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(Rc.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(1e3*i,t,n)})),u}Aa.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();var vu=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?function(t,e){void 0===e&&(e=[]);e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,Lc([this],xu(t,e)))},t}(t,e)}))}(this._router,this._methods):Aa.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function bu(t,e){var n=t.length;switch(n){case 2:return function(n,r){var o=r.__sentry_transaction;if(o){var i=o.startChild({description:t.name,op:"middleware."+e});r.once("finish",(function(){i.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,o){var i,s=null===(i=r.__sentry_transaction)||void 0===i?void 0:i.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=s)||void 0===t||t.finish(),o.call.apply(o,Lc([this],e))}))};case 4:return function(n,r,o,i){var s,a=null===(s=o.__sentry_transaction)||void 0===s?void 0:s.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,o,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=a)||void 0===t||t.finish(),i.call.apply(i,Lc([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function xu(t,e){return t.map((function(t){return"function"==typeof t?bu(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?bu(t,e):t})):t}))}var wu,Su=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=_a(module,"pg").Client}catch(t){return void Aa.error("Postgres Integration was unable to require `pg` package.")}ja(n.prototype,"query",(function(t){return function(n,r,o){var i,s,a=null===(s=null===(i=e().getScope())||void 0===i?void 0:i.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.text,op:"db"});return"function"==typeof o?t.call(this,n,r,(function(t,e){var n;null===(n=a)||void 0===n||n.finish(),o(t,e)})):"function"==typeof r?t.call(this,n,(function(t,e){var n;null===(n=a)||void 0===n||n.finish(),r(t,e)})):t.call(this,n,r).then((function(t){var e;return null===(e=a)||void 0===e||e.finish(),t}))}}))},t.id="Postgres",t}(),Eu=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=_a(module,"mysql/lib/Connection.js")}catch(t){return void Aa.error("Mysql Integration was unable to require `mysql` package.")}ja(n.prototype,"query",(function(t){return function(n,r,o){var i,s,a=null===(s=null===(i=e().getScope())||void 0===i?void 0:i.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof o?t.call(this,n,r,(function(t,e,n){var r;null===(r=a)||void 0===r||r.finish(),o(t,e,n)})):"function"==typeof r?t.call(this,n,(function(t,e,n){var o;null===(o=a)||void 0===o||o.finish(),r(t,e,n)})):t.call(this,n,r,o)}}))},t.id="Mysql",t}(),Tu=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],$u={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},Ou=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:Tu,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n,r=this._useMongoose?"mongoose":"mongodb";try{n=_a(module,r).Collection}catch(t){return void Aa.error("Mongo Integration was unable to require `"+r+"` package.")}this._instrumentOperations(n,this._operations,e)},t.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);ja(t.prototype,e,(function(t){return function(){for(var o,i,s,a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var u=l[l.length-1],d=n().getScope(),p=null===(o=d)||void 0===o?void 0:o.getSpan();if("function"!=typeof u||"mapReduce"===e&&2===l.length){var f=null===(i=p)||void 0===i?void 0:i.startChild(r(this,e,l)),h=t.call.apply(t,Lc([this],l));return ia(h)?h.then((function(t){var e;return null===(e=f)||void 0===e||e.finish(),t})):(null===(s=f)||void 0===s||s.finish(),h)}var m=null===(a=p)||void 0===a?void 0:a.startChild(r(this,e,l.slice(0,-1)));return t.call.apply(t,Lc([this],l.slice(0,-1),[function(t,e){var n;null===(n=m)||void 0===n||n.finish(),u(t,e)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},o={op:"db",description:e,data:r},i=$u[e],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!i||!s)return o;try{if("mapReduce"===e){var a=Nc(n,2),l=a[0],c=a[1];r[i[0]]="string"==typeof l?l:l.name||"<anonymous>",r[i[1]]="string"==typeof c?c:c.name||"<anonymous>"}else for(var u=0;u<i.length;u++)r[i[u]]=JSON.stringify(n[u])}catch(t){}return o},t.id="Mongo",t}(),ku=Ac(Ac({},Object.freeze({__proto__:null,Express:vu,Postgres:Su,Mysql:Eu,Mongo:Ou})),{BrowserTracing:_u});function Cu(){new Ls({target:document.body})}(wu=Sl()).__SENTRY__&&(wu.__SENTRY__.extensions=wu.__SENTRY__.extensions||{},wu.__SENTRY__.extensions.startTransaction||(wu.__SENTRY__.extensions.startTransaction=zc),wu.__SENTRY__.extensions.traceHeaders||(wu.__SENTRY__.extensions.traceHeaders=Yc)),tl({callback:Fc,type:"error"}),tl({callback:Fc,type:"unhandledrejection"}),"localhost"!==location.hostname&&function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Cc),void 0===t.release){var e=Sa();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),function(t,e){!0===e.debug&&Aa.enable();var n=Tl(),r=new t(e);n.bindClient(r)}(kc,t),t.autoSessionTracking&&function(){if(void 0===Sa().document)return void Aa.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var t=Tl();t.startSession(),t.captureSession(),tl({callback:function(){t.startSession(),t.captureSession()},type:"history"})}()}({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new ku.BrowserTracing],tracesSampleRate:1}),"serviceWorker"in navigator?(navigator.serviceWorker.register("service-worker.js").catch((t=>{console.log("ServiceWorker registration failed: ",t)})),navigator.serviceWorker.ready.then(Cu,Cu)):Cu()}();
//# sourceMappingURL=bundle.js.map
