!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(){return h(" ")}function m(){return h("")}function g(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function b(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let v;function M(t){v=t}function x(){if(!v)throw new Error("Function called outside component initialization");return v}function O(t){return x().$$.context.get(t)}const C=[],w=[],I=[],E=[],A=Promise.resolve();let k=!1;function T(t){I.push(t)}let $=!1;const L=new Set;function S(){if(!$){$=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];M(e),R(e.$$)}for(M(null),C.length=0;w.length;)w.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];L.has(e)||(L.add(e),e())}I.length=0}while(C.length);for(;E.length;)E.pop()();k=!1,$=!1,L.clear()}}function R(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const N=new Set;let B;function D(){B={r:0,c:[],p:B}}function F(){B.r||r(B.c),B=B.p}function P(t,e){t&&t.i&&(N.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(N.has(t))return;N.add(t),B.c.push((()=>{N.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const H="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function G(t,e){j(t,1,1,(()=>{e.delete(t.key)}))}function W(t){t&&t.c()}function U(t,n,i,s){const{fragment:l,on_mount:c,on_destroy:a,after_update:u}=t.$$;l&&l.m(n,i),s||T((()=>{const n=c.map(e).filter(o);a?a.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(T)}function V(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(C.push(t),k||(k=!0,A.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,o,i,s,l,c,u=[-1]){const d=v;M(e);const h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let f=!1;if(h.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),f&&q(e,t)),n})):[],h.update(),f=!0,r(h.before_update),h.fragment=!!s&&s(h.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);h.fragment&&h.fragment.l(t),t.forEach(a)}else h.fragment&&h.fragment.c();o.intro&&P(e.$$.fragment),U(e,o.target,o.anchor,o.customElement),S()}M(d)}class K{$destroy(){V(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const z=[];function J(e,n=t){let r;const o=[];function s(t){if(i(e,t)&&(e=t,r)){const t=!z.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),z.push(n,e)}if(t){for(let t=0;t<z.length;t+=2)z[t][0](z[t+1]);z.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,l=t){const c=[i,l];return o.push(c),1===o.length&&(r=n(s)||t),i(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}const Z=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"]]),Q=t=>{var e;return null!==(e=Z.get(t))&&void 0!==e?e:t},X=t=>{var e,n;return(null==t?void 0:t.name)?"string"==typeof t.name?t.name:null!==(e=t.name.str_sp)&&void 0!==e?e:t.name.str:null!==(n=null==t?void 0:t.id)&&void 0!==n?n:null==t?void 0:t.abstract};class tt{constructor(t){this._byType=new Map,this._byTypeById=new Map,this._abstractsByType=new Map,this._toolReplacements=new Map,this._craftingPseudoItems=new Map,this._migrations=new Map,this._raw=t;for(const e of t){if(!Object.hasOwnProperty.call(e,"type"))continue;if("MIGRATION"===e.type){for(const t of"string"==typeof e.id?[e.id]:e.id){const{replace:n}=e;this._migrations.set(t,n)}continue}const t=Q(e.type);if(this._byType.has(t)||this._byType.set(t,[]),this._byType.get(t).push(e),Object.hasOwnProperty.call(e,"id")&&(this._byTypeById.has(t)||this._byTypeById.set(t,new Map),this._byTypeById.get(t).set(e.id,e)),"recipe"===e.type&&Object.hasOwnProperty.call(e,"result")){this._byTypeById.has(t)||this._byTypeById.set(t,new Map);const n=e.result+(e.id_suffix?"_"+e.id_suffix:"");this._byTypeById.get(t).set(n,e)}Object.hasOwnProperty.call(e,"abstract")&&(this._abstractsByType.has(t)||this._abstractsByType.set(t,new Map),this._abstractsByType.get(t).set(e.abstract,e)),"TOOL"===e.type&&Object.hasOwnProperty.call(e,"sub")&&(this._toolReplacements.has(e.sub)||this._toolReplacements.set(e.sub,[]),this._toolReplacements.get(e.sub).push(e.id)),Object.hasOwnProperty.call(e,"crafting_pseudo_item")&&this._craftingPseudoItems.set(e.crafting_pseudo_item,e.id)}}byId(t,e){var n;if("string"!=typeof e)throw new Error("Requested non-string id");if("item"===t&&this._migrations.has(e))return this.byId(t,this._migrations.get(e));const r=null===(n=this._byTypeById.get(t))||void 0===n?void 0:n.get(e);return r?this._flatten(r):void 0}byType(t){var e;return null!==(e=this._byType.get(t))&&void 0!==e?e:[]}replacementTools(t){var e;return null!==(e=this._toolReplacements.get(t))&&void 0!==e?e:[]}craftingPseudoItem(t){return this._craftingPseudoItems.get(t)}all(){return this._raw}_flatten(t){var e,n,r,o,i,s,l,c;const a="copy-from"in t?null!==(n=null===(e=this._byTypeById.get(Q(t.type)))||void 0===e?void 0:e.get(t["copy-from"]))&&void 0!==n?n:null===(r=this._abstractsByType.get(Q(t.type)))||void 0===r?void 0:r.get(t["copy-from"]):null;if("copy-from"in t&&!a&&console.error(`Missing parent in ${null!==(o=t.id)&&void 0!==o?o:t.abstract}`),!a)return t;const u=Object.assign(Object.assign({},this._flatten(a)),t);for(const t of Object.keys(null!==(i=u.relative)&&void 0!==i?i:{}))"number"==typeof u.relative[t]&&(u[t]+=u.relative[t]);delete u.relative;for(const t of Object.keys(null!==(s=u.proportional)&&void 0!==s?s:{}))"number"==typeof u.proportional[t]&&("attack_cost"!==t||t in u||(u[t]=100),u[t]*=u.proportional[t],u[t]=0|u[t]);delete u.proportional;for(const t of Object.keys(null!==(l=u.extend)&&void 0!==l?l:{}))Array.isArray(u.extend[t])&&(u[t]=(null!==(c=u[t])&&void 0!==c?c:[]).concat(u.extend[t]));return delete u.extend,u}}const et=(()=>{let t;return()=>(t||(t=(async()=>{const t=await fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/data/latest/all.json");if(console.log(t),!t.ok)throw new Error(`Error ${t.status} (${t.statusText}) fetching data`);const e=await t.json();return new tt(e.data)})()),t)})(),nt=function(t,e){return{subscribe:J(t,e).subscribe}}(null,(function(t){et().then(t)}));function rt(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function ot(t,e,n){const r=t.slice();return r[8]=e[n],r[7]=n,r}function it(t,e,n){const r=t.slice();return r[10]=e[n],r}function st(e){let n,r,o,i=e[10].name+"";return{c(){n=d("li"),r=d("a"),o=h(i),p(r,"href","#/material/"+e[10].id)},m(t,e){c(t,n,e),l(n,r),l(r,o)},p:t,d(t){t&&a(n)}}}function lt(t){let e,n,r,o=t[0].special_attacks,i=[];for(let e=0;e<o.length;e+=1)i[e]=ct(ot(t,o,e));return{c(){e=d("dt"),e.textContent="Special attacks:",n=d("dd"),r=d("ul");for(let t=0;t<i.length;t+=1)i[t].c();p(r,"class","no-bullets")},m(t,o){c(t,e,o),c(t,n,o),l(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null)},p(t,e){if(1&e){let n;for(o=t[0].special_attacks,n=0;n<o.length;n+=1){const s=ot(t,o,n);i[n]?i[n].p(s,e):(i[n]=ct(s),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}},d(t){t&&a(e),t&&a(n),u(i,t)}}}function ct(t){let e,n,r=_t(t[8])+"";return{c(){e=d("li"),n=h(r)},m(t,r){c(t,e,r),l(e,n)},p(t,e){1&e&&r!==(r=_t(t[8])+"")&&y(n,r)},d(t){t&&a(e)}}}function at(t){let e,n,r,o=t[0].anger_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Anger triggers",n=d("dd"),r=h(o)},m(t,o){c(t,e,o),c(t,n,o),l(n,r)},p(t,e){1&e&&o!==(o=t[0].anger_triggers.join(", ")+"")&&y(r,o)},d(t){t&&a(e),t&&a(n)}}}function ut(t){let e,n,r,o=t[0].placate_triggers.join(", ")+"";return{c(){e=d("dt"),e.textContent="Placate triggers",n=d("dd"),r=h(o)},m(t,o){c(t,e,o),c(t,n,o),l(n,r)},p(t,e){1&e&&o!==(o=t[0].placate_triggers.join(", ")+"")&&y(r,o)},d(t){t&&a(e),t&&a(n)}}}function dt(t){let e;return{c(){e=h(", ")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function ht(t){let e,n,r,o,i=t[5]+"",s=t[7]<t[0].flags.length-1&&dt();return{c(){e=d("abbr"),n=h(i),s&&s.c(),o=m(),p(e,"title",r=t[1][t[5]])},m(t,r){c(t,e,r),l(e,n),s&&s.m(t,r),c(t,o,r)},p(t,l){1&l&&i!==(i=t[5]+"")&&y(n,i),1&l&&r!==(r=t[1][t[5]])&&p(e,"title",r),t[7]<t[0].flags.length-1?s||(s=dt(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(t){t&&a(e),s&&s.d(t),t&&a(o)}}}function ft(e){let n,r,o,i,s,g,_,v,M,x,O,C,w,I,E,A,k,T,$,L,S,R,N,B,D,F,P,j,H,G,W,U,V,q,Y,K,z,J,Z,Q,tt,et,nt,ot,ct,dt,ft,_t,bt,vt,Mt,xt,Ot,Ct,wt,It,Et,At,kt,Tt,$t,Lt,St,Rt,Nt,Bt,Dt,Ft,Pt,jt,Ht,Gt,Wt,Ut,Vt,qt,Yt,Kt,zt,Jt,Zt,Qt,Xt,te,ee,ne,re,oe,ie,se,le,ce,ae,ue,de,he,fe,me,ge,pe,ye,_e,be,ve,Me,xe,Oe,Ce,we,Ie,Ee=e[0].symbol+"",Ae=X(e[0])+"",ke=e[0].description+"",Te=mt(e[0])+"",$e=gt(mt(e[0]))+"",Le=e[0].bodytype+"",Se=(e[0].species??[]).join(", ")+"",Re=e[0].volume+"",Ne=e[0].weight+"",Be=e[0].speed+"",De=(e[0].melee_skill??0)+"",Fe=yt(e[0])+"",Pe=e[0].hp+"",je=(e[0].dodge??0)+"",He=(e[0].armor_bash??0)+"",Ge=(e[0].armor_cut??0)+"",We=(e[0].armor_stab??Math.floor(.8*(e[0].armor_cut??0)))+"",Ue=(e[0].armor_bullet??0)+"",Ve=(e[0].armor_acid??Math.floor(.5*(e[0].armor_cut??0)))+"",qe=(e[0].armor_fire??0)+"",Ye=e[0].aggression+"",Ke=e[0].morale+"",ze=(e[0].vision_day??40)+"",Je=(e[0].vision_night??1)+"",Ze=e[0].default_faction+"",Qe=(e[0].death_function??[]).join(", ")+"",Xe=e[2],tn=[];for(let t=0;t<Xe.length;t+=1)tn[t]=st(it(e,Xe,t));let en=e[0].special_attacks&&lt(e),nn=e[0].anger_triggers&&at(e),rn=e[0].placate_triggers&&ut(e),on=e[0].flags??[],sn=[];for(let t=0;t<on.length;t+=1)sn[t]=ht(rt(e,on,t));return{c(){n=d("h1"),r=d("span"),o=h(Ee),s=f(),g=h(Ae),_=f(),v=d("section"),M=d("p"),x=h(ke),O=f(),C=d("p"),w=h("Difficulty: "),I=h(Te),E=f(),A=d("span"),k=h("("),T=h($e),$=h(")"),S=f(),R=d("section"),N=d("h1"),N.textContent="Body",B=f(),D=d("dl"),F=d("dt"),F.textContent="Body type",P=d("dd"),j=h(Le),H=d("dt"),H.textContent="Species",G=d("dd"),W=h(Se),U=d("dt"),U.textContent="Volume",V=d("dd"),q=h(Re),Y=d("dt"),Y.textContent="Weight",K=d("dd"),z=h(Ne),J=d("dt"),J.textContent="Material",Z=d("dd"),Q=d("ul");for(let t=0;t<tn.length;t+=1)tn[t].c();tt=f(),et=d("section"),nt=d("h1"),nt.textContent="Combat",ot=f(),ct=d("div"),dt=d("dl"),ft=d("dt"),ft.textContent="Speed",_t=d("dd"),bt=h(Be),vt=d("dt"),vt.textContent="Melee skill",Mt=d("dd"),xt=h(De),Ot=d("dt"),Ot.textContent="Damage",Ct=d("dd"),wt=h(Fe),en&&en.c(),It=f(),Et=d("dl"),At=d("dt"),At.textContent="HP",kt=d("dd"),Tt=h(Pe),$t=d("dt"),$t.textContent="Dodge",Lt=d("dd"),St=h(je),Rt=d("dt"),Rt.textContent="Armor",Nt=d("dd"),Bt=d("dl"),Dt=d("dt"),Dt.textContent="Bash",Ft=d("dd"),Pt=h(He),jt=d("dt"),jt.textContent="Cut",Ht=d("dd"),Gt=h(Ge),Wt=d("dt"),Wt.textContent="Stab",Ut=d("dd"),Vt=h(We),qt=d("dt"),qt.textContent="Bullet",Yt=d("dd"),Kt=h(Ue),zt=d("dt"),zt.textContent="Acid",Jt=d("dd"),Zt=h(Ve),Qt=d("dt"),Qt.textContent="Fire",Xt=d("dd"),te=h(qe),ee=f(),ne=d("section"),re=d("h1"),re.textContent="Behavior",oe=f(),ie=d("dl"),se=d("dt"),se.textContent="Aggression",le=d("dd"),ce=h(Ye),ae=d("dt"),ae.textContent="Morale",ue=d("dd"),de=h(Ke),he=d("dt"),he.textContent="Vision range",fe=d("dd"),me=h(ze),ge=h(" (day) / "),pe=h(Je),ye=h(" (night)"),_e=d("dt"),_e.textContent="Default faction",be=d("dd"),ve=h(Ze),nn&&nn.c(),Me=m(),rn&&rn.c(),xe=d("dt"),xe.textContent="Flags",Oe=d("dd");for(let t=0;t<sn.length;t+=1)sn[t].c();Ce=d("dt"),Ce.textContent="On death",we=d("dd"),Ie=h(Qe),b(r,"font-family","monospace"),p(r,"class",i="c_"+e[0].color),p(A,"class",L="c_"+pt(mt(e[0]))+" fg_only"),p(Q,"class","comma-separated"),b(dt,"flex","1"),b(Et,"flex","1"),b(ct,"display","flex"),b(ct,"flex-direction","row"),b(ct,"align-items","start"),b(ct,"flex-wrap","wrap")},m(t,e){c(t,n,e),l(n,r),l(r,o),l(n,s),l(n,g),c(t,_,e),c(t,v,e),l(v,M),l(M,x),l(v,O),l(v,C),l(C,w),l(C,I),l(C,E),l(C,A),l(A,k),l(A,T),l(A,$),c(t,S,e),c(t,R,e),l(R,N),l(R,B),l(R,D),l(D,F),l(D,P),l(P,j),l(D,H),l(D,G),l(G,W),l(D,U),l(D,V),l(V,q),l(D,Y),l(D,K),l(K,z),l(D,J),l(D,Z),l(Z,Q);for(let t=0;t<tn.length;t+=1)tn[t].m(Q,null);c(t,tt,e),c(t,et,e),l(et,nt),l(et,ot),l(et,ct),l(ct,dt),l(dt,ft),l(dt,_t),l(_t,bt),l(dt,vt),l(dt,Mt),l(Mt,xt),l(dt,Ot),l(dt,Ct),l(Ct,wt),en&&en.m(dt,null),l(ct,It),l(ct,Et),l(Et,At),l(Et,kt),l(kt,Tt),l(Et,$t),l(Et,Lt),l(Lt,St),l(Et,Rt),l(Et,Nt),l(Nt,Bt),l(Bt,Dt),l(Bt,Ft),l(Ft,Pt),l(Bt,jt),l(Bt,Ht),l(Ht,Gt),l(Bt,Wt),l(Bt,Ut),l(Ut,Vt),l(Bt,qt),l(Bt,Yt),l(Yt,Kt),l(Bt,zt),l(Bt,Jt),l(Jt,Zt),l(Bt,Qt),l(Bt,Xt),l(Xt,te),c(t,ee,e),c(t,ne,e),l(ne,re),l(ne,oe),l(ne,ie),l(ie,se),l(ie,le),l(le,ce),l(ie,ae),l(ie,ue),l(ue,de),l(ie,he),l(ie,fe),l(fe,me),l(fe,ge),l(fe,pe),l(fe,ye),l(ie,_e),l(ie,be),l(be,ve),nn&&nn.m(ie,null),l(ie,Me),rn&&rn.m(ie,null),l(ie,xe),l(ie,Oe);for(let t=0;t<sn.length;t+=1)sn[t].m(Oe,null);l(ie,Ce),l(ie,we),l(we,Ie)},p(t,[e]){if(1&e&&Ee!==(Ee=t[0].symbol+"")&&y(o,Ee),1&e&&i!==(i="c_"+t[0].color)&&p(r,"class",i),1&e&&Ae!==(Ae=X(t[0])+"")&&y(g,Ae),1&e&&ke!==(ke=t[0].description+"")&&y(x,ke),1&e&&Te!==(Te=mt(t[0])+"")&&y(I,Te),1&e&&$e!==($e=gt(mt(t[0]))+"")&&y(T,$e),1&e&&L!==(L="c_"+pt(mt(t[0]))+" fg_only")&&p(A,"class",L),1&e&&Le!==(Le=t[0].bodytype+"")&&y(j,Le),1&e&&Se!==(Se=(t[0].species??[]).join(", ")+"")&&y(W,Se),1&e&&Re!==(Re=t[0].volume+"")&&y(q,Re),1&e&&Ne!==(Ne=t[0].weight+"")&&y(z,Ne),4&e){let n;for(Xe=t[2],n=0;n<Xe.length;n+=1){const r=it(t,Xe,n);tn[n]?tn[n].p(r,e):(tn[n]=st(r),tn[n].c(),tn[n].m(Q,null))}for(;n<tn.length;n+=1)tn[n].d(1);tn.length=Xe.length}if(1&e&&Be!==(Be=t[0].speed+"")&&y(bt,Be),1&e&&De!==(De=(t[0].melee_skill??0)+"")&&y(xt,De),1&e&&Fe!==(Fe=yt(t[0])+"")&&y(wt,Fe),t[0].special_attacks?en?en.p(t,e):(en=lt(t),en.c(),en.m(dt,null)):en&&(en.d(1),en=null),1&e&&Pe!==(Pe=t[0].hp+"")&&y(Tt,Pe),1&e&&je!==(je=(t[0].dodge??0)+"")&&y(St,je),1&e&&He!==(He=(t[0].armor_bash??0)+"")&&y(Pt,He),1&e&&Ge!==(Ge=(t[0].armor_cut??0)+"")&&y(Gt,Ge),1&e&&We!==(We=(t[0].armor_stab??Math.floor(.8*(t[0].armor_cut??0)))+"")&&y(Vt,We),1&e&&Ue!==(Ue=(t[0].armor_bullet??0)+"")&&y(Kt,Ue),1&e&&Ve!==(Ve=(t[0].armor_acid??Math.floor(.5*(t[0].armor_cut??0)))+"")&&y(Zt,Ve),1&e&&qe!==(qe=(t[0].armor_fire??0)+"")&&y(te,qe),1&e&&Ye!==(Ye=t[0].aggression+"")&&y(ce,Ye),1&e&&Ke!==(Ke=t[0].morale+"")&&y(de,Ke),1&e&&ze!==(ze=(t[0].vision_day??40)+"")&&y(me,ze),1&e&&Je!==(Je=(t[0].vision_night??1)+"")&&y(pe,Je),1&e&&Ze!==(Ze=t[0].default_faction+"")&&y(ve,Ze),t[0].anger_triggers?nn?nn.p(t,e):(nn=at(t),nn.c(),nn.m(ie,Me)):nn&&(nn.d(1),nn=null),t[0].placate_triggers?rn?rn.p(t,e):(rn=ut(t),rn.c(),rn.m(ie,xe)):rn&&(rn.d(1),rn=null),3&e){let n;for(on=t[0].flags??[],n=0;n<on.length;n+=1){const r=rt(t,on,n);sn[n]?sn[n].p(r,e):(sn[n]=ht(r),sn[n].c(),sn[n].m(Oe,null))}for(;n<sn.length;n+=1)sn[n].d(1);sn.length=on.length}1&e&&Qe!==(Qe=(t[0].death_function??[]).join(", ")+"")&&y(Ie,Qe)},i:t,o:t,d(t){t&&a(n),t&&a(_),t&&a(v),t&&a(S),t&&a(R),u(tn,t),t&&a(tt),t&&a(et),en&&en.d(),t&&a(ee),t&&a(ne),nn&&nn.d(),rn&&rn.d(),u(sn,t)}}}function mt(t){const{melee_skill:e=0,melee_dice:n=0,melee_cut:r=0,melee_dice_sides:o=0,dodge:i=0,armor_bash:s=-1,armor_cut:l=-1,diff:c=0,special_attacks:a=[],emit_fields:u=[],hp:d,speed:h,attack_cost:f=100,morale:m=0,aggression:g=0,vision_day:p=40,vision_night:y=1}=t;let _=(e+1)*n*(r+o)*.04+(i+1)*(3+s+l)*.04+(c+a.length+8*u.length);return _=Math.floor(_),_*=.01*(d+h-f+.1*(m+g))+.01*(p+2*y),Math.floor(_)}function gt(t){return t<3?"Minimal threat.":t<10?"Mildly dangerous.":t<20?"Dangerous.":t<30?"Very dangerous.":t<50?"Extremely dangerous.":"Fatally dangerous!"}function pt(t){return t<3||t<10?"light_gray":t<20?"light_red":"red"}function yt(t){let{melee_dice:e=0,melee_dice_sides:n=0,melee_damage:r,melee_cut:o}=t;return`${e}d${n}`}function _t(t){return Array.isArray(t)?t.length>1?`${t[0]} (cooldown: ${t[1]})`:t[0]:"type"in t?"cooldown"in t?`${t.type} (cooldown: ${t.cooldown})`:t.type:"id"in t?"damage_max_instance"in t?`${t.id}: ${t.damage_max_instance.map((t=>`(${t.damage_type} for ${t.amount} damage)`)).join(" ")}`:t.id:void 0}function bt(t,e,n){var r;let{item:o}=e,i=O("data");let s=(null!==(r=o.material)&&void 0!==r?r:[]).map((t=>i.byId("material",t)));return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,{SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},s]}class vt extends K{constructor(t){super(),Y(this,t,bt,ft,i,{item:0})}}function Mt(t,e,n){const r=t.slice();return r[13]=e[n],r}function xt(t,e,n){const r=t.slice();return r[16]=e[n].id,r[17]=e[n].item,r[18]=e[n].count,r[20]=n,r}function Ot(t,e,n){const r=t.slice();return r[21]=e[n],r}function Ct(t,e,n){const r=t.slice();return r[24]=e[n],r[20]=n,r}function wt(t,e,n){const r=t.slice();return r[26]=e[n],r}function It(t,e,n){const r=t.slice();return r[29]=e[n],r[20]=n,r}function Et(t,e,n){const r=t.slice();return r[31]=e[n],r}function At(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r[20]=n,r}function kt(e){let n;return{c(){n=h("none")},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Tt(t){let e,n,r,o,i,s,u=X(t[1].byId("skill",t[0].skill_used))+"",f=(t[0].difficulty??0)+"";return{c(){e=d("a"),n=h(u),o=h(" ("),i=h(f),s=h(")"),p(e,"href",r="#/skill/"+t[0].skill_used)},m(t,r){c(t,e,r),l(e,n),c(t,o,r),c(t,i,r),c(t,s,r)},p(t,o){1&o[0]&&u!==(u=X(t[1].byId("skill",t[0].skill_used))+"")&&y(n,u),1&o[0]&&r!==(r="#/skill/"+t[0].skill_used)&&p(e,"href",r),1&o[0]&&f!==(f=(t[0].difficulty??0)+"")&&y(i,f)},d(t){t&&a(e),t&&a(o),t&&a(i),t&&a(s)}}}function $t(t){let e;return{c(){e=h("none")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Lt(t){let e;return{c(){e=h(", ")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function St(t){let e;return{c(){e=h(" and ")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Rt(e){let n,r,o,i,s,u,f=X(e[1].byId("skill",e[34]))+"",g=e[35]+"";let y=function(t,e){return t[20]===t[5].length-2?St:t[20]!==t[5].length-1?Lt:void 0}(e),_=y&&y(e);return{c(){n=d("a"),r=h(f),o=h(" ("),i=h(g),s=h(")"),_&&_.c(),u=m(),p(n,"href","#/skill/"+e[34])},m(t,e){c(t,n,e),l(n,r),c(t,o,e),c(t,i,e),c(t,s,e),_&&_.m(t,e),c(t,u,e)},p:t,d(t){t&&a(n),t&&a(o),t&&a(i),t&&a(s),_&&_.d(t),t&&a(u)}}}function Nt(t){let e,n,r,o,i=t[0].proficiencies??[],s=[];for(let e=0;e<i.length;e+=1)s[e]=Bt(Et(t,i,e));return{c(){e=d("dt"),e.textContent="Proficiencies",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();o=f(),p(r,"class","svelte-k9dy74")},m(t,i){c(t,e,i),c(t,n,i),l(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);l(n,o)},p(t,e){if(3&e[0]){let n;for(i=t[0].proficiencies??[],n=0;n<i.length;n+=1){const o=Et(t,i,n);s[n]?s[n].p(o,e):(s[n]=Bt(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&a(e),t&&a(n),u(s,t)}}}function Bt(t){let e,n,r,o,i=X(t[1].byId("proficiency",t[31].proficiency))+"";return{c(){e=d("li"),n=d("a"),r=h(i),p(n,"href",o="#/proficiency/"+t[31].proficiency)},m(t,o){c(t,e,o),l(e,n),l(n,r)},p(t,e){1&e[0]&&i!==(i=X(t[1].byId("proficiency",t[31].proficiency))+"")&&y(r,i),1&e[0]&&o!==(o="#/proficiency/"+t[31].proficiency)&&p(n,"href",o)},d(t){t&&a(e)}}}function Dt(t){let e,n,r,o=t[0].charges+"";return{c(){e=d("dt"),e.textContent="Recipe makes",n=d("dd"),r=h(o)},m(t,o){c(t,e,o),c(t,n,o),l(n,r)},p(t,e){1&e[0]&&o!==(o=t[0].charges+"")&&y(r,o)},d(t){t&&a(e),t&&a(n)}}}function Ft(e){let n,r,o,i,s,u,m,g,y,_,b,v=(e[29].amount??1)+"",M=1===(e[29].amount??1)?"":"s",x=X(e[1].byId("tool_quality",e[29].id))+"",O=e[29].level+"",C=0!==e[20]&&function(t){let e;return{c(){e=h(" OR ")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}();return{c(){C&&C.c(),n=f(),r=h(v),o=h(" tool"),i=h(M),s=h(" with "),u=d("a"),m=h(x),g=h(" of "),y=h(O),_=h(" or more"),b=h(""),p(u,"href","#/tool_quality/"+e[29].id)},m(t,e){C&&C.m(t,e),c(t,n,e),c(t,r,e),c(t,o,e),c(t,i,e),c(t,s,e),c(t,u,e),l(u,m),c(t,g,e),c(t,y,e),c(t,_,e),c(t,b,e)},p:t,d(t){C&&C.d(t),t&&a(n),t&&a(r),t&&a(o),t&&a(i),t&&a(s),t&&a(u),t&&a(g),t&&a(y),t&&a(_),t&&a(b)}}}function Pt(t){let e,n,r=t[26],o=[];for(let e=0;e<r.length;e+=1)o[e]=Ft(It(t,r,e));return{c(){e=d("li");for(let t=0;t<o.length;t+=1)o[t].c();n=h(".")},m(t,r){c(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);l(e,n)},p(t,i){if(18&i[0]){let s;for(r=t[26],s=0;s<r.length;s+=1){const l=It(t,r,s);o[s]?o[s].p(l,i):(o[s]=Ft(l),o[s].c(),o[s].m(e,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(t){t&&a(e),u(o,t)}}}function jt(e){let n,r,o=X(e[1].byId("item",e[24].id))+"";return{c(){n=d("a"),r=h(o),p(n,"href","#/item/"+e[24].id)},m(t,e){c(t,n,e),l(n,r)},p:t,d(t){t&&a(n)}}}function Ht(e){let n,r,o=X(e[1].byId("item",e[24].id))+"";return{c(){n=d("a"),r=h(o),p(n,"href","#/furniture/"+e[1].craftingPseudoItem(e[24].id))},m(t,e){c(t,n,e),l(n,r)},p:t,d(t){t&&a(n)}}}function Gt(e){let n,r,o,i,s=e[24].count+"",l=1!==e[24].count&&function(t){let e;return{c(){e=h("s")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}();return{c(){n=h("("),r=h(s),o=h(" charge"),l&&l.c(),i=h(")")},m(t,e){c(t,n,e),c(t,r,e),c(t,o,e),l&&l.m(t,e),c(t,i,e)},p:t,d(t){t&&a(n),t&&a(r),t&&a(o),l&&l.d(t),t&&a(i)}}}function Wt(t){let e,n,r,o=0!==t[20]&&function(t){let e;return{c(){e=h(" OR ")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}();let i=function(t,e){return t[1].craftingPseudoItem(t[24].id)?Ht:jt}(t)(t),s=t[24].count>0&&Gt(t);return{c(){o&&o.c(),e=f(),i.c(),n=f(),s&&s.c(),r=m()},m(t,l){o&&o.m(t,l),c(t,e,l),i.m(t,l),c(t,n,l),s&&s.m(t,l),c(t,r,l)},p(t,e){i.p(t,e),t[24].count>0&&s.p(t,e)},d(t){o&&o.d(t),t&&a(e),i.d(t),t&&a(n),s&&s.d(t),t&&a(r)}}}function Ut(t){let e,n,r=t[21],o=[];for(let e=0;e<r.length;e+=1)o[e]=Wt(Ct(t,r,e));return{c(){e=d("li");for(let t=0;t<o.length;t+=1)o[t].c();n=f()},m(t,r){c(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);l(e,n)},p(t,i){if(6&i[0]){let s;for(r=t[21],s=0;s<r.length;s+=1){const l=Ct(t,r,s);o[s]?o[s].p(l,i):(o[s]=Wt(l),o[s].c(),o[s].m(e,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(t){t&&a(e),u(o,t)}}}function Vt(e){let n,r,o,i=!e[6](e[17]),s=(1===e[18]||e[6](e[17])?X(e[17]):(null==(u=e[17])?void 0:u.name)?"string"==typeof u.name?u.name:null!==(y=null!==(g=u.name.str_sp)&&void 0!==g?g:u.name.str_pl)&&void 0!==y?y:u.name.str+"s":null!==(_=null==u?void 0:u.id)&&void 0!==_?_:null==u?void 0:u.abstract)+"";var u,g,y,_;let b,v,M,x=e[6](e[17]),O=0!==e[20]&&function(t){let e;return{c(){e=h(" OR ")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}(),C=i&&function(e){let n,r=e[18]+"";return{c(){n=h(r)},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}(e),w=x&&function(e){let n,r,o,i=e[18]+"";return{c(){n=h("("),r=h(i),o=h(")")},m(t,e){c(t,n,e),c(t,r,e),c(t,o,e)},p:t,d(t){t&&a(n),t&&a(r),t&&a(o)}}}(e);return{c(){O&&O.c(),n=f(),C&&C.c(),r=f(),o=d("a"),b=h(s),v=f(),w&&w.c(),M=m(),p(o,"href","#/item/"+e[16])},m(t,e){O&&O.m(t,e),c(t,n,e),C&&C.m(t,e),c(t,r,e),c(t,o,e),l(o,b),c(t,v,e),w&&w.m(t,e),c(t,M,e)},p(t,e){i&&C.p(t,e),x&&w.p(t,e)},d(t){O&&O.d(t),t&&a(n),C&&C.d(t),t&&a(r),t&&a(o),t&&a(v),w&&w.d(t),t&&a(M)}}}function qt(t){let e,n,r=t[13].map(t[7]),o=[];for(let e=0;e<r.length;e+=1)o[e]=Vt(xt(t,r,e));return{c(){e=d("li");for(let t=0;t<o.length;t+=1)o[t].c();n=f()},m(t,r){c(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);l(e,n)},p(t,i){if(74&i[0]){let s;for(r=t[13].map(t[7]),s=0;s<r.length;s+=1){const l=xt(t,r,s);o[s]?o[s].p(l,i):(o[s]=Vt(l),o[s].c(),o[s].m(e,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(t){t&&a(e),u(o,t)}}}function Yt(e){let n,r,o,i,s,g,_,b,v,M,x,O,C,w,I,E,A,k=e[0].time+"",T=JSON.stringify(e[0],null,2)+"";function $(t,e){return t[0].skill_used?Tt:kt}let L=$(e),S=L(e),R=e[5].length&&function(t){let e,n,r,o=t[5],i=[];for(let e=0;e<o.length;e+=1)i[e]=Rt(At(t,o,e));let s=null;return o.length||(s=$t()),{c(){e=d("dt"),e.textContent="Other skills",n=d("dd");for(let t=0;t<i.length;t+=1)i[t].c();s&&s.c(),r=f()},m(t,o){c(t,e,o),c(t,n,o);for(let t=0;t<i.length;t+=1)i[t].m(n,null);s&&s.m(n,null),l(n,r)},p(t,e){if(34&e[0]){let l;for(o=t[5],l=0;l<o.length;l+=1){const s=At(t,o,l);i[l]?i[l].p(s,e):(i[l]=Rt(s),i[l].c(),i[l].m(n,r))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length,o.length?s&&(s.d(1),s=null):s||(s=$t(),s.c(),s.m(n,r))}},d(t){t&&a(e),t&&a(n),u(i,t),s&&s.d()}}}(e),N=e[0].proficiencies&&Nt(e),B=e[0].charges&&Dt(e),D=((e[4]??[]).length||e[2].length)&&function(t){let e,n,r,o,i,s=t[4]??[],h=[];for(let e=0;e<s.length;e+=1)h[e]=Pt(wt(t,s,e));let m=t[2],g=[];for(let e=0;e<m.length;e+=1)g[e]=Ut(Ot(t,m,e));return{c(){e=d("dt"),e.textContent="Tools required",n=d("dd"),r=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();o=f();for(let t=0;t<g.length;t+=1)g[t].c();i=f(),p(r,"class","svelte-k9dy74")},m(t,s){c(t,e,s),c(t,n,s),l(n,r);for(let t=0;t<h.length;t+=1)h[t].m(r,null);l(r,o);for(let t=0;t<g.length;t+=1)g[t].m(r,null);l(n,i)},p(t,e){if(18&e[0]){let n;for(s=t[4]??[],n=0;n<s.length;n+=1){const i=wt(t,s,n);h[n]?h[n].p(i,e):(h[n]=Pt(i),h[n].c(),h[n].m(r,o))}for(;n<h.length;n+=1)h[n].d(1);h.length=s.length}if(6&e[0]){let n;for(m=t[2],n=0;n<m.length;n+=1){const o=Ot(t,m,n);g[n]?g[n].p(o,e):(g[n]=Ut(o),g[n].c(),g[n].m(r,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=m.length}},d(t){t&&a(e),t&&a(n),u(h,t),u(g,t)}}}(e),F=e[3].length&&function(t){let e,n,r,o=t[3],i=[];for(let e=0;e<o.length;e+=1)i[e]=qt(Mt(t,o,e));return{c(){e=d("dt"),e.textContent="Components",n=d("dd"),r=d("ul");for(let t=0;t<i.length;t+=1)i[t].c();p(r,"class","svelte-k9dy74")},m(t,o){c(t,e,o),c(t,n,o),l(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null)},p(t,e){if(74&e[0]){let n;for(o=t[3],n=0;n<o.length;n+=1){const s=Mt(t,o,n);i[n]?i[n].p(s,e):(i[n]=qt(s),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}},d(t){t&&a(e),t&&a(n),u(i,t)}}}(e);return{c(){n=d("section"),r=d("dl"),o=d("dt"),o.textContent="Primary skill",i=d("dd"),S.c(),s=f(),R&&R.c(),g=m(),N&&N.c(),_=d("dt"),_.textContent="Time to complete",b=d("dd"),v=h(k),B&&B.c(),M=m(),D&&D.c(),x=m(),F&&F.c(),O=f(),C=d("details"),w=d("summary"),w.textContent="Recipe JSON",I=f(),E=d("pre"),A=h(T),p(n,"class","recipe")},m(t,e){c(t,n,e),l(n,r),l(r,o),l(r,i),S.m(i,null),l(i,s),R&&R.m(r,null),l(r,g),N&&N.m(r,null),l(r,_),l(r,b),l(b,v),B&&B.m(r,null),l(r,M),D&&D.m(r,null),l(r,x),F&&F.m(r,null),l(n,O),l(n,C),l(C,w),l(C,I),l(C,E),l(E,A)},p(t,e){L===(L=$(t))&&S?S.p(t,e):(S.d(1),S=L(t),S&&(S.c(),S.m(i,s))),t[5].length&&R.p(t,e),t[0].proficiencies?N?N.p(t,e):(N=Nt(t),N.c(),N.m(r,_)):N&&(N.d(1),N=null),1&e[0]&&k!==(k=t[0].time+"")&&y(v,k),t[0].charges?B?B.p(t,e):(B=Dt(t),B.c(),B.m(r,M)):B&&(B.d(1),B=null),((t[4]??[]).length||t[2].length)&&D.p(t,e),t[3].length&&F.p(t,e),1&e[0]&&T!==(T=JSON.stringify(t[0],null,2)+"")&&y(A,T)},i:t,o:t,d(t){t&&a(n),S.d(),R&&R.d(),N&&N.d(),B&&B.d(),D&&D.d(),F&&F.d()}}}function Kt(t,e,n){var r;let o=O("data"),{recipe:i}=e;function s(t,e){var n;const r=[];for(const i of t){const[t,l,c]=i;if("LIST"===c){const i=o.byId("requirement",t);"requirement"!==i.type&&console.error(`Expected a requirement, got ${i.type} (id=${i.id})`);const c=(null!==(n=e(i))&&void 0!==n?n:[])[0];r.push(...s(c,e).map((t=>Object.assign(Object.assign({},t),{count:t.count*l}))))}else r.push({id:t,count:l})}return r}function l(t){const e=o.replacementTools(t.id);return[t,...e.map((e=>({id:e,count:t.count})))]}function c(t,e){return t.map((t=>s(t,e))).map((t=>t.flatMap(l))).filter((t=>t.length))}let a=(null!==(r=i.using)&&void 0!==r?r:[]).map((([t,e])=>[o.byId("requirement",t),e])).concat([[i,1]]),u=a.flatMap((([t,e])=>{var n;return c(null!==(n=t.tools)&&void 0!==n?n:[],(t=>t.tools)).map((t=>t.map((t=>Object.assign(Object.assign({},t),{count:t.count*e})))))})),d=a.flatMap((([t,e])=>{var n;return c(null!==(n=t.components)&&void 0!==n?n:[],(t=>t.components)).map((t=>t.map((t=>Object.assign(Object.assign({},t),{count:t.count*e})))))})),h=a.flatMap((([t,e])=>{var n;return(null!==(n=t.qualities)&&void 0!==n?n:[]).map((t=>Array.isArray(t)?t:[t]))})),f=void 0===(m=i.skills_required)||0===m.length?[]:Array.isArray(m[0])?m:[m];var m;return t.$$set=t=>{"recipe"in t&&n(0,i=t.recipe)},[i,o,u,d,h,f,t=>"AMMO"===t.type||"COMESTIBLE"===t.type||t.stackable,t=>({...t,item:o.byId("item",t.id)})]}class zt extends K{constructor(t){super(),Y(this,t,Kt,Yt,i,{recipe:0},[-1,-1])}}function Jt(t,e,n){const r=t.slice();return r[25]=e[n],r}function Zt(t,e,n){const r=t.slice();return r[28]=e[n],r}function Qt(t,e,n){const r=t.slice();return r[31]=e[n],r}function Xt(t,e,n){const r=t.slice();return r[0]=e[n],r}function te(t,e,n){const r=t.slice();return r[36]=e[n],r}function ee(t,e,n){const r=t.slice();return r[39]=e[n],r}function ne(t,e,n){const r=t.slice();return r[42]=e[n][0],r[43]=e[n][1],r}function re(t,e,n){const r=t.slice();return r[46]=e[n].quality,r[47]=e[n].level,r}function oe(t,e,n){const r=t.slice();return r[50]=e[n],r}function ie(t,e,n){const r=t.slice();return r[53]=e[n],r}function se(t,e,n){const r=t.slice();return r[56]=e[n].id,r[57]=e[n].max_charges,r}function le(t,e,n){const r=t.slice();return r[60]=e[n],r}function ce(e){let n,r,o,i=e[60].name+"";return{c(){n=d("li"),r=d("a"),o=h(i),p(r,"href","#/material/"+e[60].id)},m(t,e){c(t,n,e),l(n,r),l(r,o)},p:t,d(t){t&&a(n)}}}function ae(t){let e,n,r,o,i,s,u,m,g=t[57]+"",_="GUN"===t[0].type?"rounds":"charges",b=X(t[1].byId("ammunition_type",t[56]))+"";return{c(){e=d("li"),n=h(g),r=f(),o=h(_),i=h(" of "),s=d("a"),u=h(b),m=f(),p(s,"href","#/ammunition_type/"+t[56])},m(t,a){c(t,e,a),l(e,n),l(e,r),l(e,o),l(e,i),l(e,s),l(s,u),l(e,m)},p(t,e){1&e[0]&&_!==(_="GUN"===t[0].type?"rounds":"charges")&&y(o,_)},d(t){t&&a(e)}}}function ue(e){let n,r,o,i=X(e[1].byId("item",e[53]))+"";return{c(){n=d("li"),r=d("a"),o=h(i),p(r,"href","#/item/"+e[53])},m(t,e){c(t,n,e),l(n,r),l(r,o)},p:t,d(t){t&&a(n)}}}function de(t){let e;return{c(){e=d("li"),e.innerHTML="<em>none</em>"},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function he(e){let n,r,o,i=e[50].id+"";return{c(){n=d("li"),r=d("a"),o=h(i),p(r,"href","#/json_flag/"+e[50].id)},m(t,e){c(t,n,e),l(n,r),l(r,o)},p:t,d(t){t&&a(n)}}}function fe(e){let n,r,o,i,s,u,m,g,y=e[47]+"",_=X(e[46])+"";return{c(){n=d("li"),r=h("Has level "),o=d("strong"),i=h(y),s=f(),u=d("a"),m=h(_),g=h(" quality."),p(u,"href","#/tool_quality/"+e[46].id)},m(t,e){c(t,n,e),l(n,r),l(n,o),l(o,i),l(o,s),l(o,u),l(u,m),l(n,g)},p:t,d(t){t&&a(n)}}}function me(t){let e,n,r,o,i,s,m,g,_,b,v,M,x,O,C,w,I,E,A,k,T,$,L,S,R,N,B,D,F,P,j,H,G,W,U,V,q,Y,K,z,J,Z,Q,X,tt,et,nt,rt,ot,it,st,lt,ct=t[12]("head"),at=t[12]("eyes"),ut=t[12]("mouth"),dt=t[12]("torso"),ht=(t[0].encumbrance??0)+"",ft=(t[0].warmth??0)+"",mt=(t[0].coverage??0)+"",gt=(t[4].reduce(He,0)*t[0].material_thickness/t[4].length).toFixed(2)+"",pt=(t[4].reduce(Ge,0)*t[0].material_thickness/t[4].length).toFixed(2)+"",yt=(t[4].reduce(We,0)*t[0].material_thickness/t[4].length).toFixed(2)+"",_t=t[15]().toFixed(2)+"",bt=t[16]().toFixed(2)+"",vt=(t[0].environmental_protection??0)+"",Mt=ct&&function(t){let e,n,r;return{c(){e=h("The "),n=d("strong"),n.textContent="head",r=h(".")},m(t,o){c(t,e,o),c(t,n,o),c(t,r,o)},d(t){t&&a(e),t&&a(n),t&&a(r)}}}(),xt=at&&function(t){let e,n,r;return{c(){e=h("The "),n=d("strong"),n.textContent="eyes",r=h(".")},m(t,o){c(t,e,o),c(t,n,o),c(t,r,o)},d(t){t&&a(e),t&&a(n),t&&a(r)}}}(),Ot=ut&&function(t){let e,n,r;return{c(){e=h("The "),n=d("strong"),n.textContent="mouth",r=h(".")},m(t,o){c(t,e,o),c(t,n,o),c(t,r,o)},d(t){t&&a(e),t&&a(n),t&&a(r)}}}(),Ct=dt&&function(t){let e,n,r;return{c(){e=h("The "),n=d("strong"),n.textContent="torso",r=h(".")},m(t,o){c(t,e,o),c(t,n,o),c(t,r,o)},d(t){t&&a(e),t&&a(n),t&&a(r)}}}(),wt=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],It=[];for(let e=0;e<4;e+=1)It[e]=be(ne(t,wt,e));let Et=!t[13]&&function(t){let e;return{c(){e=h("Nothing.")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}(),At=t[0].max_encumbrance&&ve(t);function kt(t,e){return(null==R||1&e[0])&&(R=!!(t[0].flags??[]).includes("PERSONAL")),R?Ee:((null==N||1&e[0])&&(N=!!(t[0].flags??[]).includes("SKINTIGHT")),N?Ie:((null==B||1&e[0])&&(B=!!(t[0].flags??[]).includes("BELTED")),B?we:((null==D||1&e[0])&&(D=!!(t[0].flags??[]).includes("OUTER")),D?Ce:((null==F||1&e[0])&&(F=!!(t[0].flags??[]).includes("WAIST")),F?Oe:((null==P||1&e[0])&&(P=!!(t[0].flags??[]).includes("AURA")),P?xe:Me)))))}let Tt=kt(t,[-1]),$t=Tt(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Armor",r=f(),o=d("dl"),i=d("dt"),i.textContent="Covers",s=d("dd"),Mt&&Mt.c(),m=f(),xt&&xt.c(),g=f(),Ot&&Ot.c(),_=f(),Ct&&Ct.c(),b=f();for(let t=0;t<4;t+=1)It[t].c();v=f(),Et&&Et.c(),M=f(),x=d("dt"),x.textContent="Encumbrance",O=d("dd"),C=h(ht),At&&At.c(),w=d("dt"),w.textContent="Warmth",I=d("dd"),E=h(ft),A=d("dt"),A.textContent="Coverage",k=d("dd"),T=h(mt),$=h("%"),L=d("dt"),L.textContent="Layer",S=d("dd"),$t.c(),j=f(),H=d("dt"),H.textContent="Protection",G=d("dd"),W=d("dl"),U=d("dt"),U.textContent="Bash",V=d("dd"),q=h(gt),Y=d("dt"),Y.textContent="Cut",K=d("dd"),z=h(pt),J=d("dt"),J.textContent="Ballistic",Z=d("dd"),Q=h(yt),X=d("dt"),X.textContent="Acid",tt=d("dd"),et=h(_t),nt=d("dt"),nt.textContent="Fire",rt=d("dd"),ot=h(bt),it=d("dt"),it.textContent="Environ.",st=d("dd"),lt=h(vt),p(A,"title","This determines how likely it is that an attack hits the item instead of the player."),p(it,"title","Environmental")},m(t,a){c(t,e,a),l(e,n),l(e,r),l(e,o),l(o,i),l(o,s),Mt&&Mt.m(s,null),l(s,m),xt&&xt.m(s,null),l(s,g),Ot&&Ot.m(s,null),l(s,_),Ct&&Ct.m(s,null),l(s,b);for(let t=0;t<4;t+=1)It[t].m(s,null);l(s,v),Et&&Et.m(s,null),l(s,M),l(o,x),l(o,O),l(O,C),At&&At.m(O,null),l(o,w),l(o,I),l(I,E),l(o,A),l(o,k),l(k,T),l(k,$),l(o,L),l(o,S),$t.m(S,null),l(S,j),l(o,H),l(o,G),l(G,W),l(W,U),l(W,V),l(V,q),l(W,Y),l(W,K),l(K,z),l(W,J),l(W,Z),l(Z,Q),l(W,X),l(W,tt),l(tt,et),l(W,nt),l(W,rt),l(rt,ot),l(W,it),l(W,st),l(st,lt)},p(t,e){if(4097&e[0]){let n;for(wt=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],n=0;n<4;n+=1){const r=ne(t,wt,n);It[n]?It[n].p(r,e):(It[n]=be(r),It[n].c(),It[n].m(s,v))}for(;n<4;n+=1)It[n].d(1)}1&e[0]&&ht!==(ht=(t[0].encumbrance??0)+"")&&y(C,ht),t[0].max_encumbrance?At?At.p(t,e):(At=ve(t),At.c(),At.m(O,null)):At&&(At.d(1),At=null),1&e[0]&&ft!==(ft=(t[0].warmth??0)+"")&&y(E,ft),1&e[0]&&mt!==(mt=(t[0].coverage??0)+"")&&y(T,mt),Tt!==(Tt=kt(t,e))&&($t.d(1),$t=Tt(t),$t&&($t.c(),$t.m(S,j))),1&e[0]&&gt!==(gt=(t[4].reduce(He,0)*t[0].material_thickness/t[4].length).toFixed(2)+"")&&y(q,gt),1&e[0]&&pt!==(pt=(t[4].reduce(Ge,0)*t[0].material_thickness/t[4].length).toFixed(2)+"")&&y(z,pt),1&e[0]&&yt!==(yt=(t[4].reduce(We,0)*t[0].material_thickness/t[4].length).toFixed(2)+"")&&y(Q,yt),1&e[0]&&_t!==(_t=t[15]().toFixed(2)+"")&&y(et,_t),1&e[0]&&bt!==(bt=t[16]().toFixed(2)+"")&&y(ot,bt),1&e[0]&&vt!==(vt=(t[0].environmental_protection??0)+"")&&y(lt,vt)},d(t){t&&a(e),Mt&&Mt.d(),xt&&xt.d(),Ot&&Ot.d(),Ct&&Ct.d(),u(It,t),Et&&Et.d(),At&&At.d(),$t.d()}}}function ge(t){let e,n,r,o,i;return{c(){e=h("The "),n=d("strong"),r=h("right "),o=h(t[42]),i=h(".")},m(t,s){c(t,e,s),c(t,n,s),l(n,r),l(n,o),c(t,i,s)},d(t){t&&a(e),t&&a(n),t&&a(i)}}}function pe(t){let e,n,r,o,i;return{c(){e=h("The "),n=d("strong"),r=h("left "),o=h(t[42]),i=h(".")},m(t,s){c(t,e,s),c(t,n,s),l(n,r),l(n,o),c(t,i,s)},d(t){t&&a(e),t&&a(n),t&&a(i)}}}function ye(t){let e,n,r,o;return{c(){e=h("The "),n=d("strong"),r=h(t[43]),o=h(".")},m(t,i){c(t,e,i),c(t,n,i),l(n,r),c(t,o,i)},d(t){t&&a(e),t&&a(n),t&&a(o)}}}function _e(t){let e,n,r,o;return{c(){e=h("Either "),n=d("strong"),r=h(t[42]),o=h(".")},m(t,i){c(t,e,i),c(t,n,i),l(n,r),c(t,o,i)},d(t){t&&a(e),t&&a(n),t&&a(o)}}}function be(t){let e,n,r,o,i,s;function l(t,i){return(null==e||1&i[0])&&(e=!(!t[0].sided||!t[12](`${t[42]}_l`)&&!t[12](`${t[42]}_r`))),e?_e:(null==n&&(n=!(!t[12](`${t[42]}_l`)||!t[12](`${t[42]}_r`))),n?ye:(null==r&&(r=!!t[12](`${t[42]}_l`)),r?pe:(null==o&&(o=!!t[12](`${t[42]}_r`)),o?ge:void 0)))}let u=l(t,[-1]),d=u&&u(t);return{c(){d&&d.c(),i=f(),s=h(" ")},m(t,e){d&&d.m(t,e),c(t,i,e),c(t,s,e)},p(t,e){u!==(u=l(t,e))&&(d&&d.d(1),d=u&&u(t),d&&(d.c(),d.m(i.parentNode,i)))},d(t){d&&d.d(t),t&&a(i),t&&a(s)}}}function ve(t){let e,n,r,o,i=t[0].max_encumbrance+"";return{c(){e=h(" "),n=h("("),r=h(i),o=h(" when full)")},m(t,i){c(t,e,i),c(t,n,i),c(t,r,i),c(t,o,i)},p(t,e){1&e[0]&&i!==(i=t[0].max_encumbrance+"")&&y(r,i)},d(t){t&&a(e),t&&a(n),t&&a(r),t&&a(o)}}}function Me(t){let e;return{c(){e=h("Normal")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function xe(t){let e;return{c(){e=h("Outer aura")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Oe(t){let e;return{c(){e=h("Waist")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Ce(t){let e;return{c(){e=h("Outer")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function we(t){let e;return{c(){e=h("Strapped")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Ie(t){let e;return{c(){e=h("Close to skin")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Ee(t){let e;return{c(){e=h("Personal aura")},m(t,n){c(t,e,n)},d(t){t&&a(e)}}}function Ae(t){let e,n,r,o,i,s,m,g,_,b,v,M,x,O,C,w,I=(t[0].bashing??0)+"",E=(t[0].cutting??0)+"",A=(t[0].to_hit??0)+"",k=Pe(t[0])+"",T=t[2].length&&function(t){let e,n,r,o=t[2],i=[];for(let e=0;e<o.length;e+=1)i[e]=ke(ee(t,o,e));return{c(){e=d("dt"),e.textContent="Techniques",n=d("dd"),r=d("ul");for(let t=0;t<i.length;t+=1)i[t].c();p(r,"class","no-bullets")},m(t,o){c(t,e,o),c(t,n,o),l(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null)},p(t,e){if(4&e[0]){let n;for(o=t[2],n=0;n<o.length;n+=1){const s=ee(t,o,n);i[n]?i[n].p(s,e):(i[n]=ke(s),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}},d(t){t&&a(e),t&&a(n),u(i,t)}}}(t);return{c(){e=d("section"),n=d("h1"),n.textContent="Melee",r=f(),o=d("dl"),i=d("dt"),i.textContent="Bash",s=d("dd"),m=h(I),g=d("dt"),g.textContent="Cut",_=d("dd"),b=h(E),v=d("dt"),v.textContent="To hit",M=d("dd"),x=h(A),O=d("dt"),O.textContent="Moves per attack",C=d("dd"),w=h(k),T&&T.c()},m(t,a){c(t,e,a),l(e,n),l(e,r),l(e,o),l(o,i),l(o,s),l(s,m),l(o,g),l(o,_),l(_,b),l(o,v),l(o,M),l(M,x),l(o,O),l(o,C),l(C,w),T&&T.m(o,null)},p(t,e){1&e[0]&&I!==(I=(t[0].bashing??0)+"")&&y(m,I),1&e[0]&&E!==(E=(t[0].cutting??0)+"")&&y(b,E),1&e[0]&&A!==(A=(t[0].to_hit??0)+"")&&y(x,A),1&e[0]&&k!==(k=Pe(t[0])+"")&&y(w,k),t[2].length&&T.p(t,e)},d(t){t&&a(e),T&&T.d()}}}function ke(e){let n,r,o,i,s,u,f=e[39].name+"",m=e[39].description+"";return{c(){n=d("li"),r=d("strong"),o=d("a"),i=h(f),s=h(": "),u=h(m),p(o,"href","#/technique/"+e[39].id)},m(t,e){c(t,n,e),l(n,r),l(r,o),l(o,i),l(n,s),l(n,u)},p:t,d(t){t&&a(n)}}}function Te(e){let n,r,o=e[36]+"";return{c(){n=d("li"),r=h(o)},m(t,e){c(t,n,e),l(n,r)},p:t,d(t){t&&a(n)}}}function $e(e){let n,r,o,i=X(e[1].byId("item",e[0]))+"";return{c(){n=d("li"),r=d("a"),o=h(i),p(r,"href","#/item/"+e[0])},m(t,e){c(t,n,e),l(n,r),l(r,o)},p:t,d(t){t&&a(n)}}}function Le(e){let n,r,o,i,s,g,y,_,b,v,M,x,O=e[31].max_contains_volume+"",C=e[31].max_contains_weight+"",w=e[31].moves+"",I=e[31].max_item_length&&function(e){let n,r,o,i=e[31].max_item_length+"";return{c(){n=d("dt"),n.textContent="Max Item Length",r=d("dd"),o=h(i)},m(t,e){c(t,n,e),c(t,r,e),l(r,o)},p:t,d(t){t&&a(n),t&&a(r)}}}(e),E="0 ml"!==e[31].min_item_volume&&function(e){let n,r,o,i=e[31].min_item_volume+"";return{c(){n=d("dt"),n.textContent="Min Item Volume",r=d("dd"),o=h(i)},m(t,e){c(t,n,e),c(t,r,e),l(r,o)},p:t,d(t){t&&a(n),t&&a(r)}}}(e),A=e[31].flag_restriction&&function(t){let e,n,r,o,i=t[31].flag_restriction,s=[];for(let e=0;e<i.length;e+=1)s[e]=Te(te(t,i,e));return{c(){e=d("dt"),e.textContent="Flag Restriction",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();o=f(),p(r,"class","comma-separated")},m(t,i){c(t,e,i),c(t,n,i),l(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);l(n,o)},p(t,e){if(128&e[0]){let n;for(i=t[31].flag_restriction,n=0;n<i.length;n+=1){const o=te(t,i,n);s[n]?s[n].p(o,e):(s[n]=Te(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&a(e),t&&a(n),u(s,t)}}}(e),k=e[31].item_restriction&&function(t){let e,n,r,o,i=t[31].item_restriction,s=[];for(let e=0;e<i.length;e+=1)s[e]=$e(Xt(t,i,e));return{c(){e=d("dt"),e.textContent="Item Restriction",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();o=f(),p(r,"class","comma-separated")},m(t,i){c(t,e,i),c(t,n,i),l(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);l(n,o)},p(t,e){if(130&e[0]){let n;for(i=t[31].item_restriction,n=0;n<i.length;n+=1){const o=Xt(t,i,n);s[n]?s[n].p(o,e):(s[n]=$e(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&a(e),t&&a(n),u(s,t)}}}(e);return{c(){n=d("dl"),r=d("dt"),r.textContent="Volume Capacity",o=d("dd"),i=h(O),s=d("dt"),s.textContent="Weight Capacity",g=d("dd"),y=h(C),I&&I.c(),_=m(),E&&E.c(),b=d("dt"),b.textContent="Moves To Remove Item",v=d("dd"),M=h(w),A&&A.c(),x=m(),k&&k.c()},m(t,e){c(t,n,e),l(n,r),l(n,o),l(o,i),l(n,s),l(n,g),l(g,y),I&&I.m(n,null),l(n,_),E&&E.m(n,null),l(n,b),l(n,v),l(v,M),A&&A.m(n,null),l(n,x),k&&k.m(n,null)},p(t,e){t[31].max_item_length&&I.p(t,e),"0 ml"!==t[31].min_item_volume&&E.p(t,e),t[31].flag_restriction&&A.p(t,e),t[31].item_restriction&&k.p(t,e)},d(t){t&&a(n),I&&I.d(),E&&E.d(),A&&A.d(),k&&k.d()}}}function Se(e){let n,r,o,i,s,u=X(e[28])+"",f=e[28].description+"";return{c(){n=d("dt"),r=d("a"),o=h(u),i=d("dd"),s=h(f),p(r,"href","#/fault/"+e[28].id)},m(t,e){c(t,n,e),l(n,r),l(r,o),c(t,i,e),l(i,s)},p:t,d(t){t&&a(n),t&&a(i)}}}function Re(t){let e,n,r,o,i=[],s=new Map,l=t[9];const u=t=>t[25];for(let e=0;e<l.length;e+=1){let n=Jt(t,l,e),r=u(n);s.set(r,i[e]=Ne(r,n))}return{c(){e=d("h2"),e.textContent="Recipes",n=f();for(let t=0;t<i.length;t+=1)i[t].c();r=m()},m(t,s){c(t,e,s),c(t,n,s);for(let e=0;e<i.length;e+=1)i[e].m(t,s);c(t,r,s),o=!0},p(t,e){512&e[0]&&(l=t[9],D(),i=function(t,e,n,r,o,i,s,l,c,a,u,d){let h=t.length,f=i.length,m=h;const g={};for(;m--;)g[t[m].key]=m;const p=[],y=new Map,_=new Map;for(m=f;m--;){const t=d(o,i,m),l=n(t);let c=s.get(l);c?r&&c.p(t,e):(c=a(l,t),c.c()),y.set(l,p[m]=c),l in g&&_.set(l,Math.abs(m-g[l]))}const b=new Set,v=new Set;function M(t){P(t,1),t.m(l,u),s.set(t.key,t),u=t.first,f--}for(;h&&f;){const e=p[f-1],n=t[h-1],r=e.key,o=n.key;e===n?(u=e.first,h--,f--):y.has(o)?!s.has(r)||b.has(r)?M(e):v.has(o)?h--:_.get(r)>_.get(o)?(v.add(r),M(e)):(b.add(o),h--):(c(n,s),h--)}for(;h--;){const e=t[h];y.has(e.key)||c(e,s)}for(;f;)M(p[f-1]);return p}(i,e,u,1,t,l,s,r.parentNode,G,Ne,r,Jt),F())},i(t){if(!o){for(let t=0;t<l.length;t+=1)P(i[t]);o=!0}},o(t){for(let t=0;t<i.length;t+=1)j(i[t]);o=!1},d(t){t&&a(e),t&&a(n);for(let e=0;e<i.length;e+=1)i[e].d(t);t&&a(r)}}}function Ne(t,e){let n,r,o;return r=new zt({props:{recipe:e[25]}}),{key:t,first:null,c(){n=m(),W(r.$$.fragment),this.first=n},m(t,e){c(t,n,e),U(r,t,e),o=!0},p(t,n){e=t},i(t){o||(P(r.$$.fragment,t),o=!0)},o(t){j(r.$$.fragment,t),o=!1},d(t){t&&a(n),V(r,t)}}}function Be(t){let e,n,r,o,i,s,g,_,v,M,x,O,C,w,I,E,A,k,T,$,L,S,R,N,B,D,F,H,G,W,U,V,q,Y,K,z=t[0].symbol+"",J=X(t[0])+"",Z=t[0].volume+"",Q=t[0].weight+"",tt=Fe(t[0])+"",et=t[0].description+"",nt=t[7].filter(je).length,rt=t[4].length&&function(t){let e,n,r,o,i=t[4],s=[];for(let e=0;e<i.length;e+=1)s[e]=ce(le(t,i,e));return{c(){e=d("dt"),e.textContent="Material",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();o=f(),p(r,"class","comma-separated")},m(t,i){c(t,e,i),c(t,n,i),l(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);l(n,o)},p(t,e){if(16&e[0]){let n;for(i=t[4],n=0;n<i.length;n+=1){const o=le(t,i,n);s[n]?s[n].p(o,e):(s[n]=ce(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&a(e),t&&a(n),u(s,t)}}}(t),ot=t[11].length&&function(t){let e,n,r,o,i=t[11].map(t[14]),s=[];for(let e=0;e<i.length;e+=1)s[e]=ae(se(t,i,e));return{c(){e=d("dt"),e.textContent="Ammo",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();o=f(),p(r,"class","no-bullets")},m(t,i){c(t,e,i),c(t,n,i),l(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);l(n,o)},p(t,e){if(3075&e[0]){let n;for(i=t[11].map(t[14]),n=0;n<i.length;n+=1){const o=se(t,i,n);s[n]?s[n].p(o,e):(s[n]=ae(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&a(e),t&&a(n),u(s,t)}}}(t),it=t[8].length&&function(t){let e,n,r,o,i=t[8],s=[];for(let e=0;e<i.length;e+=1)s[e]=ue(ie(t,i,e));return{c(){e=d("dt"),e.textContent="Compatible magazines",n=d("dd"),r=d("ul");for(let t=0;t<s.length;t+=1)s[t].c();o=f(),p(r,"class","comma-separated")},m(t,i){c(t,e,i),c(t,n,i),l(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);l(n,o)},p(t,e){if(258&e[0]){let n;for(i=t[8],n=0;n<i.length;n+=1){const o=ie(t,i,n);s[n]?s[n].p(o,e):(s[n]=ue(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&a(e),t&&a(n),u(s,t)}}}(t),st=t[5],lt=[];for(let e=0;e<st.length;e+=1)lt[e]=he(oe(t,st,e));let ct=null;st.length||(ct=de());let at=t[3].length&&function(t){let e,n,r,o=t[3],i=[];for(let e=0;e<o.length;e+=1)i[e]=fe(re(t,o,e));return{c(){e=d("dt"),e.textContent="Qualities",n=d("dd"),r=d("ul");for(let t=0;t<i.length;t+=1)i[t].c();p(r,"class","no-bullets")},m(t,o){c(t,e,o),c(t,n,o),l(n,r);for(let t=0;t<i.length;t+=1)i[t].m(r,null)},p(t,e){if(8&e[0]){let n;for(o=t[3],n=0;n<o.length;n+=1){const s=re(t,o,n);i[n]?i[n].p(s,e):(i[n]=fe(s),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}},d(t){t&&a(e),t&&a(n),u(i,t)}}}(t),ut=("ARMOR"===t[0].type||"TOOL_ARMOR"===t[0].type)&&me(t),dt=(t[0].bashing||t[0].cutting)&&Ae(t),ht=nt&&function(t){let e,n,r,o=t[7].filter(Ue),i=[];for(let e=0;e<o.length;e+=1)i[e]=Le(Qt(t,o,e));return{c(){e=d("section"),n=d("h1"),n.textContent="Pockets",r=f();for(let t=0;t<i.length;t+=1)i[t].c()},m(t,o){c(t,e,o),l(e,n),l(e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,n){if(130&n[0]){let r;for(o=t[7].filter(Ue),r=0;r<o.length;r+=1){const s=Qt(t,o,r);i[r]?i[r].p(s,n):(i[r]=Le(s),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}},d(t){t&&a(e),u(i,t)}}}(t),ft=t[6].length&&function(t){let e,n,r,o,i=t[6],s=[];for(let e=0;e<i.length;e+=1)s[e]=Se(Zt(t,i,e));return{c(){e=d("section"),n=d("h1"),n.textContent="Possible faults",r=f(),o=d("dl");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,i){c(t,e,i),l(e,n),l(e,r),l(e,o);for(let t=0;t<s.length;t+=1)s[t].m(o,null)},p(t,e){if(64&e[0]){let n;for(i=t[6],n=0;n<i.length;n+=1){const r=Zt(t,i,n);s[n]?s[n].p(r,e):(s[n]=Se(r),s[n].c(),s[n].m(o,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&a(e),u(s,t)}}}(t),mt=t[9].length&&Re(t);return{c(){e=d("h1"),n=d("span"),r=h(z),i=f(),s=h(J),g=f(),_=d("section"),v=d("h1"),v.textContent="General",M=f(),x=d("dl"),rt&&rt.c(),O=d("dt"),O.textContent="Volume",C=d("dd"),w=h(Z),I=d("dt"),I.textContent="Weight",E=d("dd"),A=h(Q),k=d("dt"),k.textContent="Length",T=d("dd"),$=h(tt),ot&&ot.c(),L=m(),it&&it.c(),S=d("dt"),S.textContent="Flags",R=d("dd"),N=d("ul");for(let t=0;t<lt.length;t+=1)lt[t].c();ct&&ct.c(),B=f(),at&&at.c(),D=f(),F=d("p"),H=h(et),G=f(),ut&&ut.c(),W=f(),dt&&dt.c(),U=f(),ht&&ht.c(),V=f(),ft&&ft.c(),q=f(),mt&&mt.c(),Y=m(),b(n,"font-family","monospace"),p(n,"class",o="c_"+t[0].color),p(N,"class","comma-separated"),b(F,"color","var(--cata-color-gray)")},m(t,o){c(t,e,o),l(e,n),l(n,r),l(e,i),l(e,s),c(t,g,o),c(t,_,o),l(_,v),l(_,M),l(_,x),rt&&rt.m(x,null),l(x,O),l(x,C),l(C,w),l(x,I),l(x,E),l(E,A),l(x,k),l(x,T),l(T,$),ot&&ot.m(x,null),l(x,L),it&&it.m(x,null),l(x,S),l(x,R),l(R,N);for(let t=0;t<lt.length;t+=1)lt[t].m(N,null);ct&&ct.m(N,null),l(R,B),at&&at.m(x,null),l(_,D),l(_,F),l(F,H),c(t,G,o),ut&&ut.m(t,o),c(t,W,o),dt&&dt.m(t,o),c(t,U,o),ht&&ht.m(t,o),c(t,V,o),ft&&ft.m(t,o),c(t,q,o),mt&&mt.m(t,o),c(t,Y,o),K=!0},p(t,e){if((!K||1&e[0])&&z!==(z=t[0].symbol+"")&&y(r,z),(!K||1&e[0]&&o!==(o="c_"+t[0].color))&&p(n,"class",o),(!K||1&e[0])&&J!==(J=X(t[0])+"")&&y(s,J),t[4].length&&rt.p(t,e),(!K||1&e[0])&&Z!==(Z=t[0].volume+"")&&y(w,Z),(!K||1&e[0])&&Q!==(Q=t[0].weight+"")&&y(A,Q),(!K||1&e[0])&&tt!==(tt=Fe(t[0])+"")&&y($,tt),t[11].length&&ot.p(t,e),t[8].length&&it.p(t,e),32&e[0]){let n;for(st=t[5],n=0;n<st.length;n+=1){const r=oe(t,st,n);lt[n]?lt[n].p(r,e):(lt[n]=he(r),lt[n].c(),lt[n].m(N,null))}for(;n<lt.length;n+=1)lt[n].d(1);lt.length=st.length,st.length?ct&&(ct.d(1),ct=null):ct||(ct=de(),ct.c(),ct.m(N,null))}t[3].length&&at.p(t,e),(!K||1&e[0])&&et!==(et=t[0].description+"")&&y(H,et),"ARMOR"===t[0].type||"TOOL_ARMOR"===t[0].type?ut?ut.p(t,e):(ut=me(t),ut.c(),ut.m(W.parentNode,W)):ut&&(ut.d(1),ut=null),t[0].bashing||t[0].cutting?dt?dt.p(t,e):(dt=Ae(t),dt.c(),dt.m(U.parentNode,U)):dt&&(dt.d(1),dt=null),nt&&ht.p(t,e),t[6].length&&ft.p(t,e),t[9].length&&mt.p(t,e)},i(t){K||(P(mt),K=!0)},o(t){j(mt),K=!1},d(t){t&&a(e),t&&a(g),t&&a(_),rt&&rt.d(),ot&&ot.d(),it&&it.d(),u(lt,t),ct&&ct.d(),at&&at.d(),t&&a(G),ut&&ut.d(t),t&&a(W),dt&&dt.d(t),t&&a(U),ht&&ht.d(t),t&&a(V),ft&&ft.d(t),t&&a(q),mt&&mt.d(t),t&&a(Y)}}}function De(t){return void 0===t?0:"number"==typeof t?250*t:t.endsWith("ml")?parseInt(t):t.endsWith("L")?1e3*parseInt(t):void 0}function Fe(t){return t.longest_side?t.longest_side:`${Math.round(Math.cbrt(De(t.volume)))} cm`}function Pe(t){return Math.floor(De(t.volume)/62.5+(void 0===(e=t.weight)?0:"number"==typeof e?e:e.endsWith("g")?parseInt(e):e.endsWith("mg")?parseInt(e)/1e3:e.endsWith("kg")?1e3*parseInt(e):void 0)/60+65);var e}const je=t=>"CONTAINER"===t.pocket_type,He=(t,e)=>t+e.bash_resist??0,Ge=(t,e)=>t+e.cut_resist??0,We=(t,e)=>t+e.bullet_resist??0,Ue=t=>"CONTAINER"===t.pocket_type;function Ve(t,e,n){var r,o,i,s,l,c,a;let{item:u}=e,d=O("data"),h=(null!==(r=u.techniques)&&void 0!==r?r:[]).map((t=>d.byId("technique",t))),f=(null!==(o=u.qualities)&&void 0!==o?o:[]).map((([t,e])=>({quality:d.byId("tool_quality",t),level:e}))),m=("string"==typeof u.material?[u.material]:null!==(i=u.material)&&void 0!==i?i:[]).map((t=>d.byId("material",t))),g=(null!==(s=u.flags)&&void 0!==s?s:[]).map((t=>{var e;return null!==(e=d.byId("json_flag",t))&&void 0!==e?e:{id:t}})),p=(null!==(l=u.faults)&&void 0!==l?l:[]).map((t=>d.byId("fault",t)));const y={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let _=(null!==(c=u.pocket_data)&&void 0!==c?c:[]).map((t=>Object.assign(Object.assign({},y),t))),b=_.filter((t=>"MAGAZINE_WELL"===t.pocket_type)).flatMap((t=>t.item_restriction)),v=d.byType("recipe").filter((t=>t.result===u.id&&!t.obsolete)).map((t=>d._flatten(t)));function M(t){var e;let n=0;for(const r of _)"MAGAZINE"===r.pocket_type&&r.ammo_restriction&&(n+=null!==(e=r.ammo_restriction[t])&&void 0!==e?e:0);return n}let x=_.flatMap((t=>{var e;return Object.keys(null!==(e=t.ammo_restriction)&&void 0!==e?e:{})}));let C=(null!==(a=u.covers)&&void 0!==a?a:[]).length;return t.$$set=t=>{"item"in t&&n(0,u=t.item)},[u,d,h,f,m,g,p,_,b,v,M,x,function(t){var e;return(null!==(e=u.covers)&&void 0!==e?e:[]).includes(t)},C,t=>({id:t,max_charges:M(t)}),()=>{let t=m.reduce(((t,e)=>t+e.acid_resist??0),0)/m.length;const e=u.environmental_protection??0;return e<10&&(t*=e/10),t},()=>{let t=m.reduce(((t,e)=>t+e.fire_resist??0),0)/m.length;const e=u.environmental_protection??0;return e<10&&(t*=e/10),t}]}class qe extends K{constructor(t){super(),Y(this,t,Ve,Be,i,{item:0},[-1,-1,-1])}}function Ye(e){let n,r,o=JSON.stringify(e[0],null,2)+"";return{c(){n=d("pre"),r=h(o)},m(t,e){c(t,n,e),l(n,r)},p(t,[e]){1&e&&o!==(o=JSON.stringify(t[0],null,2)+"")&&y(r,o)},i:t,o:t,d(t){t&&a(n)}}}function Ke(t,e,n){let{item:r}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item)},[r]}class ze extends K{constructor(t){super(),Y(this,t,Ke,Ye,i,{item:0})}}function Je(t){let e,n,r,o,i,s,u,m,g=JSON.stringify(t[1],null,2)+"";var p=t[2][t[1].type]??ze;function _(t){return{props:{item:t[1]}}}return p&&(e=new p(_(t))),{c(){e&&W(e.$$.fragment),n=f(),r=d("details"),o=d("summary"),o.textContent="Raw JSON",i=f(),s=d("pre"),u=h(g)},m(t,a){e&&U(e,t,a),c(t,n,a),c(t,r,a),l(r,o),l(r,i),l(r,s),l(s,u),m=!0},p(t,r){const o={};if(2&r&&(o.item=t[1]),p!==(p=t[2][t[1].type]??ze)){if(e){D();const t=e;j(t.$$.fragment,1,0,(()=>{V(t,1)})),F()}p?(e=new p(_(t)),W(e.$$.fragment),P(e.$$.fragment,1),U(e,n.parentNode,n)):e=null}else p&&e.$set(o);(!m||2&r)&&g!==(g=JSON.stringify(t[1],null,2)+"")&&y(u,g)},i(t){m||(e&&P(e.$$.fragment,t),m=!0)},o(t){e&&j(e.$$.fragment,t),m=!1},d(t){e&&V(e,t),t&&a(n),t&&a(r)}}}function Ze(e){let n,r,o,i,s=e[0].type+"",l=e[0].id+"";return{c(){n=h("Unknown obj: "),r=h(s),o=h("/"),i=h(l)},m(t,e){c(t,n,e),c(t,r,e),c(t,o,e),c(t,i,e)},p(t,e){1&e&&s!==(s=t[0].type+"")&&y(r,s),1&e&&l!==(l=t[0].id+"")&&y(i,l)},i:t,o:t,d(t){t&&a(n),t&&a(r),t&&a(o),t&&a(i)}}}function Qe(t){let e,n,r,o;const i=[Ze,Je],s=[];function l(t,e){return t[1]?1:0}return e=l(t),n=s[e]=i[e](t),{c(){n.c(),r=m()},m(t,n){s[e].m(t,n),c(t,r,n),o=!0},p(t,[o]){let c=e;e=l(t),e===c?s[e].p(t,o):(D(),j(s[c],1,1,(()=>{s[c]=null})),F(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){j(n),o=!1},d(t){s[e].d(t),t&&a(r)}}}function Xe(t,e,n){let{item:r}=e,{data:o}=e;var i,s;let l;i="data",s=o,x().$$.context.set(i,s);const c={MONSTER:vt,AMMO:qe,GUN:qe,ARMOR:qe,PET_ARMOR:qe,TOOL:qe,TOOLMOD:qe,TOOL_ARMOR:qe,BOOK:qe,COMESTIBLE:qe,ENGINE:qe,WHEEL:qe,GUNMOD:qe,MAGAZINE:qe,BATTERY:qe,GENERIC:qe,BIONIC_ITEM:qe};return t.$$set=t=>{"item"in t&&n(0,r=t.item),"data"in t&&n(3,o=t.data)},t.$$.update=()=>{9&t.$$.dirty&&n(1,l=o.byId(r.type,r.id))},[r,l,c,o]}class tn extends K{constructor(t){super(),Y(this,t,Xe,Qe,i,{item:0,data:3})}}function en(t){return Array.isArray?Array.isArray(t):"[object Array]"===an(t)}function nn(t){return"string"==typeof t}function rn(t){return"number"==typeof t}function on(t){return!0===t||!1===t||function(t){return sn(t)&&null!==t}(t)&&"[object Boolean]"==an(t)}function sn(t){return"object"==typeof t}function ln(t){return null!=t}function cn(t){return!t.trim().length}function an(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const un=Object.prototype.hasOwnProperty;class dn{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=hn(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function hn(t){let e=null,n=null,r=null,o=1;if(nn(t)||en(t))r=t,e=fn(t),n=mn(t);else{if(!un.call(t,"name"))throw new Error((t=>`Missing ${t} property in key`)("name"));const i=t.name;if(r=i,un.call(t,"weight")&&(o=t.weight,o<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(i));e=fn(i),n=mn(i)}return{path:e,id:n,weight:o,src:r}}function fn(t){return en(t)?t:t.split(".")}function mn(t){return en(t)?t.join("."):t}var gn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const o=(t,e,i)=>{if(ln(t))if(e[i]){const s=t[e[i]];if(!ln(s))return;if(i===e.length-1&&(nn(s)||rn(s)||on(s)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(s));else if(en(s)){r=!0;for(let t=0,n=s.length;t<n;t+=1)o(s[t],e,i+1)}else e.length&&o(s,e,i+1)}else n.push(t)};return o(t,nn(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}};const pn=/[^ ]+/g;class yn{constructor({getFn:t=gn.getFn}={}){this.norm=function(t=3){const e=new Map,n=Math.pow(10,t);return{get(t){const r=t.match(pn).length;if(e.has(r))return e.get(r);const o=1/Math.sqrt(r),i=parseFloat(Math.round(o*n)/n);return e.set(r,i),i},clear(){e.clear()}}}(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,nn(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();nn(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!ln(t)||cn(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let o=this.getFn(t,e.path);if(ln(o))if(en(o)){let t=[];const e=[{nestedArrIndex:-1,value:o}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(ln(r))if(nn(r)&&!cn(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else en(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(!cn(o)){let t={v:o,n:this.norm.get(o)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function _n(t,e,{getFn:n=gn.getFn}={}){const r=new yn({getFn:n});return r.setKeys(t.map(hn)),r.setSources(e),r.create(),r}function bn(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=gn.distance,ignoreLocation:i=gn.ignoreLocation}={}){const s=e/t.length;if(i)return s;const l=Math.abs(r-n);return o?s+l/o:l?1:s}const vn=32;function Mn(t,e,n,{location:r=gn.location,distance:o=gn.distance,threshold:i=gn.threshold,findAllMatches:s=gn.findAllMatches,minMatchCharLength:l=gn.minMatchCharLength,includeMatches:c=gn.includeMatches,ignoreLocation:a=gn.ignoreLocation}={}){if(e.length>vn)throw new Error(`Pattern length exceeds max of ${vn}.`);const u=e.length,d=t.length,h=Math.max(0,Math.min(r,d));let f=i,m=h;const g=l>1||c,p=g?Array(d):[];let y;for(;(y=t.indexOf(e,m))>-1;){let t=bn(e,{currentLocation:y,expectedLocation:h,distance:o,ignoreLocation:a});if(f=Math.min(t,f),m=y+u,g){let t=0;for(;t<u;)p[y+t]=1,t+=1}}m=-1;let _=[],b=1,v=u+d;const M=1<<u-1;for(let r=0;r<u;r+=1){let i=0,l=v;for(;i<l;){bn(e,{errors:r,currentLocation:h+l,expectedLocation:h,distance:o,ignoreLocation:a})<=f?i=l:v=l,l=Math.floor((v-i)/2+i)}v=l;let c=Math.max(1,h-l+1),y=s?d:Math.min(h+l,d)+u,x=Array(y+2);x[y+1]=(1<<r)-1;for(let i=y;i>=c;i-=1){let s=i-1,l=n[t.charAt(s)];if(g&&(p[s]=+!!l),x[i]=(x[i+1]<<1|1)&l,r&&(x[i]|=(_[i+1]|_[i])<<1|1|_[i+1]),x[i]&M&&(b=bn(e,{errors:r,currentLocation:s,expectedLocation:h,distance:o,ignoreLocation:a}),b<=f)){if(f=b,m=s,m<=h)break;c=Math.max(1,2*h-m)}}if(bn(e,{errors:r+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:a})>f)break;_=x}const x={isMatch:m>=0,score:Math.max(.001,b)};if(g){const t=function(t=[],e=gn.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let s=t.length;i<s;i+=1){let s=t[i];s&&-1===r?r=i:s||-1===r||(o=i-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}(p,l);t.length?c&&(x.indices=t):x.isMatch=!1}return x}function xn(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}class On{constructor(t,{location:e=gn.location,threshold:n=gn.threshold,distance:r=gn.distance,includeMatches:o=gn.includeMatches,findAllMatches:i=gn.findAllMatches,minMatchCharLength:s=gn.minMatchCharLength,isCaseSensitive:l=gn.isCaseSensitive,ignoreLocation:c=gn.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const a=(t,e)=>{this.chunks.push({pattern:t,alphabet:xn(t),startIndex:e})},u=this.pattern.length;if(u>vn){let t=0;const e=u%vn,n=u-e;for(;t<n;)a(this.pattern.substr(t,vn),t),t+=vn;if(e){const t=u-vn;a(this.pattern.substr(t),t)}}else a(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:l,ignoreLocation:c}=this.options;let a=[],u=0,d=!1;this.chunks.forEach((({pattern:e,alphabet:h,startIndex:f})=>{const{isMatch:m,score:g,indices:p}=Mn(t,e,h,{location:r+f,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:l,includeMatches:n,ignoreLocation:c});m&&(d=!0),u+=g,m&&p&&(a=[...a,...p])}));let h={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(h.indices=a),h}}class Cn{constructor(t){this.pattern=t}static isMultiMatch(t){return wn(t,this.multiRegex)}static isSingleMatch(t){return wn(t,this.singleRegex)}search(){}}function wn(t,e){const n=t.match(e);return n?n[1]:null}class In extends Cn{constructor(t,{location:e=gn.location,threshold:n=gn.threshold,distance:r=gn.distance,includeMatches:o=gn.includeMatches,findAllMatches:i=gn.findAllMatches,minMatchCharLength:s=gn.minMatchCharLength,isCaseSensitive:l=gn.isCaseSensitive,ignoreLocation:c=gn.ignoreLocation}={}){super(t),this._bitapSearch=new On(t,{location:e,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class En extends Cn{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],o=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+o,r.push([e,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const An=[class extends Cn{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},En,class extends Cn{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends Cn{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Cn{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Cn{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends Cn{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},In],kn=An.length,Tn=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const $n=new Set([In.type,En.type]);class Ln{constructor(t,{isCaseSensitive:e=gn.isCaseSensitive,includeMatches:n=gn.includeMatches,minMatchCharLength:r=gn.minMatchCharLength,ignoreLocation:o=gn.ignoreLocation,findAllMatches:i=gn.findAllMatches,location:s=gn.location,threshold:l=gn.threshold,distance:c=gn.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:s,threshold:l,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(Tn).filter((t=>t&&!!t.trim())),r=[];for(let t=0,o=n.length;t<o;t+=1){const o=n[t];let i=!1,s=-1;for(;!i&&++s<kn;){const t=An[s];let n=t.isMultiMatch(o);n&&(r.push(new t(n,e)),i=!0)}if(!i)for(s=-1;++s<kn;){const t=An[s];let n=t.isSingleMatch(o);if(n){r.push(new t(n,e));break}}}return r}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let o=0,i=[],s=0;for(let r=0,l=e.length;r<l;r+=1){const l=e[r];i.length=0,o=0;for(let e=0,r=l.length;e<r;e+=1){const r=l[e],{isMatch:c,indices:a,score:u}=r.search(t);if(!c){s=0,o=0,i.length=0;break}if(o+=1,s+=u,n){const t=r.constructor.type;$n.has(t)?i=[...i,...a]:i.push(a)}}if(o){let t={isMatch:!0,score:s/o};return n&&(t.indices=i),t}}return{isMatch:!1,score:1}}}const Sn=[];function Rn(t,e){for(let n=0,r=Sn.length;n<r;n+=1){let r=Sn[n];if(r.condition(t,e))return new r(t,e)}return new On(t,e)}const Nn="$and",Bn="$or",Dn="$path",Fn="$val",Pn=t=>!(!t[Nn]&&!t[Bn]),jn=t=>({[Nn]:Object.keys(t).map((e=>({[e]:t[e]})))});function Hn(t,e,{auto:n=!0}={}){const r=t=>{let o=Object.keys(t);const i=(t=>!!t[Dn])(t);if(!i&&o.length>1&&!Pn(t))return r(jn(t));if((t=>!en(t)&&sn(t)&&!Pn(t))(t)){const r=i?t[Dn]:o[0],s=i?t[Fn]:t[r];if(!nn(s))throw new Error((t=>`Invalid value for key ${t}`)(r));const l={keyId:mn(r),pattern:s};return n&&(l.searcher=Rn(s,e)),l}let s={children:[],operator:o[0]};return o.forEach((e=>{const n=t[e];en(n)&&n.forEach((t=>{s.children.push(r(t))}))})),s};return Pn(t)||(t=jn(t)),r(t)}function Gn(t,e){const n=t.matches;e.matches=[],ln(n)&&n.forEach((t=>{if(!ln(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let o={indices:n,value:r};t.key&&(o.key=t.key.src),t.idx>-1&&(o.refIndex=t.idx),e.matches.push(o)}))}function Wn(t,e){e.score=t.score}class Un{constructor(t,e={},n){this.options={...gn,...e},this.options.useExtendedSearch,this._keyStore=new dn(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof yn))throw new Error("Incorrect 'index' type");this._myIndex=e||_n(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){ln(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];t(o,n)&&(this.removeAt(n),n-=1,r-=1,e.push(o))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:s}=this.options;let l=nn(t)?nn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=gn.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:r,score:o})=>{const i=t?t.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(e?1:r))})),t.score=n}))}(l,{ignoreFieldNorm:s}),o&&l.sort(i),rn(e)&&e>-1&&(l=l.slice(0,e)),function(t,e,{includeMatches:n=gn.includeMatches,includeScore:r=gn.includeScore}={}){const o=[];return n&&o.push(Gn),r&&o.push(Wn),t.map((t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return o.length&&o.forEach((e=>{e(t,r)})),r}))}(l,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=Rn(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:t,i:n,n:o})=>{if(!ln(t))return;const{isMatch:i,score:s,indices:l}=e.searchIn(t);i&&r.push({item:t,idx:n,matches:[{score:s,value:t,norm:o,indices:l}]})})),r}_searchLogical(t){const e=Hn(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:o}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:o});return i&&i.length?[{idx:r,item:e,matches:i}]:[]}switch(t.operator){case Nn:{const o=[];for(let i=0,s=t.children.length;i<s;i+=1){const s=t.children[i],l=n(s,e,r);if(!l.length)return[];o.push(...l)}return o}case Bn:{const o=[];for(let i=0,s=t.children.length;i<s;i+=1){const s=t.children[i],l=n(s,e,r);if(l.length){o.push(...l);break}}return o}}},r=this._myIndex.records,o={},i=[];return r.forEach((({$:t,i:r})=>{if(ln(t)){let s=n(e,t,r);s.length&&(o[r]||(o[r]={idx:r,item:t,matches:[]},i.push(o[r])),s.forEach((({matches:t})=>{o[r].matches.push(...t)})))}})),i}_searchObjectList(t){const e=Rn(t,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:t,i:r})=>{if(!ln(t))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:t[r],searcher:e}))})),i.length&&o.push({idx:r,item:t,matches:i})})),o}_findMatches({key:t,value:e,searcher:n}){if(!ln(e))return[];let r=[];if(en(e))e.forEach((({v:e,i:o,n:i})=>{if(!ln(e))return;const{isMatch:s,score:l,indices:c}=n.searchIn(e);s&&r.push({score:l,key:t,value:e,idx:o,norm:i,indices:c})}));else{const{v:o,n:i}=e,{isMatch:s,score:l,indices:c}=n.searchIn(o);s&&r.push({score:l,key:t,value:o,norm:i,indices:c})}return r}}function Vn(t,e,n){const r=t.slice();return r[7]=e[n],r}function qn(t,e,n){const r=t.slice();return r[10]=e[n],r}function Yn(e){let n;return{c(){n=d("pre"),n.textContent="..."},m(t,e){c(t,n,e)},p:t,d(t){t&&a(n)}}}function Kn(t){let e,n=[...t[0].keys()],r=[];for(let e=0;e<n.length;e+=1)r[e]=Jn(Vn(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);c(t,e,n)},p(t,o){if(1&o){let i;for(n=[...t[0].keys()],i=0;i<n.length;i+=1){const s=Vn(t,n,i);r[i]?r[i].p(s,o):(r[i]=Jn(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){u(r,t),t&&a(e)}}}function zn(t){let e,n,r,o,i=X(t[10])+"";return{c(){e=d("li"),n=d("a"),r=h(i),p(n,"href",o="#/"+Q(t[10].type)+"/"+t[10].id)},m(t,o){c(t,e,o),l(e,n),l(n,r)},p(t,e){1&e&&i!==(i=X(t[10])+"")&&y(r,i),1&e&&o!==(o="#/"+Q(t[10].type)+"/"+t[10].id)&&p(n,"href",o)},d(t){t&&a(e)}}}function Jn(t){let e,n,r,o,i,s=t[7]+"",m=t[0].get(t[7]),g=[];for(let e=0;e<m.length;e+=1)g[e]=zn(qn(t,m,e));return{c(){e=d("h1"),n=h(s),r=f(),o=d("ul");for(let t=0;t<g.length;t+=1)g[t].c();i=f()},m(t,s){c(t,e,s),l(e,n),c(t,r,s),c(t,o,s);for(let t=0;t<g.length;t+=1)g[t].m(o,null);l(o,i)},p(t,e){if(1&e&&s!==(s=t[7]+"")&&y(n,s),1&e){let n;for(m=t[0].get(t[7]),n=0;n<m.length;n+=1){const r=qn(t,m,n);g[n]?g[n].p(r,e):(g[n]=zn(r),g[n].c(),g[n].m(o,i))}for(;n<g.length;n+=1)g[n].d(1);g.length=m.length}},d(t){t&&a(e),t&&a(r),t&&a(o),u(g,t)}}}function Zn(e){let n;function r(t,e){return t[0]?Kn:Yn}let o=r(e),i=o(e);return{c(){i.c(),n=m()},m(t,e){i.m(t,e),c(t,n,e)},p(t,[e]){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&a(n)}}}function Qn(t,e,n){let r,o;var i;let l;s(t,nt,(t=>n(3,o=t)));let{search:c}=e;const a=new Set(["item","monster"]);return t.$$set=t=>{"search"in t&&n(1,c=t.search)},t.$$.update=()=>{12&t.$$.dirty&&(l=new Un([...null!==n(2,i=null==o?void 0:o.all())&&void 0!==i?i:[]].filter((t=>"string"==typeof t.id)),{keys:["id","name"],getFn:(t,e)=>{var n,r;return"id"===e[0]?null!==(r=null!==(n=t.id)&&void 0!==n?n:t.abstract)&&void 0!==r?r:"":"name"===e[0]?X(t):void 0},ignoreFieldNorm:!0,minMatchCharLength:2,threshold:.2})),10&t.$$.dirty&&n(0,r=c&&c.length>1&&o&&function(t){const e=l.search(t,{limit:100}),n=new Map;for(const{item:t}of e){const e=Q(t.type);a.has(e)&&(n.has(e)||n.set(e,[]),n.get(e).push(t))}return n}(c)),2&t.$$.dirty&&history.replaceState({search:c},"")},[r,c,i,o]}Un.version="6.4.6",Un.createIndex=_n,Un.parseIndex=function(t,{getFn:e=gn.getFn}={}){const{keys:n,records:r}=t,o=new yn({getFn:e});return o.setKeys(n),o.setIndexRecords(r),o},Un.config=gn,Un.parseQuery=Hn,function(...t){Sn.push(...t)}(Ln);class Xn extends K{constructor(t){super(),Y(this,t,Qn,Zn,i,{search:1})}}const{window:tr}=H;function er(e){let n,r,o,i,s,u,m,g,y,_,v,M=e[2]&&or(e);return{c(){n=d("img"),o=f(),i=d("p"),i.innerHTML='<strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the\nzombie survival roguelike game <a href="https://cataclysmdda.org/">Cataclysm:\nDark Days Ahead</a>. You can search for things in the game, like items and\nmonsters, and find useful information about them. The data in the Guide comes\ndirectly from the JSON files in the game itself.',s=f(),u=d("p"),m=h("The Guide stores all its data locally and is offline-capable, so you can\ntake it with you whereever you go.\n"),M&&M.c(),g=f(),y=d("p"),y.textContent="More popular than the Celestial Home Care\nOmnibus, better selling than Fifty-three More Things to do in Zero Gravity, and\nmore controversial than Oolon Colluphid's trilogy of philosophical blockbusters\nWhere God Went Wrong, Some More of God's Greatest Mistakes and Who is this God\nPerson Anyway?",_=f(),v=d("p"),v.innerHTML='The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a> by <a href="https://www.nornagon.net">nornagon</a>.',n.src!==(r="dont_panic.png")&&p(n,"src","dont_panic.png"),p(n,"height","200"),b(n,"float","right"),p(n,"alt","The words 'Don't Panic' in big friendly letters"),b(y,"font-style","italic"),b(y,"color","var(--cata-color-gray)")},m(t,e){c(t,n,e),c(t,o,e),c(t,i,e),c(t,s,e),c(t,u,e),l(u,m),M&&M.m(u,null),c(t,g,e),c(t,y,e),c(t,_,e),c(t,v,e)},p(t,e){t[2]?M?M.p(t,e):(M=or(t),M.c(),M.m(u,null)):M&&(M.d(1),M=null)},i:t,o:t,d(t){t&&a(n),t&&a(o),t&&a(i),t&&a(s),t&&a(u),M&&M.d(),t&&a(g),t&&a(y),t&&a(_),t&&a(v)}}}function nr(t){let e,n;return e=new Xn({props:{search:t[1]}}),{c(){W(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.search=t[1]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function rr(t){let e,n,r,o;const i=[sr,ir],s=[];function l(t,e){return t[3]?0:1}return e=l(t),n=s[e]=i[e](t),{c(){n.c(),r=m()},m(t,n){s[e].m(t,n),c(t,r,n),o=!0},p(t,o){let c=e;e=l(t),e===c?s[e].p(t,o):(D(),j(s[c],1,1,(()=>{s[c]=null})),F(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),P(n,1),n.m(r.parentNode,r))},i(t){o||(P(n),o=!0)},o(t){j(n),o=!1},d(t){s[e].d(t),t&&a(r)}}}function or(e){let n,r,o,i,s;return{c(){n=h("It's also "),r=d("a"),r.textContent="installable",o=h(",\nso you can pop it out of your browser like a regular app."),p(r,"href","#")},m(t,l){c(t,n,l),c(t,r,l),c(t,o,l),i||(s=g(r,"click",e[8]),i=!0)},p:t,d(t){t&&a(n),t&&a(r),t&&a(o),i=!1,s()}}}function ir(e){let n;return{c(){n=h("...")},m(t,e){c(t,n,e)},p:t,i:t,o:t,d(t){t&&a(n)}}}function sr(e){let n,r,o=e[0],s=lr(e);return{c(){s.c(),n=m()},m(t,e){s.m(t,e),c(t,n,e),r=!0},p(e,r){1&r&&i(o,o=e[0])?(D(),j(s,1,1,t),F(),s=lr(e),s.c(),P(s),s.m(n.parentNode,n)):s.p(e,r)},i(t){r||(P(s),r=!0)},o(t){j(s),r=!1},d(t){t&&a(n),s.d(t)}}}function lr(t){let e,n;return e=new tn({props:{item:t[0],data:t[3]}}),{c(){W(e.$$.fragment)},m(t,r){U(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.item=t[0]),8&n&&(r.data=t[3]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function cr(t){let e,n,o,i,s,u,h,m,y,v,M,x,O,C,w;const I=[rr,nr,er],E=[];function A(t,e){return t[0]?0:t[1]?1:2}return M=A(t),x=E[M]=I[M](t),{c(){e=d("header"),n=d("nav"),o=d("div"),i=d("strong"),s=d("a"),s.textContent="Hitchhiker's Guide to the Cataclysm",u=f(),h=d("div"),m=d("input"),y=f(),v=d("main"),x.c(),p(s,"href","#"),p(o,"class","title svelte-1n9l7uf"),b(m,"margin","0"),b(m,"width","100%"),p(m,"placeholder","Search..."),p(h,"class","search svelte-1n9l7uf"),p(n,"class","svelte-1n9l7uf"),p(e,"class","svelte-1n9l7uf"),p(v,"class","svelte-1n9l7uf")},m(r,a){c(r,e,a),l(e,n),l(n,o),l(o,i),l(i,s),l(n,u),l(n,h),l(h,m),_(m,t[1]),c(r,y,a),c(r,v,a),E[M].m(v,null),O=!0,C||(w=[g(tr,"hashchange",t[4]),g(s,"click",t[6]),g(m,"input",t[7]),g(m,"input",t[5])],C=!0)},p(t,[e]){2&e&&m.value!==t[1]&&_(m,t[1]);let n=M;M=A(t),M===n?E[M].p(t,e):(D(),j(E[n],1,1,(()=>{E[n]=null})),F(),x=E[M],x?x.p(t,e):(x=E[M]=I[M](t),x.c()),P(x,1),x.m(v,null))},i(t){O||(P(x),O=!0)},o(t){j(x),O=!1},d(t){t&&a(e),t&&a(y),t&&a(v),E[M].d(),C=!1,r(w)}}}function ar(t,e,n){let r;s(t,nt,(t=>n(3,r=t)));let o=null;function i(){const t=window.location.hash.slice(1);let e;if(e=/^\/([^\/]+)\/(.+)$/.exec(t)){const[,t,r]=e;n(0,o={type:t,id:r}),window.scrollTo(0,0)}else n(0,o=null)}var l;l=i,x().$$.on_mount.push(l);let c="";let a;window.addEventListener("beforeinstallprompt",(t=>{n(2,a=t)}));return[o,c,a,r,i,()=>{o&&history.pushState(null,"",location.href.replace(/#.*$/,"")),n(0,o=null)},()=>n(1,c=""),function(){c=this.value,n(1,c)},t=>{t.preventDefault(),a.prompt()}]}class ur extends K{constructor(t){super(),Y(this,t,ar,cr,i,{})}}"serviceWorker"in navigator&&(navigator.serviceWorker.register("service-worker.js").catch((t=>{console.log("ServiceWorker registration failed: ",t)})),navigator.serviceWorker.ready.then((function(){new ur({target:document.body})})))}();
//# sourceMappingURL=bundle.js.map
